import{b as e,c as t,r as n,u as r,d as a,L as s,N as l,e as i,H as o,f as c,h as u}from"./react-vendor-CKXzLs2b.js";import{g as d,s as h,a as m,c as f,b as p,u as g,d as x,e as y,f as b}from"./form-vendor-xI1M85yc.js";import{L as v,M as w,T as j,a as N,P as k,C as S,u as C}from"./map-vendor-CHkeE7PQ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var E,_,P={exports:{}},T={};var A,L,I,O,z=(_||(_=1,P.exports=function(){if(E)return T;E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==n.key&&(a=""+n.key),"key"in n)for(var s in r={},n)"key"!==s&&(r[s]=n[s]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:a,ref:void 0!==n?n:null,props:r}}return T.Fragment=t,T.jsx=n,T.jsxs=n,T}()),P.exports),R={exports:{}},D={},B={exports:{}},F={};function q(){return L||(L=1,B.exports=(A||(A=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,l=s>>>1;r<l;){var i=2*(r+1)-1,o=e[i],c=i+1,u=e[c];if(0>a(o,n))c<s&&0>a(u,o)?(e[r]=u,e[c]=n,r=c):(e[r]=o,e[i]=n,r=i);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var o=[],c=[],u=1,d=null,h=3,m=!1,f=!1,p=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var a=n(c);null!==a;){if(null===a.callback)r(c);else{if(!(a.startTime<=e))break;r(c),a.sortIndex=a.expirationTime,t(o,a)}a=n(c)}}function w(e){if(p=!1,v(e),!f)if(null!==n(o))f=!0,N||(N=!0,j());else{var t=n(c);null!==t&&A(w,t.startTime-e)}}var j,N=!1,k=-1,S=5,C=-1;function E(){return!(!g&&e.unstable_now()-C<S)}function _(){if(g=!1,N){var t=e.unstable_now();C=t;var a=!0;try{e:{f=!1,p&&(p=!1,y(k),k=-1),m=!0;var s=h;try{t:{for(v(t),d=n(o);null!==d&&!(d.expirationTime>t&&E());){var l=d.callback;if("function"==typeof l){d.callback=null,h=d.priorityLevel;var i=l(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof i){d.callback=i,v(t),a=!0;break t}d===n(o)&&r(o),v(t)}else r(o);d=n(o)}if(null!==d)a=!0;else{var u=n(c);null!==u&&A(w,u.startTime-t),a=!1}}break e}finally{d=null,h=s,m=!1}a=void 0}}finally{a?j():N=!1}}}if("function"==typeof b)j=function(){b(_)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=_,j=function(){T.postMessage(null)}}else j=function(){x(_,0)};function A(t,n){k=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,a,s){var l=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?l+s:l,r){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return r={id:u++,callback:a,priorityLevel:r,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(r.sortIndex=s,t(c,r),null===n(o)&&r===n(c)&&(p?(y(k),k=-1):p=!0,A(w,s-l))):(r.sortIndex=i,t(o,r),f||m||(f=!0,N||(N=!0,j()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(F)),F)),B.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function M(){if(I)return D;I=1;var n=q(),r=e(),a=t();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(i(e)!==e)throw Error(s(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var d=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),v=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case x:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case v:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var L=Array.isArray,O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},B=[],F=-1;function M(e){return{current:e}}function $(e){0>F||(e.current=B[F],B[F]=null,F--)}function U(e,t){F++,B[F]=e.current,e.current=t}var H=M(null),V=M(null),K=M(null),W=M(null);function G(e,t){switch(U(K,t),U(V,e),U(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ld(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ld(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(H),U(H,e)}function J(){$(H),$(V),$(K)}function Q(e){null!==e.memoizedState&&U(W,e);var t=H.current,n=id(t,e.type);t!==n&&(U(V,e),U(H,n))}function Y(e){V.current===e&&($(H),$(V)),W.current===e&&($(W),Qd._currentValue=R)}var X=Object.prototype.hasOwnProperty,Z=n.unstable_scheduleCallback,ee=n.unstable_cancelCallback,te=n.unstable_shouldYield,ne=n.unstable_requestPaint,re=n.unstable_now,ae=n.unstable_getCurrentPriorityLevel,se=n.unstable_ImmediatePriority,le=n.unstable_UserBlockingPriority,ie=n.unstable_NormalPriority,oe=n.unstable_LowPriority,ce=n.unstable_IdlePriority,ue=n.log,de=n.unstable_setDisableYieldValue,he=null,me=null;function fe(e){if("function"==typeof ue&&de(e),me&&"function"==typeof me.setStrictMode)try{me.setStrictMode(he,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/xe|0)|0},ge=Math.log,xe=Math.LN2;var ye=256,be=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&r;return 0!==i?0!==(r=i&~s)?a=ve(r):0!==(l&=i)?a=ve(l):n||0!==(n=i&~e)&&(a=ve(n)):0!==(i=r&~s)?a=ve(i):0!==l?a=ve(l):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&4194048&n)?t:a}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function Se(){var e=be;return!(62914560&(be<<=1))&&(be=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Le(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Ie=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ie,ze="__reactProps$"+Ie,Re="__reactContainer$"+Ie,De="__reactEvents$"+Ie,Be="__reactListeners$"+Ie,Fe="__reactHandles$"+Ie,qe="__reactResources$"+Ie,Me="__reactMarker$"+Ie;function $e(e){delete e[Oe],delete e[ze],delete e[De],delete e[Be],delete e[Fe]}function Ue(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Oe])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Oe]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ke(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Me]=!0}var Ge=new Set,Je={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Je[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Xe,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(a=t,X.call(nt,a)||!X.call(tt,a)&&(et.test(a)?nt[a]=!0:(tt[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function lt(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ze}var it=!1;function ot(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&r&&"string"==typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),l=s[0],i=s[1];if(l&&i){var o=l.split("\n"),c=i.split("\n");for(a=r=0;r<o.length&&!o[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===o.length||a===c.length)for(r=o.length-1,a=c.length-1;1<=r&&0<=a&&o[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(o[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||o[r]!==c[a]){var u="\n"+o[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?lt(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return lt(e.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return lt("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function xt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,a,s,l,i){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?vt(e,l,dt(t)):null!=n?vt(e,l,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.name=""+dt(i):e.removeAttribute("name")}function bt(e,t,n,r,a,s,l,i){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!=typeof r&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function jt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(L(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Ct(e,a,r)}else for(var l in t)t.hasOwnProperty(l)&&Ct(e,l,t[l])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,zt=null;function Rt(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[ze]||null;if(!a)throw Error(s(90));yt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":jt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Bt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Ot||null!==zt)&&(Uc(),Ot&&(t=Ot,e=zt,zt=Ot=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[ze]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var qt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Mt=!1;if(qt)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(zh){Mt=!1}var Ut=null,Ht=null,Vt=null;function Kt(){if(Vt)return Vt;var e,t,n=Ht,r=n.length,a="value"in Ut?Ut.value:Ut.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[s-t];t++);return Vt=a.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Jt(){return!1}function Qt(e){function t(t,n,r,a,s){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Gt:Jt,this.isPropagationStopped=Jt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Xt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Qt(en),nn=d({},en,{view:0,detail:0}),rn=Qt(nn),an=d({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Yt=e.screenX-Zt.screenX,Xt=e.screenY-Zt.screenY):Xt=Yt=0,Zt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),sn=Qt(an),ln=Qt(d({},an,{dataTransfer:0})),on=Qt(d({},nn,{relatedTarget:0})),cn=Qt(d({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(d({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Qt(d({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function gn(){return pn}var xn=Qt(d({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Qt(d({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Qt(d({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),vn=Qt(d({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Qt(d({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),jn=Qt(d({},en,{newState:0,oldState:0})),Nn=[9,13,27,32],kn=qt&&"CompositionEvent"in window,Sn=null;qt&&"documentMode"in document&&(Sn=document.documentMode);var Cn=qt&&"TextEvent"in window&&!Sn,En=qt&&(!kn||Sn&&8<Sn&&11>=Sn),_n=String.fromCharCode(32),Pn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function zn(e,t,n,r){Ot?zt?zt.push(r):zt=[r]:Ot=r,0<(t=Ku(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Dn=null;function Bn(e){Bu(e,0)}function Fn(e){if(ft(Ve(e)))return e}function qn(e,t){if("change"===e)return t}var Mn=!1;if(qt){var $n;if(qt){var Un="oninput"in document;if(!Un){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Un="function"==typeof Hn.oninput}$n=Un}else $n=!1;Mn=$n&&(!document.documentMode||9<document.documentMode)}function Vn(){Rn&&(Rn.detachEvent("onpropertychange",Kn),Dn=Rn=null)}function Kn(e){if("value"===e.propertyName&&Fn(Dn)){var t=[];zn(t,Dn,e,It(e)),Bt(Bn,t)}}function Wn(e,t,n){"focusin"===e?(Vn(),Dn=n,(Rn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Dn)}function Jn(e,t){if("click"===e)return Fn(t)}function Qn(e,t){if("input"===e||"change"===e)return Fn(t)}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!X.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=qt&&"documentMode"in document&&11>=document.documentMode,sr=null,lr=null,ir=null,or=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==sr||sr!==pt(r)||("selectionStart"in(r=sr)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Xn(ir,r)||(ir=r,0<(r=Ku(lr,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},mr={};function fr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return hr[e]=n[t];return e}qt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var pr=fr("animationend"),gr=fr("animationiteration"),xr=fr("animationstart"),yr=fr("transitionrun"),br=fr("transitionstart"),vr=fr("transitioncancel"),wr=fr("transitionend"),jr=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){jr.set(e,t),Qe(t,[e])}Nr.push("scrollEnd");var Sr=new WeakMap;function Cr(e,t){if("object"==typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Er=[],_r=0,Pr=0;function Tr(){for(var e=_r,t=Pr=_r=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var a=Er[t];Er[t++]=null;var s=Er[t];if(Er[t++]=null,null!==r&&null!==a){var l=r.pending;null===l?a.next=a:(a.next=l.next,l.next=a),r.pending=a}0!==s&&Or(n,a,s)}}function Ar(e,t,n,r){Er[_r++]=e,Er[_r++]=t,Er[_r++]=n,Er[_r++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Lr(e,t,n,r){return Ar(e,t,n,r),zr(e)}function Ir(e,t){return Ar(e,null,null,t),zr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-pe(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function zr(e){if(50<Oc)throw Oc=0,zc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Dr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,n,r,a,l){var i=0;if(r=e,"function"==typeof e)Fr(e)&&(i=1);else if("string"==typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Br(31,n,t,a)).elementType=C,e.lanes=l,e;case p:return Ur(n.children,a,l,t);case g:i=8,a|=24;break;case x:return(e=Br(12,n,t,2|a)).elementType=x,e.lanes=l,e;case j:return(e=Br(13,n,t,a)).elementType=j,e.lanes=l,e;case N:return(e=Br(19,n,t,a)).elementType=N,e.lanes=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:case v:i=10;break e;case b:i=9;break e;case w:i=11;break e;case k:i=14;break e;case S:i=16,r=null;break e}i=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Br(i,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Ur(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=[],Wr=0,Gr=null,Jr=0,Qr=[],Yr=0,Xr=null,Zr=1,ea="";function ta(e,t){Kr[Wr++]=Jr,Kr[Wr++]=Gr,Gr=e,Jr=t}function na(e,t,n){Qr[Yr++]=Zr,Qr[Yr++]=ea,Qr[Yr++]=Xr,Xr=e;var r=Zr;e=ea;var a=32-pe(r)-1;r&=~(1<<a),n+=1;var s=32-pe(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Zr=1<<32-pe(t)+a|n<<a|r,ea=s+e}else Zr=1<<s|n<<a|r,ea=e}function ra(e){null!==e.return&&(ta(e,1),na(e,1,0))}function aa(e){for(;e===Gr;)Gr=Kr[--Wr],Kr[Wr]=null,Jr=Kr[--Wr],Kr[Wr]=null;for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,ea=Qr[--Yr],Qr[Yr]=null,Zr=Qr[--Yr],Qr[Yr]=null}var sa=null,la=null,ia=!1,oa=null,ca=!1,ua=Error(s(519));function da(e){throw xa(Cr(Error(s(418,"")),e)),ua}function ha(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[ze]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)Fu(Ru[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),mt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),Nt(t,r.value,r.defaultValue,r.children),mt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||da(e)}function ma(e){for(sa=e.return;sa;)switch(sa.tag){case 5:case 13:return void(ca=!1);case 27:case 3:return void(ca=!0);default:sa=sa.return}}function fa(e){if(e!==sa)return!1;if(!ia)return ma(e),ia=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&la&&da(e),ma(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){la=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}la=null}}else 27===n?(n=la,pd(e.type)?(e=vd,vd=null,la=e):la=n):la=sa?bd(e.stateNode.nextSibling):null;return!0}function pa(){la=sa=null,ia=!1}function ga(){var e=oa;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),oa=null),e}function xa(e){null===oa?oa=[e]:oa.push(e)}var ya=M(null),ba=null,va=null;function wa(e,t,n){U(ya,t._currentValue),t._currentValue=n}function ja(e){e._currentValue=ya.current,$(ya)}function Na(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){var i=a.child;l=l.firstContext;e:for(;null!==l;){var o=l;l=a;for(var c=0;c<t.length;c++)if(o.context===t[c]){l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Na(l.return,n,e),r||(i=null);break e}l=o.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Na(i,n,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function Sa(e,t,n,r){e=null;for(var a=t,l=!1;null!==a;){if(!l)if(524288&a.flags)l=!0;else if(262144&a.flags)break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(s(387));if(null!==(i=i.memoizedProps)){var o=a.type;Yn(a.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(a===W.current){if(null===(i=a.alternate))throw Error(s(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}a=a.return}null!==e&&ka(t,e,n,r),t.flags|=262144}function Ca(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ea(e){ba=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _a(e){return Ta(ba,e)}function Pa(e,t){return null===ba&&Ea(e),Ta(e,t)}function Ta(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Aa="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},La=n.unstable_scheduleCallback,Ia=n.unstable_NormalPriority,Oa={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function za(){return{controller:new Aa,data:new Map,refCount:0}}function Ra(e){e.refCount--,0===e.refCount&&La(Ia,function(){e.controller.abort()})}var Da=null,Ba=0,Fa=0,qa=null;function Ma(){if(0===--Ba&&null!==Da){null!==qa&&(qa.status="fulfilled");var e=Da;Da=null,Fa=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $a=O.S;O.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Da){var n=Da=[];Ba=0,Fa=Au(),qa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ba++,t.then(Ma,Ma)}(0,t),null!==$a&&$a(e,t)};var Ua=M(null);function Ha(){var e=Ua.current;return null!==e?e:sc.pooledCache}function Va(e,t){U(Ua,null===t?Ua.current:t.pool)}function Ka(){var e=Ha();return null===e?null:{parent:Oa._currentValue,pool:e}}var Wa=Error(s(460)),Ga=Error(s(474)),Ja=Error(s(542)),Qa={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Za(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xa,Xa);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e}throw es=t,Wa}}var es=null;function ts(){if(null===es)throw Error(s(459));var e=es;return es=null,e}function ns(e){if(e===Wa||e===Ja)throw Error(s(483))}var rs=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function is(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ac){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=zr(e),Or(e,null,n),t}return Ar(e,r,t,n),zr(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function cs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==qa)throw qa}}function hs(e,t,n,r){us=!1;var a=e.updateQueue;rs=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=o))}if(null!==s){var h=a.baseState;for(l=0,u=c=o=null,i=s;;){var m=-536870913&i.lane,f=m!==i.lane;if(f?(ic&m)===m:(r&m)===m){0!==m&&m===Fa&&(us=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var p=e,g=i;m=t;var x=n;switch(g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(x,h,m);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(m="function"==typeof(p=g.payload)?p.call(x,h,m):p))break e;h=d({},h,m);break e;case 2:rs=!0}}null!==(m=i.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[m]:f.push(m))}else f={lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,o=h):u=u.next=f,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(f=i).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===u&&(o=h),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),pc|=l,e.lanes=l,e.memoizedState=h}}function ms(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function fs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ms(n[e],t)}var ps=M(null),gs=M(0);function xs(e,t){U(gs,e=mc),U(ps,t),mc=e|t.baseLanes}function ys(){U(gs,mc),U(ps,ps.current)}function bs(){mc=gs.current,$(ps),$(gs)}var vs=0,ws=null,js=null,Ns=null,ks=!1,Ss=!1,Cs=!1,Es=0,_s=0,Ps=null,Ts=0;function As(){throw Error(s(321))}function Ls(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Is(e,t,n,r,a,s){return vs=s,ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Wl:Gl,Cs=!1,s=n(r,a),Cs=!1,Ss&&(s=zs(t,n,r,a)),Os(e),s}function Os(e){O.H=Kl;var t=null!==js&&null!==js.next;if(vs=0,Ns=js=ws=null,ks=!1,_s=0,Ps=null,t)throw Error(s(300));null===e||_i||null!==(e=e.dependencies)&&Ca(e)&&(_i=!0)}function zs(e,t,n,r){ws=e;var a=0;do{if(Ss&&(Ps=null),_s=0,Ss=!1,25<=a)throw Error(s(301));if(a+=1,Ns=js=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}O.H=Jl,l=t(n,r)}while(Ss);return l}function Rs(){var e=O.H,t=e.useState()[0];return t="function"==typeof t.then?$s(t):t,e=e.useState()[0],(null!==js?js.memoizedState:null)!==e&&(ws.flags|=1024),t}function Ds(){var e=0!==Es;return Es=0,e}function Bs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fs(e){if(ks){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ks=!1}vs=0,Ns=js=ws=null,Ss=!1,_s=Es=0,Ps=null}function qs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ns?ws.memoizedState=Ns=e:Ns=Ns.next=e,Ns}function Ms(){if(null===js){var e=ws.alternate;e=null!==e?e.memoizedState:null}else e=js.next;var t=null===Ns?ws.memoizedState:Ns.next;if(null!==t)Ns=t,js=e;else{if(null===e){if(null===ws.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(js=e).memoizedState,baseState:js.baseState,baseQueue:js.baseQueue,queue:js.queue,next:null},null===Ns?ws.memoizedState=Ns=e:Ns=Ns.next=e}return Ns}function $s(e){var t=_s;return _s+=1,null===Ps&&(Ps=[]),e=Za(Ps,e,t),t=ws,null===(null===Ns?t.memoizedState:Ns.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Wl:Gl),e}function Us(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return $s(e);if(e.$$typeof===v)return _a(e)}throw Error(s(438,String(e)))}function Hs(e){var t=null,n=ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ws.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Vs(e,t){return"function"==typeof t?t(e):t}function Ks(e){return Ws(Ms(),js,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,l=r.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}t.baseQueue=a=l,r.pending=null}if(l=e.baseState,null===a)e.memoizedState=l;else{var o=i=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(vs&h)===h){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fa&&(d=!0);else{if((vs&m)===m){u=u.next,m===Fa&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=h,i=l):c=c.next=h,ws.lanes|=m,pc|=m}h=u.action,Cs&&n(l,h),l=u.hasEagerState?u.eagerState:n(l,h)}else m={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,i=l):c=c.next=m,ws.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?i=l:c.next=o,!Yn(l,e.memoizedState)&&(_i=!0,d&&null!==(n=qa)))throw n;e.memoizedState=l,e.baseState=i,e.baseQueue=c,r.lastRenderedState=l}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gs(e){var t=Ms(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);Yn(l,t.memoizedState)||(_i=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Js(e,t,n){var r=ws,a=Ms(),l=ia;if(l){if(void 0===n)throw Error(s(407));n=n()}else n=t();var i=!Yn((js||a).memoizedState,n);if(i&&(a.memoizedState=n,_i=!0),a=a.queue,yl(2048,8,Xs.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||null!==Ns&&1&Ns.memoizedState.tag){if(r.flags|=2048,pl(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,a,n,t),null),null===sc)throw Error(s(349));l||124&vs||Qs(r,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ys(e,t,n,r){t.value=n,t.getSnapshot=r,Zs(t)&&el(e)}function Xs(e,t,n){return n(function(){Zs(t)&&el(e)})}function Zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function el(e){var t=Ir(e,2);null!==t&&Bc(t,e,2)}function tl(e){var t=qs();if("function"==typeof e){var n=e;if(e=n(),Cs){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:e},t}function nl(e,t,n,r){return e.baseState=n,Ws(e,js,"function"==typeof r?r:Vs)}function rl(e,t,n,r,a){if(Ul(e))throw Error(s(485));if(null!==(e=t.action)){var l={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==O.T?n(!0):l.isTransition=!1,r(l),null===(n=t.pending)?(l.next=t.pending=l,al(t,l)):(l.next=n.next,t.pending=n.next=l)}}function al(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=O.T,l={};O.T=l;try{var i=n(a,r),o=O.S;null!==o&&o(l,i),sl(e,t,i)}catch(c){il(e,t,c)}finally{O.T=s}}else try{sl(e,t,s=n(a,r))}catch(u){il(e,t,u)}}function sl(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ll(e,t,n)},function(n){return il(e,t,n)}):ll(e,t,n)}function ll(e,t,n){t.status="fulfilled",t.value=n,ol(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,al(e,n)))}function il(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ol(t),t=t.next}while(t!==r)}e.action=null}function ol(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cl(e,t){return t}function ul(e,t){if(ia){var n=sc.formState;if(null!==n){e:{var r=ws;if(ia){if(la){t:{for(var a=la,s=ca;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=bd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){la=bd(a.nextSibling),r="F!"===a.data;break e}}da(r)}r=!1}r&&(t=n[0])}}return(n=qs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},n.queue=r,n=ql.bind(null,ws,r),r.dispatch=n,r=tl(!1),s=$l.bind(null,ws,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=qs()).queue=a,n=rl.bind(null,ws,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function dl(e){return hl(Ms(),js,e)}function hl(e,t,n){if(t=Ws(e,t,cl)[0],e=Ks(Vs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=$s(t)}catch(l){if(l===Wa)throw Ja;throw l}else r=t;var a=(t=Ms()).queue,s=a.dispatch;return n!==t.memoizedState&&(ws.flags|=2048,pl(9,{destroy:void 0,resource:void 0},ml.bind(null,a,n),null)),[r,s,e]}function ml(e,t){e.action=t}function fl(e){var t=Ms(),n=js;if(null!==n)return hl(t,n,e);Ms(),t=t.memoizedState;var r=(n=Ms()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gl(){return Ms().memoizedState}function xl(e,t,n,r){var a=qs();r=void 0===r?null:r,ws.flags|=e,a.memoizedState=pl(1|t,{destroy:void 0,resource:void 0},n,r)}function yl(e,t,n,r){var a=Ms();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==js&&null!==r&&Ls(r,js.memoizedState.deps)?a.memoizedState=pl(t,s,n,r):(ws.flags|=e,a.memoizedState=pl(1|t,s,n,r))}function bl(e,t){xl(8390656,8,e,t)}function vl(e,t){yl(2048,8,e,t)}function wl(e,t){return yl(4,2,e,t)}function jl(e,t){return yl(4,4,e,t)}function Nl(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function kl(e,t,n){n=null!=n?n.concat([e]):null,yl(4,4,Nl.bind(null,t,e),n)}function Sl(){}function Cl(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ls(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function El(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ls(t,r[1]))return r[0];if(r=e(),Cs){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r}function _l(e,t,n){return void 0===n||1073741824&vs?e.memoizedState=t:(e.memoizedState=n,e=Dc(),ws.lanes|=e,pc|=e,n)}function Pl(e,t,n,r){return Yn(n,t)?n:null!==ps.current?(e=_l(e,n,r),Yn(e,t)||(_i=!0),e):42&vs?(e=Dc(),ws.lanes|=e,pc|=e,t):(_i=!0,e.memoizedState=n)}function Tl(e,t,n,r,a){var s=z.p;z.p=0!==s&&8>s?s:8;var l,i,o,c=O.T,u={};O.T=u,$l(e,!1,t,n);try{var d=a(),h=O.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Ml(e,t,(l=r,i=[],o={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},d.then(function(){o.status="fulfilled",o.value=l;for(var e=0;e<i.length;e++)(0,i[e])(l)},function(e){for(o.status="rejected",o.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),o),Rc());else Ml(e,t,r,Rc())}catch(m){Ml(e,t,{then:function(){},status:"rejected",reason:m},Rc())}finally{z.p=s,O.T=c}}function Al(){}function Ll(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Il(e).queue;Tl(e,a,t,R,null===n?Al:function(){return Ol(e),n(r)})}function Il(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ol(e){Ml(e,Il(e).next.queue,{},Rc())}function zl(){return _a(Qd)}function Rl(){return Ms().memoizedState}function Dl(){return Ms().memoizedState}function Bl(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=is(t,e=ls(n),n);return null!==r&&(Bc(r,t,n),os(r,t,n)),t={cache:za()},void(e.payload=t)}t=t.return}}function Fl(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ul(e)?Hl(t,n):null!==(n=Lr(e,t,n,r))&&(Bc(n,e,r),Vl(n,t,r))}function ql(e,t,n){Ml(e,t,n,Rc())}function Ml(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ul(e))Hl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,n);if(a.hasEagerState=!0,a.eagerState=i,Yn(i,l))return Ar(e,t,a,0),null===sc&&Tr(),!1}catch(o){}if(null!==(n=Lr(e,t,a,r)))return Bc(n,e,r),Vl(n,t,r),!0}return!1}function $l(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Ul(e)){if(t)throw Error(s(479))}else null!==(t=Lr(e,n,r,2))&&Bc(t,e,2)}function Ul(e){var t=e.alternate;return e===ws||null!==t&&t===ws}function Hl(e,t){Ss=ks=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vl(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Kl={readContext:_a,use:Us,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useLayoutEffect:As,useInsertionEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useSyncExternalStore:As,useId:As,useHostTransitionStatus:As,useFormState:As,useActionState:As,useOptimistic:As,useMemoCache:As,useCacheRefresh:As},Wl={readContext:_a,use:Us,useCallback:function(e,t){return qs().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:bl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,xl(4194308,4,Nl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){xl(4,2,e,t)},useMemo:function(e,t){var n=qs();t=void 0===t?null:t;var r=e();if(Cs){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=qs();if(void 0!==n){var a=n(t);if(Cs){fe(!0);try{n(t)}finally{fe(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Fl.bind(null,ws,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},qs().memoizedState=e},useState:function(e){var t=(e=tl(e)).queue,n=ql.bind(null,ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sl,useDeferredValue:function(e,t){return _l(qs(),e,t)},useTransition:function(){var e=tl(!1);return e=Tl.bind(null,ws,e.queue,!0,!1),qs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ws,a=qs();if(ia){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===sc)throw Error(s(349));124&ic||Qs(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,bl(Xs.bind(null,r,l,e),[e]),r.flags|=2048,pl(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,l,n,t),null),n},useId:function(){var e=qs(),t=sc.identifierPrefix;if(ia){var n=ea;t="«"+t+"R"+(n=(Zr&~(1<<32-pe(Zr)-1)).toString(32)+n),0<(n=Es++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Ts++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:zl,useFormState:ul,useActionState:ul,useOptimistic:function(e){var t=qs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$l.bind(null,ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hs,useCacheRefresh:function(){return qs().memoizedState=Bl.bind(null,ws)}},Gl={readContext:_a,use:Us,useCallback:Cl,useContext:_a,useEffect:vl,useImperativeHandle:kl,useInsertionEffect:wl,useLayoutEffect:jl,useMemo:El,useReducer:Ks,useRef:gl,useState:function(){return Ks(Vs)},useDebugValue:Sl,useDeferredValue:function(e,t){return Pl(Ms(),js.memoizedState,e,t)},useTransition:function(){var e=Ks(Vs)[0],t=Ms().memoizedState;return["boolean"==typeof e?e:$s(e),t]},useSyncExternalStore:Js,useId:Rl,useHostTransitionStatus:zl,useFormState:dl,useActionState:dl,useOptimistic:function(e,t){return nl(Ms(),0,e,t)},useMemoCache:Hs,useCacheRefresh:Dl},Jl={readContext:_a,use:Us,useCallback:Cl,useContext:_a,useEffect:vl,useImperativeHandle:kl,useInsertionEffect:wl,useLayoutEffect:jl,useMemo:El,useReducer:Gs,useRef:gl,useState:function(){return Gs(Vs)},useDebugValue:Sl,useDeferredValue:function(e,t){var n=Ms();return null===js?_l(n,e,t):Pl(n,js.memoizedState,e,t)},useTransition:function(){var e=Gs(Vs)[0],t=Ms().memoizedState;return["boolean"==typeof e?e:$s(e),t]},useSyncExternalStore:Js,useId:Rl,useHostTransitionStatus:zl,useFormState:fl,useActionState:fl,useOptimistic:function(e,t){var n=Ms();return null!==js?nl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hs,useCacheRefresh:Dl},Ql=null,Yl=0;function Xl(e){var t=Yl;return Yl+=1,null===Ql&&(Ql=[]),Za(Ql,e,t)}function Zl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ei(e,t){if(t.$$typeof===h)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ti(e){return(0,e._init)(e._payload)}function ni(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=qr(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===p?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===S&&ti(s)===t.type)?(Zl(t=a(t,n.props),n),t.return=e,t):(Zl(t=$r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case m:return Zl(n=$r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Vr(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(L(t)||P(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,Xl(t),n);if(t.$$typeof===v)return h(e,Pa(e,t),n);ei(e,t)}return null}function g(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?c(e,t,n,r):null;case f:return n.key===a?u(e,t,n,r):null;case S:return g(e,t,n=(a=n._init)(n._payload),r)}if(L(n)||P(n))return null!==a?null:d(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Xl(n),r);if(n.$$typeof===v)return g(e,t,Pa(e,n),r);ei(e,n)}return null}function x(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return x(e,t,n,r=(0,r._init)(r._payload),a)}if(L(r)||P(r))return d(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return x(e,t,n,Xl(r),a);if(r.$$typeof===v)return x(e,t,n,Pa(t,r),a);ei(t,r)}return null}function y(o,c,u,d){if("object"==typeof u&&null!==u&&u.type===p&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===p){if(7===c.tag){n(o,c.sibling),(d=a(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===S&&ti(b)===c.type){n(o,c.sibling),Zl(d=a(c,u.props),u),d.return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===p?((d=Ur(u.props.children,o.mode,d,u.key)).return=o,o=d):(Zl(d=$r(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return i(o);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(d=a(c,u.children||[])).return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}(d=Vr(u,o.mode,d)).return=o,o=d}return i(o);case S:return y(o,c,u=(b=u._init)(u._payload),d)}if(L(u))return function(a,s,i,o){for(var c=null,u=null,d=s,m=s=0,f=null;null!==d&&m<i.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var p=g(a,d,i[m],o);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(a,d),s=l(p,s,m),null===u?c=p:u.sibling=p,u=p,d=f}if(m===i.length)return n(a,d),ia&&ta(a,m),c;if(null===d){for(;m<i.length;m++)null!==(d=h(a,i[m],o))&&(s=l(d,s,m),null===u?c=d:u.sibling=d,u=d);return ia&&ta(a,m),c}for(d=r(d);m<i.length;m++)null!==(f=x(d,a,m,i[m],o))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),s=l(f,s,m),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(a,e)}),ia&&ta(a,m),c}(o,c,u,d);if(P(u)){if("function"!=typeof(b=P(u)))throw Error(s(150));return function(a,i,o,c){if(null==o)throw Error(s(151));for(var u=null,d=null,m=i,f=i=0,p=null,y=o.next();null!==m&&!y.done;f++,y=o.next()){m.index>f?(p=m,m=null):p=m.sibling;var b=g(a,m,y.value,c);if(null===b){null===m&&(m=p);break}e&&m&&null===b.alternate&&t(a,m),i=l(b,i,f),null===d?u=b:d.sibling=b,d=b,m=p}if(y.done)return n(a,m),ia&&ta(a,f),u;if(null===m){for(;!y.done;f++,y=o.next())null!==(y=h(a,y.value,c))&&(i=l(y,i,f),null===d?u=y:d.sibling=y,d=y);return ia&&ta(a,f),u}for(m=r(m);!y.done;f++,y=o.next())null!==(y=x(m,a,f,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),i=l(y,i,f),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),ia&&ta(a,f),u}(o,c,u=b.call(u),d)}if("function"==typeof u.then)return y(o,c,Xl(u),d);if(u.$$typeof===v)return y(o,c,Pa(o,u),d);ei(o,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(d=a(c,u)).return=o,o=d):(n(o,c),(d=Hr(u,o.mode,d)).return=o,o=d),i(o)):n(o,c)}return function(e,t,n,r){try{Yl=0;var a=y(e,t,n,r);return Ql=null,a}catch(l){if(l===Wa||l===Ja)throw l;var s=Br(29,l,null,e.mode);return s.lanes=r,s.return=e,s}}}var ri=ni(!0),ai=ni(!1),si=M(null),li=null;function ii(e){var t=e.alternate;U(di,1&di.current),U(si,e),null===li&&(null===t||null!==ps.current||null!==t.memoizedState)&&(li=e)}function oi(e){if(22===e.tag){if(U(di,di.current),U(si,e),null===li){var t=e.alternate;null!==t&&null!==t.memoizedState&&(li=e)}}else ci()}function ci(){U(di,di.current),U(si,si.current)}function ui(e){$(si),li===e&&(li=null),$(di)}var di=M(0);function hi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fi={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=ls(r);a.payload=t,null!=n&&(a.callback=n),null!==(t=is(e,a,r))&&(Bc(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=ls(r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=is(e,a,r))&&(Bc(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=ls(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=is(e,r,n))&&(Bc(t,e,n),os(t,e,n))}};function pi(e,t,n,r,a,s,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,s))}function gi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fi.enqueueReplaceState(t,t.state,null)}function xi(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=d({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var yi="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function bi(e){yi(e)}function vi(e){}function wi(e){yi(e)}function ji(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ni(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ki(e,t,n){return(n=ls(n)).tag=3,n.payload={element:null},n.callback=function(){ji(e,t)},n}function Si(e){return(e=ls(e)).tag=3,e}function Ci(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Ni(t,n,r)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){Ni(t,n,r),"function"!=typeof a&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ei=Error(s(461)),_i=!1;function Pi(e,t,n,r){t.child=null===e?ai(t,null,n,r):ri(t,e.child,n,r)}function Ti(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var l={};for(var i in r)"ref"!==i&&(l[i]=r[i])}else l=r;return Ea(t),r=Is(e,t,n,l,s,a),i=Ds(),null===e||_i?(ia&&i&&ra(t),t.flags|=1,Pi(e,t,r,a),t.child):(Bs(e,t,a),Qi(e,t,a))}function Ai(e,t,n,r,a){if(null===e){var s=n.type;return"function"!=typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=$r(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Li(e,t,s,r,a))}if(s=e.child,!Yi(e,a)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(l,r)&&e.ref===t.ref)return Qi(e,t,a)}return t.flags|=1,(e=qr(s,r)).ref=t.ref,e.return=t,t.child=e}function Li(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(_i=!1,t.pendingProps=r=s,!Yi(e,a))return t.lanes=e.lanes,Qi(e,t,a);131072&e.flags&&(_i=!0)}}return Ri(e,t,n,r,a)}function Ii(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==s?s.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Oi(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Oi(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Va(0,null!==s?s.cachePool:null),null!==s?xs(t,s):ys(),oi(t)}else null!==s?(Va(0,s.cachePool),xs(t,s),ci(),t.memoizedState=null):(null!==e&&Va(0,null),ys(),ci());return Pi(e,t,a,n),t.child}function Oi(e,t,n,r){var a=Ha();return a=null===a?null:{parent:Oa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Va(0,null),ys(),oi(t),null!==e&&Sa(e,t,r,!0),null}function zi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ri(e,t,n,r,a){return Ea(t),n=Is(e,t,n,r,void 0,a),r=Ds(),null===e||_i?(ia&&r&&ra(t),t.flags|=1,Pi(e,t,n,a),t.child):(Bs(e,t,a),Qi(e,t,a))}function Di(e,t,n,r,a,s){return Ea(t),t.updateQueue=null,n=zs(t,r,n,a),Os(e),r=Ds(),null===e||_i?(ia&&r&&ra(t),t.flags|=1,Pi(e,t,n,s),t.child):(Bs(e,t,s),Qi(e,t,s))}function Bi(e,t,n,r,a){if(Ea(t),null===t.stateNode){var s=Rr,l=n.contextType;"object"==typeof l&&null!==l&&(s=_a(l)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fi,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},as(t),l=n.contextType,s.context="object"==typeof l&&null!==l?_a(l):Rr,s.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(mi(t,n,l,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(l=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),l!==s.state&&fi.enqueueReplaceState(s,s.state,null),hs(t,r,s,a),ds(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var i=t.memoizedProps,o=xi(n,i);s.props=o;var c=s.context,u=n.contextType;l=Rr,"object"==typeof u&&null!==u&&(l=_a(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i||c!==l)&&gi(t,s,r,l),rs=!1;var h=t.memoizedState;s.state=h,hs(t,r,s,a),ds(),c=t.memoizedState,i||h!==c||rs?("function"==typeof d&&(mi(t,n,d,r),c=t.memoizedState),(o=rs||pi(t,n,o,r,h,c,l))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ss(e,t),u=xi(n,l=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,o=Rr,"object"==typeof c&&null!==c&&(o=_a(c)),(c="function"==typeof(i=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==d||h!==o)&&gi(t,s,r,o),rs=!1,h=t.memoizedState,s.state=h,hs(t,r,s,a),ds();var m=t.memoizedState;l!==d||h!==m||rs||null!==e&&null!==e.dependencies&&Ca(e.dependencies)?("function"==typeof i&&(mi(t,n,i,r),m=t.memoizedState),(u=rs||pi(t,n,u,r,h,m,o)||null!==e&&null!==e.dependencies&&Ca(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,o),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,o)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=o,r=u):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,zi(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ri(t,e.child,null,a),t.child=ri(t,null,n,a)):Pi(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Qi(e,t,a),e}function Fi(e,t,n,r){return pa(),t.flags|=256,Pi(e,t,n,r),t.child}var qi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mi(e){return{baseLanes:e,cachePool:Ka()}}function $i(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Ui(e,t,n){var r,a=t.pendingProps,l=!1,i=!!(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&!!(2&di.current)),r&&(l=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(ia){if(l?ii(t):ci(),ia){var o,c=la;if(o=c){e:{for(o=c,c=ca;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=bd(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Zr,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},(o=Br(18,null,null,0)).stateNode=c,o.return=t,t.child=o,sa=t,la=null,o=!0):o=!1}o||da(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;ui(t)}return c=a.children,a=a.fallback,l?(ci(),c=Vi({mode:"hidden",children:c},l=t.mode),a=Ur(a,l,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(l=t.child).memoizedState=Mi(n),l.childLanes=$i(e,r,n),t.memoizedState=qi,a):(ii(t),Hi(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(i)256&t.flags?(ii(t),t.flags&=-257,t=Ki(e,t,n)):null!==t.memoizedState?(ci(),t.child=e.child,t.flags|=128,t=null):(ci(),l=a.fallback,c=t.mode,a=Vi({mode:"visible",children:a.children},c),(l=Ur(l,c,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ri(t,e.child,null,n),(a=t.child).memoizedState=Mi(n),a.childLanes=$i(e,r,n),t.memoizedState=qi,t=l);else if(ii(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(s(419))).stack="",a.digest=r,xa({value:a,source:null,stack:null}),t=Ki(e,t,n)}else if(_i||Sa(e,t,n,!1),r=0!==(n&e.childLanes),_i||r){if(null!==(r=sc)&&(0!==(a=0!==((a=42&(a=n&-n)?1:Te(a))&(r.suspendedLanes|n))?0:a)&&a!==o.retryLane))throw o.retryLane=a,Ir(e,a),Bc(r,e,a),Ei;"$?"===c.data||Jc(),t=Ki(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,la=bd(c.nextSibling),sa=t,ia=!0,oa=null,ca=!1,null!==e&&(Qr[Yr++]=Zr,Qr[Yr++]=ea,Qr[Yr++]=Xr,Zr=e.id,ea=e.overflow,Xr=t),(t=Hi(t,a.children)).flags|=4096);return t}return l?(ci(),l=a.fallback,c=t.mode,u=(o=e.child).sibling,(a=qr(o,{mode:"hidden",children:a.children})).subtreeFlags=65011712&o.subtreeFlags,null!==u?l=qr(u,l):(l=Ur(l,c,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,null===(c=e.child.memoizedState)?c=Mi(n):(null!==(o=c.cachePool)?(u=Oa._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Ka(),c={baseLanes:c.baseLanes|n,cachePool:o}),l.memoizedState=c,l.childLanes=$i(e,r,n),t.memoizedState=qi,a):(ii(t),e=(n=e.child).sibling,(n=qr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hi(e,t){return(t=Vi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vi(e,t){return(e=Br(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ki(e,t,n){return ri(t,e.child,null,n),(e=Hi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Na(e.return,t,n)}function Gi(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Ji(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Pi(e,t,r.children,n),2&(r=di.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,n,t);else if(19===e.tag)Wi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(di,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===hi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Gi(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===hi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Gi(t,!0,n,null,s);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=qr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ca(e))}function Xi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_i=!0;else{if(!(Yi(e,n)||128&t.flags))return _i=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),wa(0,Oa,e.memoizedState.cache),pa();break;case 27:case 5:Q(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:wa(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ii(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ui(e,t,n):(ii(t),null!==(e=Qi(e,t,n))?e.sibling:null);ii(t);break;case 19:var a=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Sa(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Ji(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(di,di.current),r)break;return null;case 22:case 23:return t.lanes=0,Ii(e,t,n);case 24:wa(0,Oa,e.memoizedState.cache)}return Qi(e,t,n)}(e,t,n);_i=!!(131072&e.flags)}else _i=!1,ia&&1048576&t.flags&&na(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((a=r.$$typeof)===w){t.tag=11,t=Ti(null,t,r,e,n);break e}if(a===k){t.tag=14,t=Ai(null,t,r,e,n);break e}}throw t=A(r)||r,Error(s(306,t,""))}Fr(r)?(e=xi(r,e),t.tag=1,t=Bi(null,t,r,e,n)):(t.tag=0,t=Ri(null,t,r,e,n))}return t;case 0:return Ri(e,t,t.type,t.pendingProps,n);case 1:return Bi(e,t,r=t.type,a=xi(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var l=t.memoizedState;a=l.element,ss(e,t),hs(t,r,null,n);var i=t.memoizedState;if(r=i.cache,wa(0,Oa,r),r!==l.cache&&ka(t,[Oa],n,!0),ds(),r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Fi(e,t,r,n);break e}if(r!==a){xa(a=Cr(Error(s(424)),t)),t=Fi(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(la=bd(e.firstChild),sa=t,ia=!0,oa=null,ca=!0,n=ai(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===a){t=Qi(e,t,n);break e}Pi(e,t,r,n)}t=t.child}return t;case 26:return zi(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:ia||(n=t.type,e=t.pendingProps,(r=sd(K.current).createElement(n))[Oe]=t,r[ze]=e,nd(r,n,e),We(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ia&&(r=t.stateNode=jd(t.type,t.pendingProps,K.current),sa=t,ca=!0,a=la,pd(t.type)?(vd=a,la=bd(r.firstChild)):la=a),Pi(e,t,t.pendingProps.children,n),zi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=r=la)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Me])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ca))?(t.stateNode=r,sa=t,la=bd(r.firstChild),ca=!1,a=!0):a=!1),a||da(t)),Q(t),a=t.type,l=t.pendingProps,i=null!==e?e.memoizedProps:null,r=l.children,od(a,l)?r=null:null!==i&&od(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=Is(e,t,Rs,null,null,n),Qd._currentValue=a),zi(e,t),Pi(e,t,r,n),t.child;case 6:return null===e&&ia&&((e=n=la)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,ca))?(t.stateNode=n,sa=t,la=null,e=!0):e=!1),e||da(t)),null;case 13:return Ui(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ri(t,null,r,n):Pi(e,t,r,n),t.child;case 11:return Ti(e,t,t.type,t.pendingProps,n);case 7:return Pi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pi(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wa(0,t.type,r.value),Pi(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ea(t),r=r(a=_a(a)),t.flags|=1,Pi(e,t,r,n),t.child;case 14:return Ai(e,t,t.type,t.pendingProps,n);case 15:return Li(e,t,t.type,t.pendingProps,n);case 19:return Ji(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Vi(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=qr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ii(e,t,n);case 24:return Ea(t),r=_a(Oa),null===e?(null===(a=Ha())&&(a=sc,l=za(),a.pooledCache=l,l.refCount++,null!==l&&(a.pooledCacheLanes|=n),a=l),t.memoizedState={parent:r,cache:a},as(t),wa(0,Oa,a)):(0!==(e.lanes&n)&&(ss(e,t),hs(t,null,null,n),ds()),a=e.memoizedState,l=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),wa(0,Oa,r)):(r=l.cache,wa(0,Oa,r),r!==a.cache&&ka(t,[Oa],n,!0))),Pi(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zi(e){e.flags|=4}function eo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=si.current)&&((4194048&ic)===ic?null!==li:(62914560&ic)!==ic&&!(536870912&ic)||t!==li))throw es=Qa,Ga;e.flags|=8192}}function to(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,bc|=t)}function no(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ro(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ao(e,t,n){var r=t.pendingProps;switch(aa(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ro(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ja(Oa),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fa(t)?Zi(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ga())),ro(t),null;case 26:return n=t.memoizedState,null===e?(Zi(t),null!==n?(ro(t),eo(t,n)):(ro(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zi(t),ro(t),eo(t,n)):(ro(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zi(t),ro(t),t.flags&=-16777217),null;case 27:Y(t),n=K.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zi(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return ro(t),null}e=H.current,fa(t)?ha(t):(e=jd(a,r,n),t.stateNode=e,Zi(t))}return ro(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zi(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return ro(t),null}if(e=H.current,fa(t))ha(t);else{switch(a=sd(K.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Oe]=t,e[ze]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(nd(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zi(t)}}return ro(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zi(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(e=K.current,fa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=sa))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||da(t)}else(e=sd(e).createTextNode(r))[Oe]=t,t.stateNode=e}return ro(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Oe]=t}else pa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ro(t),a=!1}else a=ga(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(ui(t),t):(ui(t),null)}if(ui(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var l=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),to(t,t.updateQueue),ro(t),null;case 4:return J(),null===e&&$u(t.stateNode.containerInfo),ro(t),null;case 10:return ja(t.type),ro(t),null;case 19:if($(di),null===(a=t.memoizedState))return ro(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)no(a,!1);else{if(0!==fc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=hi(e))){for(t.flags|=128,no(a,!1),e=l.updateQueue,t.updateQueue=e,to(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Mr(n,e),n=n.sibling;return U(di,1&di.current|2),t.child}e=e.sibling}null!==a.tail&&re()>kc&&(t.flags|=128,r=!0,no(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hi(l))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,to(t,e),no(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ia)return ro(t),null}else 2*re()-a.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,no(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=a.last)?e.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=re(),t.sibling=null,e=di.current,U(di,r?1&e|2:1&e),t):(ro(t),null);case 22:case 23:return ui(t),bs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(ro(t),6&t.subtreeFlags&&(t.flags|=8192)):ro(t),null!==(n=t.updateQueue)&&to(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&$(Ua),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ja(Oa),ro(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function so(e,t){switch(aa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ja(Oa),J(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ui(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $(di),null;case 4:return J(),null;case 10:return ja(t.type),null;case 22:case 23:return ui(t),bs(),null!==e&&$(Ua),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ja(Oa),null;default:return null}}function lo(e,t){switch(aa(t),t.tag){case 3:ja(Oa),J();break;case 26:case 27:case 5:Y(t);break;case 4:J();break;case 13:ui(t);break;case 19:$(di);break;case 10:ja(t.type);break;case 22:case 23:ui(t),bs(),null!==e&&$(Ua);break;case 24:ja(Oa)}}function io(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,l=n.inst;r=s(),l.destroy=r}n=n.next}while(n!==a)}}catch(i){hu(t,t.return,i)}}function oo(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var l=r.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,a=t;var o=n,c=i;try{c()}catch(u){hu(a,o,u)}}}r=r.next}while(r!==s)}}catch(u){hu(t,t.return,u)}}function co(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fs(t,n)}catch(r){hu(e,e.return,r)}}}function uo(e,t,n){n.props=xi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function ho(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(a){hu(e,t,a)}}function mo(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(a){hu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){hu(e,t,s)}else n.current=null}function fo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){hu(e,e.return,a)}}function po(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,l=null,i=null,o=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||ed(e,t,f,null,r,h)}}for(var m in r){var f=r[m];if(h=n[m],r.hasOwnProperty(m)&&(null!=f||null!=h))switch(m){case"type":l=f;break;case"name":a=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":i=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&ed(e,t,m,f,r,h)}}return void yt(e,i,o,c,u,d,l,a);case"select":for(l in f=i=o=m=null,n)if(c=n[l],n.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(l)||ed(e,t,l,null,r,c)}for(a in r)if(l=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=l||null!=c))switch(a){case"value":m=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:l!==c&&ed(e,t,a,l,r,c)}return t=o,n=i,r=f,void(null!=m?wt(e,!!n,m,!1):!!r!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(o in f=m=null,n)if(a=n[o],n.hasOwnProperty(o)&&null!=a&&!r.hasOwnProperty(o))switch(o){case"value":case"children":break;default:ed(e,t,o,null,r,a)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=a||null!=l))switch(i){case"value":m=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==l&&ed(e,t,i,a,r,l)}return void jt(e,m,f);case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&null!=m&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else ed(e,t,p,null,r,m);for(c in r)if(m=r[c],f=n[c],r.hasOwnProperty(c)&&m!==f&&(null!=m||null!=f))if("selected"===c)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else ed(e,t,c,m,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!r.hasOwnProperty(g)&&ed(e,t,g,null,r,m);for(u in r)if(m=r[u],f=n[u],r.hasOwnProperty(u)&&m!==f&&(null!=m||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:ed(e,t,u,m,r,f)}return;default:if(_t(t)){for(var x in n)m=n[x],n.hasOwnProperty(x)&&void 0!==m&&!r.hasOwnProperty(x)&&td(e,t,x,void 0,r,m);for(d in r)m=r[d],f=n[d],!r.hasOwnProperty(d)||m===f||void 0===m&&void 0===f||td(e,t,d,m,r,f);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&null!=m&&!r.hasOwnProperty(y)&&ed(e,t,y,null,r,m);for(h in r)m=r[h],f=n[h],!r.hasOwnProperty(h)||m===f||null==m&&null==f||ed(e,t,h,m,r,f)}(r,e.type,n,t),r[ze]=t}catch(a){hu(e,e.return,a)}}function go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function xo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yo(e,t,n),e=e.sibling;null!==e;)yo(e,t,n),e=e.sibling}function bo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bo(e,t,n),e=e.sibling;null!==e;)bo(e,t,n),e=e.sibling}function vo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);nd(t,r,n),t[Oe]=e,t[ze]=n}catch(s){hu(e,e.return,s)}}var wo=!1,jo=!1,No=!1,ko="function"==typeof WeakSet?WeakSet:Set,So=null;function Co(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fo(e,n),4&r&&io(5,n);break;case 1:if(Fo(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){hu(n,n.return,l)}else{var a=xi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){hu(n,n.return,i)}}64&r&&co(n),512&r&&ho(n,n.return);break;case 3:if(Fo(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fs(e,t)}catch(l){hu(n,n.return,l)}}break;case 27:null===t&&4&r&&vo(n);case 26:case 5:Fo(e,n),null===t&&4&r&&fo(n),512&r&&ho(n,n.return);break;case 12:Fo(e,n);break;case 13:Fo(e,n),4&r&&Lo(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wo)){t=null!==t&&null!==t.memoizedState||jo,a=wo;var s=jo;wo=r,(jo=t)&&!s?Mo(e,n,!!(8772&n.subtreeFlags)):Fo(e,n),wo=a,jo=s}break;case 30:break;default:Fo(e,n)}}function Eo(e){var t=e.alternate;null!==t&&(e.alternate=null,Eo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _o=null,Po=!1;function To(e,t,n){for(n=n.child;null!==n;)Ao(e,t,n),n=n.sibling}function Ao(e,t,n){if(me&&"function"==typeof me.onCommitFiberUnmount)try{me.onCommitFiberUnmount(he,n)}catch(s){}switch(n.tag){case 26:jo||mo(n,t),To(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:jo||mo(n,t);var r=_o,a=Po;pd(n.type)&&(_o=n.stateNode,Po=!1),To(e,t,n),Nd(n.stateNode),_o=r,Po=a;break;case 5:jo||mo(n,t);case 6:if(r=_o,a=Po,_o=null,To(e,t,n),Po=a,null!==(_o=r))if(Po)try{(9===_o.nodeType?_o.body:"HTML"===_o.nodeName?_o.ownerDocument.body:_o).removeChild(n.stateNode)}catch(l){hu(n,t,l)}else try{_o.removeChild(n.stateNode)}catch(l){hu(n,t,l)}break;case 18:null!==_o&&(Po?(gd(9===(e=_o).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ph(e)):gd(_o,n.stateNode));break;case 4:r=_o,a=Po,_o=n.stateNode.containerInfo,Po=!0,To(e,t,n),_o=r,Po=a;break;case 0:case 11:case 14:case 15:jo||oo(2,n,t),jo||oo(4,n,t),To(e,t,n);break;case 1:jo||(mo(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&uo(n,t,r)),To(e,t,n);break;case 21:To(e,t,n);break;case 22:jo=(r=jo)||null!==n.memoizedState,To(e,t,n),jo=r;break;default:To(e,t,n)}}function Lo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ph(e)}catch(n){hu(t,t.return,n)}}function Io(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ko),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ko),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Oo(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(pd(o.type)){_o=o.stateNode,Po=!1;break e}break;case 5:_o=o.stateNode,Po=!1;break e;case 3:case 4:_o=o.stateNode.containerInfo,Po=!0;break e}o=o.return}if(null===_o)throw Error(s(160));Ao(l,i,a),_o=null,Po=!1,null!==(l=a.alternate)&&(l.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ro(t,e),t=t.sibling}var zo=null;function Ro(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Oo(t,e),Do(e),4&r&&(oo(3,e,e.return),io(3,e),oo(5,e,e.return));break;case 1:Oo(t,e),Do(e),512&r&&(jo||null===n||mo(n,n.return)),64&r&&wo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=zo;if(Oo(t,e),Do(e),512&r&&(jo||null===n||mo(n,n.return)),4&r){var l=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(l=a.getElementsByTagName("title")[0])||l[Me]||l[Oe]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=a.createElement(r),a.head.insertBefore(l,a.querySelector("head > title"))),nd(l,r,n),l[Oe]=e,We(l),r=l;break e;case"link":var i=Md("link","href",a).get(r+(n.href||""));if(i)for(var o=0;o<i.length;o++)if((l=i[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(o,1);break t}nd(l=a.createElement(r),r,n),a.head.appendChild(l);break;case"meta":if(i=Md("meta","content",a).get(r+(n.content||"")))for(o=0;o<i.length;o++)if((l=i[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(o,1);break t}nd(l=a.createElement(r),r,n),a.head.appendChild(l);break;default:throw Error(s(468,r))}l[Oe]=e,We(l),r=l}e.stateNode=r}else $d(a,e.type,e.stateNode);else e.stateNode=Rd(a,r,e.memoizedProps);else l!==r?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===r?$d(a,e.type,e.stateNode):Rd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&po(e,e.memoizedProps,n.memoizedProps)}break;case 27:Oo(t,e),Do(e),512&r&&(jo||null===n||mo(n,n.return)),null!==n&&4&r&&po(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Oo(t,e),Do(e),512&r&&(jo||null===n||mo(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(f){hu(e,e.return,f)}}4&r&&null!=e.stateNode&&po(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(No=!0);break;case 6:if(Oo(t,e),Do(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){hu(e,e.return,f)}}break;case 3:if(qd=null,a=zo,zo=Cd(t.containerInfo),Oo(t,e),zo=a,Do(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ph(t.containerInfo)}catch(f){hu(e,e.return,f)}No&&(No=!1,Bo(e));break;case 4:r=zo,zo=Cd(e.stateNode.containerInfo),Oo(t,e),Do(e),zo=r;break;case 12:default:Oo(t,e),Do(e);break;case 13:Oo(t,e),Do(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Nc=re()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Io(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wo,d=jo;if(wo=u||a,jo=d||c,Oo(t,e),jo=d,wo=u,Do(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||wo||jo||qo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(l=c.stateNode,a)"function"==typeof(i=l.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,m=null!=h&&h.hasOwnProperty("display")?h.display:null;o.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(f){hu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){hu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Io(e,n))));break;case 19:Oo(t,e),Do(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Io(e,r)));case 30:case 21:}}function Do(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(go(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;bo(e,xo(e),a);break;case 5:var l=n.stateNode;32&n.flags&&(kt(l,""),n.flags&=-33),bo(e,xo(e),l);break;case 3:case 4:var i=n.stateNode.containerInfo;yo(e,xo(e),i);break;default:throw Error(s(161))}}catch(o){hu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Bo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Bo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Co(e,t.alternate,t),t=t.sibling}function qo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oo(4,t,t.return),qo(t);break;case 1:mo(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&uo(t,t.return,n),qo(t);break;case 27:Nd(t.stateNode);case 26:case 5:mo(t,t.return),qo(t);break;case 22:null===t.memoizedState&&qo(t);break;default:qo(t)}e=e.sibling}}function Mo(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:Mo(a,s,n),io(4,s);break;case 1:if(Mo(a,s,n),"function"==typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var i=r.stateNode;try{var o=a.shared.hiddenCallbacks;if(null!==o)for(a.shared.hiddenCallbacks=null,a=0;a<o.length;a++)ms(o[a],i)}catch(c){hu(r,r.return,c)}}n&&64&l&&co(s),ho(s,s.return);break;case 27:vo(s);case 26:case 5:Mo(a,s,n),n&&null===r&&4&l&&fo(s),ho(s,s.return);break;case 12:Mo(a,s,n);break;case 13:Mo(a,s,n),n&&4&l&&Lo(a,s);break;case 22:null===s.memoizedState&&Mo(a,s,n),ho(s,s.return);break;case 30:break;default:Mo(a,s,n)}t=t.sibling}}function $o(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ra(n))}function Uo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e))}function Ho(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vo(e,t,n,r),t=t.sibling}function Vo(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ho(e,t,n,r),2048&a&&io(9,t);break;case 1:case 13:default:Ho(e,t,n,r);break;case 3:Ho(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e)));break;case 12:if(2048&a){Ho(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,i=s.onPostCommit;"function"==typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){hu(t,t.return,o)}}else Ho(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,null!==t.memoizedState?2&s._visibility?Ho(e,t,n,r):Wo(e,t):2&s._visibility?Ho(e,t,n,r):(s._visibility|=2,Ko(e,t,n,r,!!(10256&t.subtreeFlags))),2048&a&&$o(l,t);break;case 24:Ho(e,t,n,r),2048&a&&Uo(t.alternate,t)}}function Ko(e,t,n,r,a){for(a=a&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,l=t,i=n,o=r,c=l.flags;switch(l.tag){case 0:case 11:case 15:Ko(s,l,i,o,a),io(8,l);break;case 23:break;case 22:var u=l.stateNode;null!==l.memoizedState?2&u._visibility?Ko(s,l,i,o,a):Wo(s,l):(u._visibility|=2,Ko(s,l,i,o,a)),a&&2048&c&&$o(l.alternate,l);break;case 24:Ko(s,l,i,o,a),a&&2048&c&&Uo(l.alternate,l);break;default:Ko(s,l,i,o,a)}t=t.sibling}}function Wo(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Wo(n,r),2048&a&&$o(r.alternate,r);break;case 24:Wo(n,r),2048&a&&Uo(r.alternate,r);break;default:Wo(n,r)}t=t.sibling}}var Go=8192;function Jo(e){if(e.subtreeFlags&Go)for(e=e.child;null!==e;)Qo(e),e=e.sibling}function Qo(e){switch(e.tag){case 26:Jo(e),e.flags&Go&&null!==e.memoizedState&&function(e,t,n){if(null===Hd)throw Error(s(475));var r=Hd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Ad(n.href),l=e.querySelector(Ld(a));if(l)return null!==(e=l._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Kd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=l,void We(l);l=e.ownerDocument||e,n=Id(n),(a=kd.get(a))&&Bd(n,a),We(l=l.createElement("link"));var i=l;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),nd(l,"link",n),t.instance=l}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Kd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(zo,e.memoizedState,e.memoizedProps);break;case 5:default:Jo(e);break;case 3:case 4:var t=zo;zo=Cd(e.stateNode.containerInfo),Jo(e),zo=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Go,Go=16777216,Jo(e),Go=t):Jo(e))}}function Yo(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xo(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];So=r,tc(r,e)}Yo(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zo(e),e=e.sibling}function Zo(e){switch(e.tag){case 0:case 11:case 15:Xo(e),2048&e.flags&&oo(9,e,e.return);break;case 3:case 12:default:Xo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Xo(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];So=r,tc(r,e)}Yo(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oo(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==So;){var n=So;switch(n.tag){case 0:case 11:case 15:oo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ra(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,So=r;else e:for(n=e;null!==So;){var a=(r=So).sibling,s=r.return;if(Eo(r),r===n){So=null;break e}if(null!==a){a.return=s,So=a;break e}So=s}}}var nc={getCacheForType:function(e){var t=_a(Oa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ac=0,sc=null,lc=null,ic=0,oc=0,cc=null,uc=!1,dc=!1,hc=!1,mc=0,fc=0,pc=0,gc=0,xc=0,yc=0,bc=0,vc=null,wc=null,jc=!1,Nc=0,kc=1/0,Sc=null,Cc=null,Ec=0,_c=null,Pc=null,Tc=0,Ac=0,Lc=null,Ic=null,Oc=0,zc=null;function Rc(){if(2&ac&&0!==ic)return ic&-ic;if(null!==O.T){return 0!==Fa?Fa:Au()}return Le()}function Dc(){0===yc&&(yc=536870912&ic&&!ia?536870912:ke());var e=si.current;return null!==e&&(e.flags|=32),yc}function Bc(e,t,n){(e!==sc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Vc(e,0),$c(e,ic,yc,!1)),Ee(e,n),2&ac&&e===sc||(e===sc&&(!(2&ac)&&(gc|=n),4===fc&&$c(e,ic,yc,!1)),ku(e))}function Fc(e,t,n){if(6&ac)throw Error(s(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||je(e,t),a=r?function(e,t){var n=ac;ac|=2;var r=Wc(),a=Gc();sc!==e||ic!==t?(Sc=null,kc=re()+500,Vc(e,t)):dc=je(e,t);e:for(;;)try{if(0!==oc&&null!==lc){t=lc;var l=cc;t:switch(oc){case 1:oc=0,cc=null,tu(e,t,l,1);break;case 2:case 9:if(Ya(l)){oc=0,cc=null,eu(t);break}t=function(){2!==oc&&9!==oc||sc!==e||(oc=7),ku(e)},l.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ya(l)?(oc=0,cc=null,eu(t)):(oc=0,cc=null,tu(e,t,l,7));break;case 5:var i=null;switch(lc.tag){case 26:i=lc.memoizedState;case 5:case 27:var o=lc;if(!i||Ud(i)){oc=0,cc=null;var c=o.sibling;if(null!==c)lc=c;else{var u=o.return;null!==u?(lc=u,nu(u)):lc=null}break t}}oc=0,cc=null,tu(e,t,l,5);break;case 6:oc=0,cc=null,tu(e,t,l,6);break;case 8:Hc(),fc=6;break e;default:throw Error(s(462))}}Xc();break}catch(d){Kc(e,d)}return va=ba=null,O.H=r,O.A=a,ac=n,null!==lc?0:(sc=null,ic=0,Tr(),fc)}(e,t):Qc(e,t,!0),l=r;;){if(0===a){dc&&!r&&$c(e,t,0,!1);break}if(n=e.current.alternate,!l||Mc(n)){if(2===a){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;a=vc;var c=o.current.memoizedState.isDehydrated;if(c&&(Vc(o,i).flags|=256),2!==(i=Qc(o,i,!1))){if(hc&&!c){o.errorRecoveryDisabledLanes|=l,gc|=l,a=4;break e}l=wc,wc=a,null!==l&&(null===wc?wc=l:wc.push.apply(wc,l))}a=i}if(l=!1,2!==a)continue}}if(1===a){Vc(e,0),$c(e,t,0,!0);break}e:{switch(r=e,l=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:$c(r,t,yc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=Nc+300-re())){if($c(r,t,yc,!uc),0!==we(r,0,!0))break e;r.timeoutHandle=ud(qc.bind(null,r,n,wc,Sc,jc,t,yc,gc,bc,uc,l,2,-0,0),a)}else qc(r,n,wc,Sc,jc,t,yc,gc,bc,uc,l,0,-0,0)}break}a=Qc(e,t,!1),l=!1}ku(e)}function qc(e,t,n,r,a,l,i,o,c,u,d,h,m,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Hd={stylesheets:null,count:0,unsuspend:Vd},Qo(t),null!==(h=function(){if(null===Hd)throw Error(s(475));var e=Hd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(au.bind(null,e,t,l,n,r,a,i,o,c,d,1,m,f)),void $c(e,l,i,!u);au(e,t,l,n,r,a,i,o,c)}function Mc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Yn(s(),a))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,r){t&=~xc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-pe(a),l=1<<s;r[s]=-1,a&=~l}0!==n&&_e(e,n,t)}function Uc(){return!!(6&ac)||(Su(0),!1)}function Hc(){if(null!==lc){if(0===oc)var e=lc.return;else va=ba=null,Fs(e=lc),Ql=null,Yl=0,e=lc;for(;null!==e;)lo(e.alternate,e),e=e.return;lc=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),sc=e,lc=n=qr(e.current,null),ic=t,oc=0,cc=null,uc=!1,dc=je(e,t),hc=!1,bc=yc=xc=gc=pc=fc=0,wc=vc=null,jc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-pe(r),s=1<<a;t|=e[a],r&=~s}return mc=t,Tr(),n}function Kc(e,t){ws=null,O.H=Kl,t===Wa||t===Ja?(t=ts(),oc=3):t===Ga?(t=ts(),oc=4):oc=t===Ei?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===lc&&(fc=1,ji(e,Cr(t,e.current)))}function Wc(){var e=O.H;return O.H=Kl,null===e?Kl:e}function Gc(){var e=O.A;return O.A=nc,e}function Jc(){fc=4,uc||(4194048&ic)!==ic&&null!==si.current||(dc=!0),!(134217727&pc)&&!(134217727&gc)||null===sc||$c(sc,ic,yc,!1)}function Qc(e,t,n){var r=ac;ac|=2;var a=Wc(),s=Gc();sc===e&&ic===t||(Sc=null,Vc(e,t)),t=!1;var l=fc;e:for(;;)try{if(0!==oc&&null!==lc){var i=lc,o=cc;switch(oc){case 8:Hc(),l=6;break e;case 3:case 2:case 9:case 6:null===si.current&&(t=!0);var c=oc;if(oc=0,cc=null,tu(e,i,o,c),n&&dc){l=0;break e}break;default:c=oc,oc=0,cc=null,tu(e,i,o,c)}}Yc(),l=fc;break}catch(u){Kc(e,u)}return t&&e.shellSuspendCounter++,va=ba=null,ac=r,O.H=a,O.A=s,null===lc&&(sc=null,ic=0,Tr()),l}function Yc(){for(;null!==lc;)Zc(lc)}function Xc(){for(;null!==lc&&!te();)Zc(lc)}function Zc(e){var t=Xi(e.alternate,e,mc);e.memoizedProps=e.pendingProps,null===t?nu(e):lc=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Di(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Di(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Fs(t);default:lo(n,t),t=Xi(n,t=lc=Mr(t,mc),mc)}e.memoizedProps=e.pendingProps,null===t?nu(e):lc=t}function tu(e,t,n,r){va=ba=null,Fs(t),Ql=null,Yl=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Sa(t,n,a,!0),null!==(n=si.current)){switch(n.tag){case 13:return null===li?Jc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),mu(e,r,a)),!1;case 22:return n.flags|=65536,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),mu(e,r,a)),!1}throw Error(s(435,n.tag))}return mu(e,r,a),Jc(),!1}if(ia)return null!==(t=si.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ua&&xa(Cr(e=Error(s(422),{cause:r}),n))):(r!==ua&&xa(Cr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Cr(r,n),cs(e,a=ki(e.stateNode,r,a)),4!==fc&&(fc=2)),!1;var l=Error(s(520),{cause:r});if(l=Cr(l,n),null===vc?vc=[l]:vc.push(l),4!==fc&&(fc=2),null===t)return!0;r=Cr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,cs(n,e=ki(n.stateNode,r,e)),!1;case 1:if(t=n.type,l=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===l||"function"!=typeof l.componentDidCatch||null!==Cc&&Cc.has(l))))return n.flags|=65536,a&=-a,n.lanes|=a,Ci(a=Si(a),e,n,r),cs(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return fc=1,ji(e,Cr(n,e.current)),void(lc=null)}catch(l){if(null!==a)throw lc=a,l;return fc=1,ji(e,Cr(n,e.current)),void(lc=null)}32768&t.flags?(ia||1===r?e=!0:dc||536870912&ic?e=!1:(uc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=si.current)&&13===r.tag&&(r.flags|=16384))),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=ao(t.alternate,t,mc);if(null!==n)return void(lc=n);if(null!==(t=t.sibling))return void(lc=t);lc=t=e}while(null!==t);0===fc&&(fc=5)}function ru(e,t){do{var n=so(e.alternate,e);if(null!==n)return n.flags&=32767,void(lc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(lc=e);lc=e=n}while(null!==e);fc=6,lc=null}function au(e,t,n,r,a,l,i,o,c){e.cancelPendingCommit=null;do{cu()}while(0!==Ec);if(6&ac)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(l=t.lanes|t.childLanes,function(e,t,n,r,a,s){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var u=31-pe(n),d=1<<u;i[u]=0,o[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(l&~t))}(e,n,l|=Pr,i,o,c),e===sc&&(lc=sc=null,ic=0),Pc=t,_c=e,Tc=n,Ac=l,Lc=a,Ic=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Z(ie,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=O.T,O.T=null,a=z.p,z.p=2,i=ac,ac|=4;try{!function(e,t){if(e=e.containerInfo,rd=ah,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(o=i+a),h!==l||0!==r&&3!==h.nodeType||(c=i+r),3===h.nodeType&&(i+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===a&&(o=i),m===l&&++d===r&&(c=i),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},ah=!1,So=t;null!==So;)if(e=(t=So).child,1024&t.subtreeFlags&&null!==e)e.return=t,So=e;else for(;null!==So;){switch(l=(t=So).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==l){e=void 0,n=t,a=l.memoizedProps,l=l.memoizedState,r=n.stateNode;try{var p=xi(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(p,l),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){hu(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))xd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,So=e;break}So=t.return}}(e,t)}finally{ac=i,z.p=a,O.T=r}}Ec=1,su(),lu(),iu()}}function su(){if(1===Ec){Ec=0;var e=_c,t=Pc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=O.T,O.T=null;var r=z.p;z.p=2;var a=ac;ac|=4;try{Ro(t,e);var s=ad,l=nr(e.containerInfo),i=s.focusedElem,o=s.selectionRange;if(l!==i&&i&&i.ownerDocument&&tr(i.ownerDocument.documentElement,i)){if(null!==o&&rr(i)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),f=i.textContent.length,p=Math.min(o.start,f),g=void 0===o.end?p:Math.min(o.end,f);!m.extend&&p>g&&(l=g,g=p,p=l);var x=er(i,p),y=er(i,g);if(x&&y&&(1!==m.rangeCount||m.anchorNode!==x.node||m.anchorOffset!==x.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var b=d.createRange();b.setStart(x.node,x.offset),m.removeAllRanges(),p>g?(m.addRange(b),m.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),m.addRange(b))}}}}for(d=[],m=i;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<d.length;i++){var v=d[i];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}ah=!!rd,ad=rd=null}finally{ac=a,z.p=r,O.T=n}}e.current=t,Ec=2}}function lu(){if(2===Ec){Ec=0;var e=_c,t=Pc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=O.T,O.T=null;var r=z.p;z.p=2;var a=ac;ac|=4;try{Co(e,t.alternate,t)}finally{ac=a,z.p=r,O.T=n}}Ec=3}}function iu(){if(4===Ec||3===Ec){Ec=0,ne();var e=_c,t=Pc,n=Tc,r=Ic;10256&t.subtreeFlags||10256&t.flags?Ec=5:(Ec=0,Pc=_c=null,ou(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Cc=null),Ae(n),t=t.stateNode,me&&"function"==typeof me.onCommitFiberRoot)try{me.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(o){}if(null!==r){t=O.T,a=z.p,z.p=2,O.T=null;try{for(var s=e.onRecoverableError,l=0;l<r.length;l++){var i=r[l];s(i.value,{componentStack:i.stack})}}finally{O.T=t,z.p=a}}3&Tc&&cu(),ku(e),a=e.pendingLanes,4194090&n&&42&a?e===zc?Oc++:(Oc=0,zc=e):Oc=0,Su(0)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ra(t)))}function cu(e){return su(),lu(),iu(),uu()}function uu(){if(5!==Ec)return!1;var e=_c,t=Ac;Ac=0;var n=Ae(Tc),r=O.T,a=z.p;try{z.p=32>n?32:n,O.T=null,n=Lc,Lc=null;var l=_c,i=Tc;if(Ec=0,Pc=_c=null,Tc=0,6&ac)throw Error(s(331));var o=ac;if(ac|=4,Zo(l.current),Vo(l,l.current,i,n),ac=o,Su(0,!1),me&&"function"==typeof me.onPostCommitFiberRoot)try{me.onPostCommitFiberRoot(he,l)}catch(c){}return!0}finally{z.p=a,O.T=r,ou(e,t)}}function du(e,t,n){t=Cr(n,t),null!==(e=is(e,t=ki(e.stateNode,t,2),2))&&(Ee(e,2),ku(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Cr(n,e),null!==(r=is(t,n=Si(2),2))&&(Ci(n,r,t,e),Ee(r,2),ku(r));break}}t=t.return}}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(hc=!0,a.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(ic&n)===n&&(4===fc||3===fc&&(62914560&ic)===ic&&300>re()-Nc?!(2&ac)&&Vc(e,0):xc|=n,bc===ic&&(bc=0)),ku(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Ir(e,t))&&(Ee(e,t),ku(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function xu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,bu=null,vu=!1,wu=!1,ju=!1,Nu=0;function ku(e){e!==bu&&null===e.next&&(null===bu?yu=bu=e:bu=bu.next=e),wu=!0,vu||(vu=!0,md(function(){6&ac?Z(se,Cu):Eu()}))}function Su(e,t){if(!ju&&wu){ju=!0;do{for(var n=!1,r=yu;null!==r;){if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var l=r.suspendedLanes,i=r.pingedLanes;s=(1<<31-pe(42|e)+1)-1,s=201326741&(s&=a&~(l&~i))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Tu(r,s))}else s=ic,!(3&(s=we(r,r===sc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||je(r,s)||(n=!0,Tu(r,s));r=r.next}}while(n);ju=!1}}function Cu(){Eu()}function Eu(){wu=vu=!1;var e=0;0!==Nu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=Nu),Nu=0);for(var t=re(),n=null,r=yu;null!==r;){var a=r.next,s=_u(r,t);0===s?(r.next=null,null===n?yu=a:n.next=a,null===a&&(bu=n)):(n=r,(0!==e||3&s)&&(wu=!0)),r=a}Su(e)}function _u(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var l=31-pe(s),i=1<<l,o=a[l];-1===o?0!==(i&n)&&0===(i&r)||(a[l]=Ne(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}if(n=ic,n=we(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||je(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Ae(n)){case 2:case 8:n=le;break;case 32:default:n=ie;break;case 268435456:n=ce}return r=Pu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=we(e,e===sc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),_u(e,re()),null!=e.callbackNode&&e.callbackNode===n?Pu.bind(null,e):null)}function Tu(e,t){if(cu())return null;Fc(e,t,!0)}function Au(){return 0===Nu&&(Nu=ke()),Nu}function Lu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:At(""+e)}function Iu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<Nr.length;Ou++){var zu=Nr[Ou];kr(zu.toLowerCase(),"on"+(zu[0].toUpperCase()+zu.slice(1)))}kr(pr,"onAnimationEnd"),kr(gr,"onAnimationIteration"),kr(xr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(yr,"onTransitionRun"),kr(br,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(wr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Bu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&a.isPropagationStopped())break e;s=i,a.currentTarget=c;try{s(a)}catch(u){yi(u)}a.currentTarget=null,s=o}else for(l=0;l<r.length;l++){if(o=(i=r[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&a.isPropagationStopped())break e;s=i,a.currentTarget=c;try{s(a)}catch(u){yi(u)}a.currentTarget=null,s=o}}}}function Fu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function qu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Mu]){e[Mu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||qu(t,!1,e),qu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mu]||(t[Mu]=!0,qu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(dh(t)){case 2:var a=sh;break;case 8:a=lh;break;default:a=ih}n=a.bind(null,t,n,e),a=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,a){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var o=r.stateNode.containerInfo;if(o===a)break;if(4===l)for(l=r.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===a)return;l=l.return}for(;null!==o;){if(null===(l=Ue(o)))return;if(5===(c=l.tag)||6===c||26===c||27===c){r=s=l;continue e}o=o.parentNode}}r=r.return}Bt(function(){var r=s,a=It(n),l=[];e:{var o=jr.get(e);if(void 0!==o){var c=tn,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case pr:case gr:case xr:c=cn;break;case wr:c=vn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=jn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===m||null!=(g=Ft(p,m))&&d.push(Vu(p,g,f)),h)break;p=p.return}0<d.length&&(o=new c(o,u,null,n,a),l.push({event:o,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Lt||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Re])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(h=i(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,g="onPointerLeave",m="onPointerEnter",p="pointer"),h=null==c?o:Ve(c),f=null==u?o:Ve(u),(o=new d(g,p+"leave",c,n,a)).target=h,o.relatedTarget=f,g=null,Ue(a)===r&&((d=new d(m,p+"enter",u,n,a)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(m=u,p=0,f=d=c;f;f=Wu(f))p++;for(f=0,g=m;g;g=Wu(g))f++;for(;0<p-f;)d=Wu(d),p--;for(;0<f-p;)m=Wu(m),f--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Wu(d),m=Wu(m)}d=null}else d=null;null!==c&&Gu(l,o,c,d,!1),null!==u&&null!==h&&Gu(l,h,u,d,!0)}if("select"===(c=(o=r?Ve(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var x=qn;else if(On(o))if(Mn)x=Qn;else{x=Gn;var y=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(x=qn):x=Jn;switch(x&&(x=x(e,r))?zn(l,x,n,a):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),y=r?Ve(r):window,e){case"focusin":(On(y)||"true"===y.contentEditable)&&(sr=y,lr=r,ir=null);break;case"focusout":ir=lr=sr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,cr(l,n,a);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":cr(l,n,a)}var b;if(kn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ln?Tn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(En&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ln&&(b=Kt()):(Ht="value"in(Ut=a)?Ut.value:Ut.textContent,Ln=!0)),0<(y=Ku(r,v)).length&&(v=new dn(v,e,null,n,a),l.push({event:v,listeners:y}),b?v.data=b:null!==(b=An(n))&&(v.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Pn=!0,_n);case"textInput":return(e=t.data)===_n&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!kn&&Tn(e,t)?(e=Kt(),Vt=Ht=Ut=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Ku(r,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,a),l.push({event:y,listeners:v}),y.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Lu((a[ze]||null).action),l=r.submitter;l&&null!==(t=(t=l[ze]||null)?Lu(t.formAction):l.getAttribute("formAction"))&&(s=t,l=null);var i=new tn("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Nu){var e=l?Iu(a,l):new FormData(a);Ll(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"==typeof s&&(i.preventDefault(),e=l?Iu(a,l):new FormData(a),Ll(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(l,e,r,n,a)}Bu(l,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ku(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Ft(e,n))&&r.unshift(Vu(e,a,s)),null!=(a=Ft(e,t))&&r.push(Vu(e,a,s))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,a){for(var s=t._reactName,l=[];null!==n&&n!==r;){var i=n,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===r)break;5!==i&&26!==i&&27!==i||null===c||(o=c,a?null!=(c=Ft(n,s))&&l.unshift(Vu(n,c,o)):a||null!=(c=Ft(n,s))&&l.push(Vu(n,c,o))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Ju=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"==typeof e?e:""+e).replace(Ju,"\n").replace(Qu,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Zu(){}function ed(e,t,n,r,a,l){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":at(e,"class",r);break;case"tabIndex":at(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,r);break;case"style":Et(e,r,l);break;case"data":if("object"!==t){at(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof l&&("formAction"===n?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),rt(e,"popover",r);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":rt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Pt.get(n)||n,r)}}function td(e,t,n,r,a,l){switch(n){case"style":Et(e,r,l);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof r?kt(e,r):("number"==typeof r||"bigint"==typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Je.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(l=null!=(l=e[ze]||null)?l[n]:null)&&e.removeEventListener(t,l,a),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):rt(e,n,r):("function"!=typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,a=!1,l=!1;for(r in n)if(n.hasOwnProperty(r)){var i=n[r];if(null!=i)switch(r){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ed(e,t,r,i,n,null)}}return l&&ed(e,t,"srcSet",n.srcSet,n,null),void(a&&ed(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var o=r=i=l=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":l=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ed(e,t,a,d,n,null)}}return bt(e,r,o,c,u,i,l,!1),void mt(e);case"select":for(l in Fu("invalid",e),a=i=r=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":r=o;break;case"defaultValue":i=o;break;case"multiple":a=o;default:ed(e,t,l,o,n,null)}return t=r,n=i,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=n&&wt(e,!!a,n,!0));case"textarea":for(i in Fu("invalid",e),r=l=a=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":a=o;break;case"defaultValue":l=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:ed(e,t,i,o,n,null)}return Nt(e,a,l,r),void mt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a;else ed(e,t,c,a,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(a=0;a<Ru.length;a++)Fu(Ru[a],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ed(e,t,u,a,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&td(e,t,d,a,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(a=n[o])&&ed(e,t,o,a,n,null))}var rd=null,ad=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function ld(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,md="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(fd)}:ud;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var n=t,r=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var l=e.ownerDocument;if(1&n&&Nd(l.documentElement),2&n&&Nd(l.body),4&n)for(Nd(n=l.head),l=n.firstChild;l;){var i=l.nextSibling,o=l.nodeName;l[Me]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=i}}if(0===a)return e.removeChild(s),void Ph(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Ph(t)}function xd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xd(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function jd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Nd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var kd=new Map,Sd=new Set;function Cd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=z.d;z.d={f:function(){var e=Ed.f(),t=Uc();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Ol(t):Ed.r(e)},D:function(e){Ed.D(e),Pd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Pd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=_d;if(r&&e&&t){var a='link[rel="preload"][as="'+xt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+xt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+xt(n.imageSizes)+'"]')):a+='[href="'+xt(e)+'"]';var s=a;switch(t){case"style":s=Ad(e);break;case"script":s=Od(e)}kd.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Ld(s))||"script"===t&&r.querySelector(zd(s))||(nd(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=_d;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+xt(r)+'"][href="'+xt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Od(e)}if(!kd.has(s)&&(e=d({rel:"modulepreload",href:e},t),kd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zd(s)))return}nd(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=_d;if(n&&e){var r=Ke(n).hoistableScripts,a=Od(e),s=r.get(a);s||((s=n.querySelector(zd(a)))||(e=d({src:e,async:!0},t),(t=kd.get(a))&&Fd(e,t),We(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Ed.S(e,t,n);var r=_d;if(r&&e){var a=Ke(r).hoistableStyles,s=Ad(e);t=t||"default";var l=a.get(s);if(!l){var i={loading:0,preload:null};if(l=r.querySelector(Ld(s)))i.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(s))&&Bd(e,n);var o=l=r.createElement("link");We(o),nd(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Dd(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:i},a.set(s,l)}}},M:function(e,t){Ed.M(e,t);var n=_d;if(n&&e){var r=Ke(n).hoistableScripts,a=Od(e),s=r.get(a);s||((s=n.querySelector(zd(a)))||(e=d({src:e,async:!0,type:"module"},t),(t=kd.get(a))&&Fd(e,t),We(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var _d="undefined"==typeof document?null:document;function Pd(e,t,n){var r=_d;if(r&&"string"==typeof t&&t){var a=xt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),Sd.has(a)||(Sd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(nd(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var a,l,i,o,c=(c=K.current)?Cd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ad(n.href),(r=(n=Ke(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ad(n.href);var u=Ke(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ld(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(a=c,l=e,i=n,o=d.state,a.querySelector('link[rel="preload"][as="style"]['+l+"]")?o.loading=1:(l=a.createElement("link"),o.preload=l,l.addEventListener("load",function(){return o.loading|=1}),l.addEventListener("error",function(){return o.loading|=2}),nd(l,"link",i),We(l),a.head.appendChild(l))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Od(n),(r=(n=Ke(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ad(e){return'href="'+xt(e)+'"'}function Ld(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+xt(e)+'"]'}function zd(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+xt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var a=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),nd(r,"style",a),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Ad(n.href);var l=e.querySelector(Ld(a));if(l)return t.state.loading|=4,t.instance=l,We(l),l;r=Id(n),(a=kd.get(a))&&Bd(r,a),We(l=(e.ownerDocument||e).createElement("link"));var i=l;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),nd(l,"link",r),t.state.loading|=4,Dd(l,n.precedence,e),t.instance=l;case"script":return l=Od(n.src),(a=e.querySelector(zd(l)))?(t.instance=a,We(a),a):(r=n,(a=kd.get(l))&&Fd(r=d({},n),a),We(a=(e=e.ownerDocument||e).createElement("script")),nd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,l=0;l<r.length;l++){var i=r[l];if(i.dataset.precedence===t)s=i;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var qd=null;function Md(e,t,n){if(null===qd){var r=new Map,a=qd=new Map;a.set(n,r)}else(r=(a=qd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Me]||s[Oe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var l=s.getAttribute(t)||"";l=e+l;var i=r.get(l);i?i.push(s):r.set(l,[s])}}return r}function $d(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Hd=null;function Vd(){}function Kd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Jd,e),Wd=null,Kd.call(e))}function Jd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var l=a[s];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(a=t.instance).getAttribute("data-precedence"),(s=n.get(l)||r)===r&&n.set(null,a),n.set(l,a),this.count++,r=Kd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:v,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,n,r,a,s,l,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Xd(e,t,n,r,a,s,l,i,o,c,u,d){return e=new Yd(e,t,n,l,i,o,c,d),t=1,!0===s&&(t|=24),s=Br(3,null,null,t),e.current=s,s.stateNode=e,(t=za()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},as(s),e}function Zd(e){return e?e=Rr:Rr}function eh(e,t,n,r,a,s){a=Zd(a),null===r.context?r.context=a:r.pendingContext=a,(r=ls(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=is(e,r,t))&&(Bc(n,0,t),os(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Bc(t,0,67108864),nh(e,67108864)}}var ah=!0;function sh(e,t,n,r){var a=O.T;O.T=null;var s=z.p;try{z.p=2,ih(e,t,n,r)}finally{z.p=s,O.T=a}}function lh(e,t,n,r){var a=O.T;O.T=null;var s=z.p;try{z.p=8,ih(e,t,n,r)}finally{z.p=s,O.T=a}}function ih(e,t,n,r){if(ah){var a=oh(r);if(null===a)Hu(e,t,r,ch,n),vh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return mh=wh(mh,e,t,n,r,a),!0;case"dragenter":return fh=wh(fh,e,t,n,r,a),!0;case"mouseover":return ph=wh(ph,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return gh.set(s,wh(gh.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,xh.set(s,wh(xh.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<bh.indexOf(e)){for(;null!==a;){var s=He(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var l=ve(s.pendingLanes);if(0!==l){var i=s;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var o=1<<31-pe(l);i.entanglements[1]|=o,l&=~o}ku(s),!(6&ac)&&(kc=re()+500,Su(0))}}break;case 13:null!==(i=Ir(s,2))&&Bc(i,0,2),Uc(),nh(s,2)}if(null===(s=oh(r))&&Hu(e,t,r,ch,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function oh(e){return uh(e=It(e))}var ch=null;function uh(e){if(ch=null,null!==(e=Ue(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case se:return 2;case le:return 8;case ie:case oe:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,mh=null,fh=null,ph=null,gh=new Map,xh=new Map,yh=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":mh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(t.pointerId)}}function wh(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=He(t))&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function jh(e){var t=Ue(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=Te(e);var t=Ir(n,e);null!==t&&Bc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Lt=r,n.target.dispatchEvent(r),Lt=null,t.shift()}return!0}function kh(e,t,n){Nh(e)&&n.delete(t)}function Sh(){hh=!1,null!==mh&&Nh(mh)&&(mh=null),null!==fh&&Nh(fh)&&(fh=null),null!==ph&&Nh(ph)&&(ph=null),gh.forEach(kh),xh.forEach(kh)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,hh||(hh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Sh)))}var Eh=null;function _h(e){Eh!==e&&(Eh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var s=He(n);null!==s&&(e.splice(t,3),t-=3,Ll(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Ph(e){function t(t){return Ch(t,e)}null!==mh&&Ch(mh,e),null!==fh&&Ch(fh,e),null!==ph&&Ch(ph,e),gh.forEach(t),xh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)jh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],l=a[ze]||null;if("function"==typeof s)l||_h(n);else if(l){var i=null;if(s&&s.hasAttribute("formAction")){if(a=s,l=s[ze]||null)i=l.formAction;else if(null!==uh(a))continue}else i=l.action;"function"==typeof i?n[r+1]=i:(n.splice(r,3),r-=3),_h(n)}}}function Th(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));eh(t.current,Rc(),e,t,null,null)},Ah.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),Uc(),t[Re]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&jh(e)}};var Lh=r.version;if("19.1.0"!==Lh)throw Error(s(527,Lh,"19.1.0"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return c(a),e;if(l===r)return c(a),t;l=l.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=l;else{for(var o=!1,u=a.child;u;){if(u===n){o=!0,n=a,r=l;break}if(u===r){o=!0,r=a,n=l;break}u=u.sibling}if(!o){for(u=l.child;u;){if(u===n){o=!0,n=l,r=a;break}if(u===r){o=!0,r=l,n=a;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Ih={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{he=Oh.inject(Ih),me=Oh}catch(Rh){}}return D.createRoot=function(e,t){if(!l(e))throw Error(s(299));var n=!1,r="",a=bi,i=vi,o=wi;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,a,i,o,0,null),e[Re]=t.current,$u(e),new Th(t)},D.hydrateRoot=function(e,t,n){if(!l(e))throw Error(s(299));var r=!1,a="",i=bi,o=vi,c=wi,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,a,i,o,c,0,u)).context=Zd(null),n=t.current,(a=ls(r=Te(r=Rc()))).callback=null,is(n,a,r),n=r,t.current.lanes=n,Ee(t,n),ku(t),e[Re]=t.current,$u(e),new Ah(t)},D.version="19.1.0",D}var $=(O||(O=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),R.exports=M()),R.exports);const U=n.createContext(),H=()=>{const e=n.useContext(U);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},V=({children:e})=>{const[t,r]=n.useState(null),[a,s]=n.useState(localStorage.getItem("token")),[l,i]=n.useState(!0),o="https://shelter-surfing-production.up.railway.app/api";n.useEffect(()=>{(async()=>{if(a)try{const e=await fetch(`${o}/auth/me`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(e.ok){const t=await e.json();r(t.data.user)}else localStorage.removeItem("token"),s(null)}catch(e){localStorage.removeItem("token"),s(null)}i(!1)})()},[a]);const c={user:t,token:a,loading:l,login:async e=>{try{const t=await fetch(`${o}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.error||"Login failed");const{user:a,token:l}=n.data;return r(a),s(l),localStorage.setItem("token",l),{success:!0,user:a}}catch(t){throw t}},register:async e=>{try{const t=await fetch(`${o}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.error||"Registration failed");const{user:a,token:l}=n.data;return r(a),s(l),localStorage.setItem("token",l),{success:!0,user:a}}catch(t){throw t}},logout:()=>{r(null),s(null),localStorage.removeItem("token")},updateUser:e=>{r(e)},isAuthenticated:!!t};return z.jsx(U.Provider,{value:c,children:e})},K=Object.create(null);K.open="0",K.close="1",K.ping="2",K.pong="3",K.message="4",K.upgrade="5",K.noop="6";const W=Object.create(null);Object.keys(K).forEach(e=>{W[K[e]]=e});const G={type:"error",data:"parser error"},J="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Q="function"==typeof ArrayBuffer,Y=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,X=({type:e,data:t},n,r)=>J&&t instanceof Blob?n?r(t):Z(t,r):Q&&(t instanceof ArrayBuffer||Y(t))?n?r(t):Z(new Blob([t]),r):r(K[e]+(t||"")),Z=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function ee(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let te;const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let Cn=0;Cn<64;Cn++)re[ne.charCodeAt(Cn)]=Cn;const ae="function"==typeof ArrayBuffer,se=(e,t)=>{if("string"!=typeof e)return{type:"message",data:ie(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:le(e.substring(1),t)};return W[n]?e.length>1?{type:W[n],data:e.substring(1)}:{type:W[n]}:G},le=(e,t)=>{if(ae){const n=(e=>{let t,n,r,a,s,l=.75*e.length,i=e.length,o=0;"="===e[e.length-1]&&(l--,"="===e[e.length-2]&&l--);const c=new ArrayBuffer(l),u=new Uint8Array(c);for(t=0;t<i;t+=4)n=re[e.charCodeAt(t)],r=re[e.charCodeAt(t+1)],a=re[e.charCodeAt(t+2)],s=re[e.charCodeAt(t+3)],u[o++]=n<<2|r>>4,u[o++]=(15&r)<<4|a>>2,u[o++]=(3&a)<<6|63&s;return c})(e);return ie(n,t)}return{base64:!0,data:e}},ie=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,oe=String.fromCharCode(30);function ce(){return new TransformStream({transform(e,t){!function(e,t){J&&e.data instanceof Blob?e.data.arrayBuffer().then(ee).then(t):Q&&(e.data instanceof ArrayBuffer||Y(e.data))?t(ee(e.data)):X(e,!1,e=>{te||(te=new TextEncoder),t(te.encode(e))})}(e,n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!=typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let ue;function de(e){return e.reduce((e,t)=>e+t.length,0)}function he(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function me(e){if(e)return function(e){for(var t in me.prototype)e[t]=me.prototype[t];return e}(e)}me.prototype.on=me.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},me.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},me.prototype.off=me.prototype.removeListener=me.prototype.removeAllListeners=me.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},me.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},me.prototype.emitReserved=me.prototype.emit,me.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},me.prototype.hasListeners=function(e){return!!this.listeners(e).length};const fe="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),pe="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function ge(e,...t){return t.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const xe=pe.setTimeout,ye=pe.clearTimeout;function be(e,t){t.useNativeTimers?(e.setTimeoutFn=xe.bind(pe),e.clearTimeoutFn=ye.bind(pe)):(e.setTimeoutFn=pe.setTimeout.bind(pe),e.clearTimeoutFn=pe.clearTimeout.bind(pe))}function ve(e){return"string"==typeof e?function(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function we(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class je extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Ne extends me{constructor(e){super(),this.writable=!1,be(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new je(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=se(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class ke extends Ne{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(oe),r=[];for(let a=0;a<n.length;a++){const e=se(n[a],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach((e,s)=>{X(e,!1,e=>{r[s]=e,++a===n&&t(r.join(oe))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=we()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Se=!1;try{Se="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Sn){}const Ce=Se;function Ee(){}class _e extends ke{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Pe extends me{constructor(e,t,n){super(),this.createRequest=e,be(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=ge(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},n.send(this._data)}catch(r){return void this.setTimeoutFn(()=>{this._onError(r)},0)}"undefined"!=typeof document&&(this._index=Pe.requestsCount++,Pe.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Ee,e)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete Pe.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Pe.requestsCount=0,Pe.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Te);else if("function"==typeof addEventListener){addEventListener("onpagehide"in pe?"pagehide":"unload",Te,!1)}function Te(){for(let e in Pe.requests)Pe.requests.hasOwnProperty(e)&&Pe.requests[e].abort()}const Ae=function(){const e=Le({xdomain:!1});return e&&null!==e.responseType}();function Le(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Ce))return new XMLHttpRequest}catch(n){}if(!t)try{return new(pe[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const Ie="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Oe extends Ne{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Ie?{}:ge(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(Sn){return this.emitReserved("error",Sn)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;X(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(t){}r&&fe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=we()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const ze=pe.WebSocket||pe.MozWebSocket;const Re={websocket:class extends Oe{createSocket(e,t,n){return Ie?new ze(e,t,n):t?new ze(e,t):new ze(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Ne{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Sn){return this.emitReserved("error",Sn)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){ue||(ue=new TextDecoder);const n=[];let r=0,a=-1,s=!1;return new TransformStream({transform(l,i){for(n.push(l);;){if(0===r){if(de(n)<1)break;const e=he(n,1);s=!(128&~e[0]),a=127&e[0],r=a<126?3:126===a?1:2}else if(1===r){if(de(n)<2)break;const e=he(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(de(n)<8)break;const e=he(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){i.enqueue(G);break}a=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(de(n)<a)break;const e=he(n,a);i.enqueue(se(s?e:ue.decode(e),t)),r=0}if(0===a||a>e){i.enqueue(G);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=ce();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const a=()=>{n.read().then(({done:e,value:t})=>{e||(this.onPacket(t),a())}).catch(e=>{})};a();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&fe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends _e{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Ae&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Pe(Le,this.uri(),e)}}},De=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Be=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fe(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=De.exec(e||""),s={},l=14;for(;l--;)s[Be[l]]=a[l]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,s.query),s}const qe="function"==typeof addEventListener&&"function"==typeof removeEventListener,Me=[];qe&&addEventListener("offline",()=>{Me.forEach(e=>e())},!1);class $e extends me{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const n=Fe(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Fe(t.host).host);be(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),qe&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Me.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&$e.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",$e.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=ve(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,fe(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if($e.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),qe&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Me.indexOf(this._offlineEventListener);-1!==e&&Me.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}$e.protocol=4;class Ue extends $e{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;$e.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;$e.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function a(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,a(),this.emitReserved("upgradeError",n)};function l(){s("transport closed")}function i(){s("socket closed")}function o(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",l),this.off("close",i),this.off("upgrading",o)};t.once("open",r),t.once("error",s),t.once("close",l),this.once("close",i),this.once("upgrading",o),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let He=class extends Ue{constructor(e,t={}){const n="object"==typeof e?e:t;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(e=>Re[e]).filter(e=>!!e)),super(e,n)}};const Ve="function"==typeof ArrayBuffer,Ke=Object.prototype.toString,We="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Ke.call(Blob),Ge="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Ke.call(File);function Je(e){return Ve&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||We&&e instanceof Blob||Ge&&e instanceof File}function Qe(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Qe(e[t]))return!0;return!1}if(Je(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Qe(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Qe(e[n]))return!0;return!1}function Ye(e){const t=[],n=e.data,r=e;return r.data=Xe(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Xe(e,t){if(!e)return e;if(Je(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Xe(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Xe(e[r],t));return n}return e}function Ze(e,t){return e.data=et(e.data,t),delete e.attachments,e}function et(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=et(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=et(e[n],t));return e}const tt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var nt,rt;(rt=nt||(nt={}))[rt.CONNECT=0]="CONNECT",rt[rt.DISCONNECT=1]="DISCONNECT",rt[rt.EVENT=2]="EVENT",rt[rt.ACK=3]="ACK",rt[rt.CONNECT_ERROR=4]="CONNECT_ERROR",rt[rt.BINARY_EVENT=5]="BINARY_EVENT",rt[rt.BINARY_ACK=6]="BINARY_ACK";function at(e){return"[object Object]"===Object.prototype.toString.call(e)}class st extends me{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===nt.BINARY_EVENT;n||t.type===nt.BINARY_ACK?(t.type=n?nt.EVENT:nt.ACK,this.reconstructor=new lt(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Je(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===nt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===nt.BINARY_EVENT||n.type===nt.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!st.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case nt.CONNECT:return at(t);case nt.DISCONNECT:return void 0===t;case nt.CONNECT_ERROR:return"string"==typeof t||at(t);case nt.EVENT:case nt.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===tt.indexOf(t[0]));case nt.ACK:case nt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class lt{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Ze(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const it=Object.freeze(Object.defineProperty({__proto__:null,Decoder:st,Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==nt.EVENT&&e.type!==nt.ACK||!Qe(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===nt.EVENT?nt.BINARY_EVENT:nt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==nt.BINARY_EVENT&&e.type!==nt.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ye(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}},get PacketType(){return nt},protocol:5},Symbol.toStringTag,{value:"Module"}));function ot(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const ct=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ut extends me{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ot(e,"open",this.onopen.bind(this)),ot(e,"packet",this.onpacket.bind(this)),ot(e,"error",this.onerror.bind(this)),ot(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,r,a;if(ct.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const s={type:nt.EVENT,data:t,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,n=t.pop();this._registerAckCallback(e,n),s.id=e}const l=null===(r=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===r?void 0:r.writable,i=this.connected&&!(null===(a=this.io.engine)||void 0===a?void 0:a._hasPingExpired());return this.flags.volatile&&!l||(i?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},r),s=(...e)=>{this.io.clearTimeoutFn(a),t.apply(this,e)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((n,r)=>{const a=(e,t)=>e?r(e):n(t);a.withError=!0,t.push(a),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...r)=>{if(n!==this._queue[0])return;return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case nt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case nt.EVENT:case nt.BINARY_EVENT:this.onevent(e);break;case nt.ACK:case nt.BINARY_ACK:this.onack(e);break;case nt.DISCONNECT:this.ondisconnect();break;case nt.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:nt.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function dt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}dt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},dt.prototype.reset=function(){this.attempts=0},dt.prototype.setMin=function(e){this.ms=e},dt.prototype.setMax=function(e){this.max=e},dt.prototype.setJitter=function(e){this.jitter=e};class ht extends me{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,be(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new dt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||it;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new He(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=ot(t,"open",function(){n.onopen(),e&&e()}),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=ot(t,"error",a);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),a(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ot(e,"ping",this.onping.bind(this)),ot(e,"data",this.ondata.bind(this)),ot(e,"error",this.onerror.bind(this)),ot(e,"close",this.onclose.bind(this)),ot(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){fe(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new ut(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const mt={};function ft(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=Fe(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,a=n.id,s=n.path,l=mt[a]&&s in mt[a].nsps;let i;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?i=new ht(r,t):(mt[a]||(mt[a]=new ht(r,t)),i=mt[a]),n.query&&!t.query&&(t.query=n.queryKey),i.socket(n.path,t)}Object.assign(ft,{Manager:ht,Socket:ut,io:ft,connect:ft});const pt=n.createContext(),gt=()=>{const e=n.useContext(pt);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},xt=({children:e})=>{const{user:t,token:r}=H(),[a,s]=n.useState(null),[l,i]=n.useState(!1),[o,c]=n.useState([]),[u,d]=n.useState({}),h=n.useRef(null);n.useEffect(()=>{if(!t||!r)return void(h.current&&(h.current.disconnect(),s(null),i(!1)));const e=ft("https://shelter-surfing-production.up.railway.app",{auth:{token:r},transports:["websocket","polling"]});return h.current=e,s(e),e.on("connect",()=>{i(!0)}),e.on("disconnect",()=>{i(!1)}),e.on("connect_error",e=>{i(!1)}),e.on("new_message",e=>{c(t=>[...t,{id:Date.now(),type:"new_message",message:`New message from ${e.sender.name}`,data:e,timestamp:new Date}])}),e.on("notification",e=>{c(t=>[...t,{id:Date.now(),...e,timestamp:new Date}])}),e.on("connection_request",e=>{c(t=>[...t,{id:Date.now(),type:"connection_request",message:`Connection request from ${e.requester.name}`,data:e,timestamp:new Date}])}),e.on("connection_update",e=>{c(t=>[...t,{id:Date.now(),type:"connection_update",message:"connection_approved"===e.type?`Connection approved by ${e.approvedBy.name}`:`Connection rejected by ${e.rejectedBy.name}`,data:e,timestamp:new Date}])}),e.on("user_typing",e=>{d(t=>({...t,[e.conversationId]:e.userId}))}),e.on("user_stop_typing",e=>{d(t=>{const n={...t};return n[e.conversationId]===e.userId&&delete n[e.conversationId],n})}),()=>{e.disconnect()}},[t,r]);const m={socket:a,isConnected:l,notifications:o,typingUsers:u,joinConversation:e=>{a&&l&&a.emit("join_conversation",e)},leaveConversation:e=>{a&&l&&a.emit("leave_conversation",e)},sendTyping:(e,t)=>{a&&l&&a.emit("typing",{recipientId:e,conversationId:t})},sendStopTyping:(e,t)=>{a&&l&&a.emit("stop_typing",{recipientId:e,conversationId:t})},clearNotification:e=>{c(t=>t.filter(t=>t.id!==e))},clearAllNotifications:()=>{c([])}};return z.jsx(pt.Provider,{value:m,children:e})},yt="https://shelter-surfing-production.up.railway.app",bt=()=>{const{token:e}=H(),{notifications:t}=gt(),[r,a]=n.useState(0),[s,l]=n.useState(0),[i,o]=n.useState(!0),c=async()=>{if(e)try{const t=await fetch(`${yt}/api/messages/unread/count`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();a(e.data.unreadCount)}}catch(t){}},u=async()=>{var t;if(e)try{const n=await fetch(`${yt}/api/connections/requests`,{headers:{Authorization:`Bearer ${e}`}});if(n.ok){const e=await n.json();l((null==(t=e.connections)?void 0:t.length)||0)}}catch(n){}},d=async()=>{o(!0),await Promise.all([c(),u()]),o(!1)};return n.useEffect(()=>{d()},[e]),n.useEffect(()=>{const e=t.some(e=>"new_message"===e.type),n=t.some(e=>["connection_request","connection_accepted"].includes(e.type));e&&c(),n&&u()},[t]),{unreadCount:r,connectionRequestsCount:s,isLoading:i,refreshCounts:d}},vt=({count:e,className:t=""})=>e&&0!==e?z.jsx("span",{className:`\n      absolute -top-1 -right-1 \n      inline-flex items-center justify-center \n      px-1.5 py-0.5 \n      text-xs font-bold \n      text-white \n      bg-red-500 \n      rounded-full \n      min-w-[18px] \n      h-[18px]\n      ${t}\n    `,children:e>99?"99+":e}):null,wt=()=>{var e,t;const{user:l,isAuthenticated:i,logout:o}=H(),{unreadCount:c,connectionRequestsCount:u}=bt(),d=r(),h=a(),[m,f]=n.useState(!1),[p,g]=n.useState(!1),x=()=>{o(),d("/"),f(!1),g(!1)},y=e=>h.pathname===e,b=()=>{f(!1),g(!1)};return z.jsxs("nav",{className:"bg-white/95 backdrop-blur-md sticky top-0 z-50 border-b border-white/20 shadow-lg",children:[z.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"flex justify-between h-16",children:[z.jsx("div",{className:"flex-shrink-0 flex items-center",children:z.jsxs(s,{to:"/",className:"flex items-center group",onClick:b,children:[z.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mr-3 group-hover:shadow-lg transition-all duration-300 border border-blue-600/20",children:z.jsx("span",{className:"text-white text-xl",children:"🏠"})}),z.jsx("span",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-all duration-300",children:"Shelter Surfing"})]})}),z.jsx("div",{className:"hidden md:flex md:items-center md:space-x-2",children:i?z.jsxs(z.Fragment,{children:[z.jsx(s,{to:"/dashboard",className:"px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 "+(y("/dashboard")?"bg-blue-100/80 text-blue-700 shadow-md backdrop-blur-sm border border-blue-200/50":"text-gray-600 hover:text-blue-600 hover:bg-white/50 backdrop-blur-sm"),children:"Dashboard"}),z.jsx(s,{to:"/matches",className:"px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 "+(y("/matches")?"bg-blue-100/80 text-blue-700 shadow-md backdrop-blur-sm border border-blue-200/50":"text-gray-600 hover:text-blue-600 hover:bg-white/50 backdrop-blur-sm"),children:"Matches"}),z.jsxs(s,{to:"/messages",className:"relative px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 "+(y("/messages")?"bg-blue-100/80 text-blue-700 shadow-md backdrop-blur-sm border border-blue-200/50":"text-gray-600 hover:text-blue-600 hover:bg-white/50 backdrop-blur-sm"),children:["Messages",z.jsx(vt,{count:c})]}),z.jsxs(s,{to:"/connections/requests",className:"relative px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 "+(y("/connections/requests")?"bg-blue-100/80 text-blue-700 shadow-md backdrop-blur-sm border border-blue-200/50":"text-gray-600 hover:text-blue-600 hover:bg-white/50 backdrop-blur-sm"),children:["Connections",z.jsx(vt,{count:u})]}),"HOST"===(null==l?void 0:l.role)?z.jsx(s,{to:"/shelter/new",className:"bg-gradient-to-r from-green-400 to-green-500 hover:from-green-500 hover:to-green-600 text-white font-medium px-4 py-2 rounded-xl transition-all duration-300 shadow-md border border-green-500/20 ml-3 text-sm",children:"Offer Shelter"}):z.jsx(s,{to:"/request/new",className:"bg-gradient-to-r from-green-400 to-green-500 hover:from-green-500 hover:to-green-600 text-white font-medium px-4 py-2 rounded-xl transition-all duration-300 shadow-md border border-green-500/20 ml-3 text-sm",children:"Request Shelter"}),z.jsxs("div",{className:"relative ml-3",children:[z.jsx("button",{onClick:()=>{g(!p),f(!1)},className:"flex items-center space-x-2 p-2 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-white/50 transition-all duration-300 focus:outline-none backdrop-blur-sm",children:(null==l?void 0:l.profileImage1)?z.jsx("div",{className:"w-9 h-9 rounded-xl overflow-hidden shadow-md border border-blue-600/20",children:z.jsx("img",{src:l.profileImage1,alt:`${l.name} - Profile`,className:"w-full h-full object-cover"})}):z.jsx("div",{className:"w-9 h-9 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md border border-blue-600/20 hover:shadow-lg transition-all duration-300",children:z.jsx("span",{className:"text-white font-semibold text-sm",children:null==(e=null==l?void 0:l.name)?void 0:e.charAt(0).toUpperCase()})})}),p&&z.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white/95 backdrop-blur-md rounded-xl shadow-lg py-2 border border-white/20",children:[z.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[z.jsx("p",{className:"font-semibold text-gray-900",children:null==l?void 0:l.name}),z.jsx("p",{className:"text-sm text-gray-500",children:null==l?void 0:l.role})]}),z.jsxs("div",{className:"py-1",children:[z.jsx(s,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-white/50 hover:text-blue-600 transition-all duration-300 backdrop-blur-sm",onClick:()=>g(!1),children:"Profile Settings"}),z.jsx("button",{onClick:x,className:"block w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-red-50/50 hover:text-red-600 transition-all duration-300 backdrop-blur-sm",children:"Sign Out"})]})]})]})]}):z.jsxs(z.Fragment,{children:[z.jsx(s,{to:"/login",className:"px-4 py-2 rounded-xl text-sm font-medium text-gray-600 hover:text-blue-600 hover:bg-white/50 transition-all duration-300 backdrop-blur-sm",children:"Sign In"}),z.jsx(s,{to:"/register",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium px-4 py-2 rounded-xl transition-all duration-300 shadow-md border border-blue-600/20 ml-3 text-sm",children:"Sign Up"})]})}),z.jsx("div",{className:"md:hidden flex items-center",children:z.jsxs("button",{onClick:()=>{f(!m),g(!1)},className:"inline-flex items-center justify-center p-2 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-white/50 focus:outline-none transition-all duration-300 backdrop-blur-sm",children:[z.jsx("span",{className:"sr-only",children:"Open main menu"}),m?z.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):z.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),m&&z.jsx("div",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-white/10",children:z.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:i?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"px-3 py-3 border-b border-white/10 mb-2",children:z.jsxs("div",{className:"flex items-center space-x-3",children:[(null==l?void 0:l.profileImage1)?z.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden shadow-md border border-blue-600/20",children:z.jsx("img",{src:l.profileImage1,alt:`${l.name} - Profile`,className:"w-full h-full object-cover"})}):z.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md border border-blue-600/20",children:z.jsx("span",{className:"text-white font-semibold text-lg",children:null==(t=null==l?void 0:l.name)?void 0:t.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-sm font-medium text-gray-900",children:null==l?void 0:l.name}),z.jsx("p",{className:"text-xs text-gray-500",children:null==l?void 0:l.role})]})]})}),z.jsx(s,{to:"/dashboard",className:"block px-3 py-2 rounded-xl text-base font-medium transition-all duration-300 "+(y("/dashboard")?"bg-blue-100/80 text-blue-700 border border-blue-200/50":"text-gray-600 hover:text-blue-600 hover:bg-white/50"),onClick:b,children:"Dashboard"}),z.jsx(s,{to:"/matches",className:"block px-3 py-2 rounded-xl text-base font-medium transition-all duration-300 "+(y("/matches")?"bg-blue-100/80 text-blue-700 border border-blue-200/50":"text-gray-600 hover:text-blue-600 hover:bg-white/50"),onClick:b,children:"Matches"}),z.jsx(s,{to:"/messages",className:"block px-3 py-2 rounded-xl text-base font-medium transition-all duration-300 "+(y("/messages")?"bg-blue-100/80 text-blue-700 border border-blue-200/50":"text-gray-600 hover:text-blue-600 hover:bg-white/50"),onClick:b,children:z.jsxs("div",{className:"flex justify-between items-center",children:[z.jsx("span",{children:"Messages"}),c>0&&z.jsx("span",{className:"bg-red-200/80 text-red-600 px-2 py-1 rounded-full text-xs font-medium border border-red-300/50",children:c})]})}),z.jsx(s,{to:"/connections/requests",className:"block px-3 py-2 rounded-xl text-base font-medium transition-all duration-300 "+(y("/connections/requests")?"bg-blue-100/80 text-blue-700 border border-blue-200/50":"text-gray-600 hover:text-blue-600 hover:bg-white/50"),onClick:b,children:z.jsxs("div",{className:"flex justify-between items-center",children:[z.jsx("span",{children:"Connection Requests"}),u>0&&z.jsx("span",{className:"bg-red-200/80 text-red-600 px-2 py-1 rounded-full text-xs font-medium border border-red-300/50",children:u})]})}),"HOST"===(null==l?void 0:l.role)?z.jsx(s,{to:"/shelter/new",className:"block px-3 py-2 text-base font-medium bg-gradient-to-r from-green-400 to-green-500 hover:from-green-500 hover:to-green-600 text-white rounded-xl transition-all duration-300 shadow-md border border-green-500/20",onClick:b,children:"Offer Shelter"}):z.jsx(s,{to:"/request/new",className:"block px-3 py-2 text-base font-medium bg-gradient-to-r from-green-400 to-green-500 hover:from-green-500 hover:to-green-600 text-white rounded-xl transition-all duration-300 shadow-md border border-green-500/20",onClick:b,children:"Request Shelter"}),z.jsxs("div",{className:"border-t border-white/10 pt-2 mt-2",children:[z.jsx(s,{to:"/profile",className:"block px-3 py-2 rounded-xl text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-white/50",onClick:b,children:"Profile Settings"}),z.jsx("button",{onClick:x,className:"block w-full text-left px-3 py-2 rounded-xl text-base font-medium text-red-500 hover:bg-red-100/50 hover:text-red-600",children:"Sign Out"})]})]}):z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"px-3 py-3 border-b border-white/10 mb-2",children:[z.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Welcome to Shelter Surfing"}),z.jsx("p",{className:"text-xs text-gray-500",children:"Connect with hosts and seekers"})]}),z.jsx(s,{to:"/login",className:"block px-3 py-2 rounded-xl text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-white/50",onClick:b,children:"Sign In"}),z.jsx(s,{to:"/register",className:"block px-3 py-2 text-base font-medium bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl transition-all duration-300 shadow-md border border-blue-600/20",onClick:b,children:"Sign Up"})]})})})]})},jt=()=>{const{notifications:e,clearNotification:t}=gt(),[r,a]=n.useState([]);n.useEffect(()=>{const n=e.filter(e=>!r.find(t=>t.id===e.id));n.length>0&&(a(e=>[...e,...n]),n.forEach(e=>{setTimeout(()=>{a(t=>t.filter(t=>t.id!==e.id)),t(e.id)},5e3)}))},[e,r,t]);const s=e=>{switch(e){case"new_message":return"💬";case"connection_request":return"👋";case"connection_update":return"✅";default:return"🔔"}},l=e=>{switch(e){case"success":return"notification-success";case"error":return"notification-error";case"warning":return"notification-warning";default:return"notification-info"}};return 0===r.length?null:z.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(e=>z.jsx("div",{className:`${l(e.type)} text-white px-4 py-3 rounded-xl shadow-large max-w-sm transform transition-all duration-300 ease-in-out animate-slide-down`,children:z.jsxs("div",{className:"flex items-start space-x-3",children:[z.jsx("div",{className:"flex-shrink-0 text-lg",children:s(e.type)}),z.jsxs("div",{className:"flex-1 min-w-0",children:[z.jsx("p",{className:"text-sm font-medium",children:e.message}),z.jsx("p",{className:"text-xs opacity-75 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]}),z.jsx("button",{onClick:()=>{return n=e.id,a(e=>e.filter(e=>e.id!==n)),void t(n);var n},className:"flex-shrink-0 text-white/80 hover:text-white transition-colors duration-300 p-1 rounded-lg hover:bg-white/10",children:z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},e.id))})},Nt=({children:e,requiredRole:t=null})=>{const{user:n,isAuthenticated:r,loading:s}=H(),i=a();return s?z.jsx("div",{className:"min-h-screen flex items-center justify-center",children:z.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):r?t&&n.role!==t?z.jsx("div",{className:"min-h-screen flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),z.jsx("button",{onClick:()=>window.history.back(),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Go Back"})]})}):e:z.jsx(l,{to:"/login",state:{from:i},replace:!0})},kt=(e,t,n)=>{if(e&&"reportValidity"in e){const r=d(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},St=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?kt(r.ref,n,e):r&&r.refs&&r.refs.forEach(t=>kt(t,n,e))}},Ct=(e,t)=>{t.shouldUseNativeValidation&&St(e,t);const n={};for(const r in e){const a=d(t.fields,r),s=Object.assign(e[r]||{},{ref:a&&a.ref});if(Et(t.names||Object.keys(e),r)){const e=Object.assign({},d(n,r));h(e,"root",s),h(n,r,e)}else h(n,r,s)}return n},Et=(e,t)=>{const n=_t(t);return e.some(e=>_t(e).match(`^${n}\\.\\d+`))};function _t(e){return e.replace(/\]|\[/g,"")}function Pt(e,t,n){return void 0===n&&(n={}),function(r,a,s){try{return Promise.resolve(function(l,i){try{var o=(null!=t&&t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:a}))).then(function(e){return s.shouldUseNativeValidation&&St({},s),{values:n.raw?Object.assign({},r):e,errors:{}}}))}catch(c){return i(c)}return o&&o.then?o.then(void 0,i):o}(0,function(e){if(!e.inner)throw e;return{values:{},errors:Ct((t=e,n=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(t.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,a=r&&r[t.type];e[t.path]=m(t.path,n,e,t.type,a?[].concat(a,t.message):t.message)}return e},{})),s)};var t,n}))}catch(l){return Promise.reject(l)}}}const Tt=({label:e,name:t,type:n="text",placeholder:r,value:a,onChange:s,error:l,required:i=!1,disabled:o=!1,className:c="",...u})=>z.jsxs("div",{className:c,children:[e&&z.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-2",children:[e," ",i&&z.jsx("span",{className:"text-red-500",children:"*"})]}),z.jsx("input",{id:t,name:t,type:n,value:a,onChange:s,placeholder:r,disabled:o,className:"input-field "+(l?"border-red-500 focus:ring-red-500 focus:border-red-500":""),...u}),l&&z.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[z.jsx("span",{className:"mr-1",children:"⚠"}),l]})]}),At=({children:e,type:t="button",variant:n="primary",size:r="medium",disabled:a=!1,loading:s=!1,fullWidth:l=!1,className:i="",onClick:o,...c})=>{const u=["inline-flex items-center justify-center font-medium rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"btn-primary",secondary:"btn-secondary",success:"btn-success",danger:"btn-danger",warning:"btn-warning",outline:"btn-outline",ghost:"btn-ghost"}[n],{small:"px-4 py-2 text-sm",medium:"px-6 py-3 text-sm",large:"px-8 py-4 text-base"}[r],a||s?"opacity-50 cursor-not-allowed":"",l?"w-full":"",s?"cursor-not-allowed":"",i].filter(Boolean).join(" ");return z.jsxs("button",{type:t,disabled:a||s,onClick:o,className:u,...c,children:[s&&z.jsx("div",{className:"loading-spinner w-4 h-4 mr-2"}),e]})},Lt=f({email:p().email("Invalid email format").required("Email is required"),password:p().min(6,"Password must be at least 6 characters").required("Password is required")}).required(),It=()=>{var e,t,l,i;const{login:o}=H(),c=r(),u=a(),[d,h]=n.useState(!1),[m,f]=n.useState(""),p=(null==(t=null==(e=u.state)?void 0:e.from)?void 0:t.pathname)||"/dashboard",{register:x,handleSubmit:y,formState:{errors:b}}=g({resolver:Pt(Lt)});return z.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[z.jsx("div",{className:"flex justify-center",children:z.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-3xl",children:"🏠"})})}),z.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome back"}),z.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your Shelter Surfing account"}),z.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",z.jsx(s,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up here"})]})]}),z.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:z.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[m&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:m}),z.jsxs("form",{onSubmit:y(async e=>{h(!0),f("");try{await o(e),c(p,{replace:!0})}catch(t){f(t.message)}finally{h(!1)}}),className:"space-y-6",children:[z.jsx(Tt,{label:"Email Address",name:"email",type:"email",placeholder:"Enter your email",...x("email"),error:null==(l=b.email)?void 0:l.message,autoComplete:"email",disabled:d}),z.jsx(Tt,{label:"Password",name:"password",type:"password",placeholder:"Enter your password",...x("password"),error:null==(i=b.password)?void 0:i.message,autoComplete:"current-password",disabled:d}),z.jsx(At,{type:"submit",loading:d,fullWidth:!0,variant:"primary",children:"Sign in"})]}),z.jsxs("div",{className:"mt-6",children:[z.jsxs("div",{className:"relative",children:[z.jsx("div",{className:"absolute inset-0 flex items-center",children:z.jsx("div",{className:"w-full border-t border-gray-300"})}),z.jsx("div",{className:"relative flex justify-center text-sm",children:z.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Demo Account"})})]}),z.jsxs("div",{className:"mt-4 bg-gray-50 rounded-md p-4",children:[z.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Try signing in with these demo credentials:"}),z.jsxs("div",{className:"text-xs font-mono text-gray-700 space-y-1",children:[z.jsxs("div",{children:[z.jsx("strong",{children:"Email:"})," demo@example.com"]}),z.jsxs("div",{children:[z.jsx("strong",{children:"Password:"})," password123"]})]})]})]})]})})]})},Ot=({label:e,name:t,value:n,onChange:r,options:a=[],placeholder:s="Select an option",error:l,required:i=!1,disabled:o=!1,className:c="",...u})=>z.jsxs("div",{className:c,children:[e&&z.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-2",children:[e," ",i&&z.jsx("span",{className:"text-red-500",children:"*"})]}),z.jsxs("select",{id:t,name:t,value:n,onChange:r,disabled:o,className:"input-field "+(l?"border-red-500 focus:ring-red-500 focus:border-red-500":""),...u,children:[z.jsx("option",{value:"",disabled:!0,children:s}),a.map(e=>z.jsx("option",{value:e.value,children:e.label},e.value))]}),l&&z.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[z.jsx("span",{className:"mr-1",children:"⚠"}),l]})]}),zt=f({name:p().min(2,"Name must be at least 2 characters").required("Name is required"),email:p().email("Invalid email format").required("Email is required"),password:p().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:p().oneOf([x("password"),null],"Passwords must match").required("Please confirm your password"),locationInput:p().required("Location is required"),role:p().oneOf(["HOST","SEEKER"],"Please select a valid role").required("Role is required")}).required(),Rt=()=>{var e,t,a,l,i,o;const{register:c}=H(),u=r(),[d,h]=n.useState(!1),[m,f]=n.useState(""),{register:p,handleSubmit:x,formState:{errors:y},watch:b,setValue:v}=g({resolver:Pt(zt),defaultValues:{role:"SEEKER"}});b("role");return z.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[z.jsx("div",{className:"flex justify-center",children:z.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-3xl",children:"🏠"})})}),z.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Join Shelter Surfing"}),z.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Create your account to get started"}),z.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",z.jsx(s,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in here"})]})]}),z.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:z.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[m&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:m}),z.jsxs("form",{onSubmit:x(async e=>{h(!0),f("");try{await c(e),u("/dashboard")}catch(t){f(t.message)}finally{h(!1)}}),className:"space-y-6",children:[z.jsx(Tt,{label:"Full Name",name:"name",type:"text",placeholder:"Enter your full name",...p("name"),error:null==(e=y.name)?void 0:e.message,disabled:d}),z.jsx(Tt,{label:"Email Address",name:"email",type:"email",placeholder:"Enter your email",...p("email"),error:null==(t=y.email)?void 0:t.message,disabled:d}),z.jsx(Tt,{label:"Password",name:"password",type:"password",placeholder:"Create a password",...p("password"),error:null==(a=y.password)?void 0:a.message,disabled:d}),z.jsx(Tt,{label:"Confirm Password",name:"confirmPassword",type:"password",placeholder:"Confirm your password",...p("confirmPassword"),error:null==(l=y.confirmPassword)?void 0:l.message,disabled:d}),z.jsx(Tt,{label:"Location",name:"locationInput",type:"text",placeholder:"Enter your city, state, or area",...p("locationInput"),error:null==(i=y.locationInput)?void 0:i.message,disabled:d}),z.jsx(Ot,{label:"Account Type",name:"role",value:b("role"),onChange:e=>v("role",e.target.value),options:[{value:"SEEKER",label:"Seeker (I need shelter)"},{value:"HOST",label:"Host (I can offer shelter)"}],error:null==(o=y.role)?void 0:o.message,disabled:d,required:!0}),z.jsx(At,{type:"submit",loading:d,fullWidth:!0,variant:"primary",children:"Create Account"})]}),z.jsx("div",{className:"mt-6 text-center",children:z.jsxs("p",{className:"text-xs text-gray-500",children:["By creating an account, you agree to our"," ",z.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Terms of Service"})," ","and"," ",z.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})})]})})]})},Dt="https://shelter-surfing-production.up.railway.app",Bt=e=>{const{token:t}=H(),[r,a]=n.useState({}),[s,l]=n.useState(!0),[i,o]=n.useState(null),c=n.useCallback(async()=>{if(t){l(!0);try{const e=await fetch(`${Dt}/api/connections/status`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch connection statuses");const n=await e.json();a(n.data.statuses||{})}catch(Sn){o(Sn.message)}finally{l(!1)}}else l(!1)},[t]),u=n.useCallback(async e=>{if(e&&t){l(!0);try{const n=await fetch(`${Dt}/api/connections/check/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("Failed to check connection status");const r=await n.json();a(t=>({...t,[e]:{connected:r.connected,status:r.status,connectionId:r.connectionId}}))}catch(Sn){o(Sn.message)}finally{l(!1)}}else l(!1)},[t]);n.useEffect(()=>{e?u(e):c()},[e,t,u,c]);const d=n.useCallback(()=>{e?u(e):c()},[e,u,c]),h=e&&r[e]||{};return{connected:h.connected,status:h.status,connectionId:h.connectionId,connectionStatus:r,isLoading:s,error:i,refreshConnection:d}},Ft=({isOpen:e,onClose:t,recipientId:r,recipientName:a,onSuccess:s})=>{const{token:l}=H(),[i,o]=n.useState(""),[c,u]=n.useState(!1),[d,h]=n.useState("");return e?z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:z.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Request Connection"}),z.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),z.jsxs("p",{className:"text-gray-600 mb-4",children:["Send a connection request to ",z.jsx("span",{className:"font-medium",children:a})," to start messaging."]}),z.jsxs("form",{onSubmit:async e=>{e.preventDefault(),u(!0),h("");try{const e=await fetch("https://shelter-surfing-production.up.railway.app/api/connections",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({recipientId:r,message:i.trim()||null})}),n=await e.json();if(!e.ok)throw new Error(n.error||"Failed to send connection request");s&&s(n.connection),t(),o("")}catch(n){h(n.message)}finally{u(!1)}},className:"space-y-4",children:[d&&z.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:d}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),z.jsx("textarea",{value:i,onChange:e=>o(e.target.value),placeholder:"Introduce yourself and explain why you'd like to connect...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:3,maxLength:500}),z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.length,"/500 characters"]})]}),z.jsxs("div",{className:"flex gap-3 pt-2",children:[z.jsx(At,{type:"submit",isLoading:c,className:"flex-1",children:"Send Request"}),z.jsx(At,{type:"button",variant:"secondary",onClick:t,className:"flex-1",children:"Cancel"})]})]})]})}):null},qt=({shelter:e,showActions:t=!0,showDistance:a=!1,showRequestInfo:s=!1,onEdit:l,onDelete:i,onContact:o,onViewDetails:c})=>{var u,d,h,m,f,p,g,x;const y=r(),{user:b}=H(),[v,w]=n.useState(!1),j=(null==b?void 0:b.id)===(null==(u=e.host)?void 0:u.id),{connected:N,isLoading:k,refreshConnection:S}=Bt(j?null:null==(d=e.host)?void 0:d.id),C=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=e=>e<=5?"text-green-600":e<=15?"text-yellow-600":"text-red-600",_=()=>{var t;if(b&&(null==(t=e.host)?void 0:t.id)&&b.id!==e.host.id)if(N){const t=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;y(`/messages/${t}`,{state:{recipientId:e.host.id,recipientName:e.host.name}})}else w(!0)},P=()=>{c?c(e):y(`/shelter/${e.id}`)};return z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"card card-hover p-6",children:[(e.image1||e.image2)&&z.jsx("div",{className:"mb-6",children:z.jsxs("div",{className:"flex space-x-3 overflow-x-auto",children:[e.image1&&z.jsx("div",{className:"flex-shrink-0 w-40 h-28 rounded-lg overflow-hidden shadow-md",children:z.jsx("img",{src:e.image1,alt:`${e.title} - Image 1`,className:"w-full h-full object-cover"})}),e.image2&&z.jsx("div",{className:"flex-shrink-0 w-40 h-28 rounded-lg overflow-hidden shadow-md",children:z.jsx("img",{src:e.image2,alt:`${e.title} - Image 2`,className:"w-full h-full object-cover"})})]})}),z.jsxs("div",{className:"flex items-center justify-between mb-6",children:[z.jsxs("div",{className:"flex items-center",children:[z.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mr-4 shadow-md border border-blue-600/20",children:z.jsx("span",{className:"text-white font-bold text-lg",children:(null==(m=null==(h=e.host)?void 0:h.name)?void 0:m.charAt(0).toUpperCase())||"H"})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(null==(f=e.host)?void 0:f.name)||"Host"}),z.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[z.jsx("span",{className:"mr-1",children:"📍"}),e.locationInput]})]})]}),a&&(e.distance||0===e.distance)&&z.jsxs("div",{className:"badge "+(E(e.distance).includes("green")?"badge-success":E(e.distance).includes("yellow")?"badge-warning":"badge-danger"),children:[(T=e.distance,T<=5?"🟢":T<=15?"🟡":"🔴")," ",e.distance," km"]})]}),z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),z.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:e.description})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4 border-t border-b border-gray-200/50",children:[z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"icon-container bg-blue-100/80 text-blue-600 border-blue-200/50 mr-3",children:z.jsx("span",{className:"text-blue-600 text-sm",children:"📅"})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Available From"}),z.jsx("p",{className:"text-sm font-medium text-gray-900",children:C(e.availableFrom)})]})]}),z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"icon-container bg-green-100/80 text-green-600 border-green-200/50 mr-3",children:z.jsx("span",{className:"text-green-600 text-sm",children:"📅"})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Available Until"}),z.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.availableTo?C(e.availableTo):"Ongoing"})]})]}),z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"icon-container bg-gray-100/80 text-gray-600 border-gray-200/50 mr-3",children:z.jsx("span",{className:"text-gray-600 text-sm",children:"👥"})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Capacity"}),z.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[e.capacity," people"]})]})]}),z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"icon-container bg-yellow-100/80 text-yellow-600 border-yellow-200/50 mr-3",children:z.jsx("span",{className:"text-yellow-600 text-sm",children:"📍"})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),z.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.locationInput})]})]})]}),e.tags&&e.tags.length>0&&z.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((t,n)=>z.jsx("span",{className:"badge badge-success",children:t.replace("-"," ")},`${e.id}-${t}-${n}`))}),t&&z.jsx("div",{className:"flex gap-3 mt-6",children:j?z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:P,className:"btn-secondary flex-1",children:"View Details"}),z.jsx("button",{onClick:()=>{l?l(e):y(`/shelter/${e.id}/edit`)},className:"btn-outline flex-1",children:"Edit"}),z.jsx("button",{onClick:()=>{i&&i(e.id)},className:"btn-danger-outline flex-1",children:"Delete"})]}):z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:P,className:"btn-primary flex-1",children:"View Details"}),N?z.jsx("button",{onClick:_,className:"btn-success flex-1",disabled:k,children:k?"Loading...":"Message"}):z.jsx("button",{onClick:_,className:"btn-outline flex-1",disabled:k,children:k?"Loading...":"Request Connection"})]})})]})]}),v&&z.jsx(Ft,{isOpen:v,onClose:()=>w(!1),recipientId:null==(p=e.host)?void 0:p.id,recipientName:null==(g=e.host)?void 0:g.name,onSuccess:()=>{S()},message:`Hi ${null==(x=e.host)?void 0:x.name}, I'm interested in your shelter "${e.title}" in ${e.locationInput}.`})]});var T},Mt=({request:e,showActions:t=!0,showDistance:a=!1,showSeekerInfo:s=!0,onEdit:l,onDelete:i,onContact:o,onViewDetails:c})=>{var u,d,h;const m=r(),{user:f}=H(),[p,g]=n.useState(!1),{connected:x,status:y,isLoading:b,refreshConnection:v}=Bt(null==(u=e.seeker)?void 0:u.id),w=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),j=e=>{switch(e){case"PENDING":return"badge-warning";case"APPROVED":return"badge-success";case"REJECTED":return"badge-danger";case"COMPLETED":return"badge-primary";default:return"badge-secondary"}},N=e=>e<=5?"text-green-600":e<=15?"text-yellow-600":"text-red-600",k=()=>{l?l(e):m(`/request/${e.id}/edit`)},S=()=>{i&&i(e.id)};return a||s?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"card card-hover p-6",children:z.jsxs("div",{className:"",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("span",{className:`badge ${j(e.status)}`,children:e.status}),a&&(0===e.distance||e.distance)&&z.jsxs("span",{className:"badge "+(N(e.distance).includes("green")?"badge-success":N(e.distance).includes("yellow")?"badge-warning":"badge-danger"),children:[(C=e.distance,C<=5?"🟢":C<=15?"🟡":"🔴")," ",e.distance," km away"]})]}),z.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Shelter Request"}),z.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description||`Need shelter for ${e.numberOfPeople} ${1===e.numberOfPeople?"person":"people"} on ${w(e.date)}`}),s&&e.seeker&&z.jsxs("div",{className:"flex items-center mb-3",children:[e.seeker.profileImage1||e.seeker.profileImage2?z.jsxs("div",{className:"flex space-x-2 mr-3",children:[e.seeker.profileImage1&&z.jsx("div",{className:"w-8 h-8 rounded-xl overflow-hidden shadow-soft",children:z.jsx("img",{src:e.seeker.profileImage1,alt:`${e.seeker.name} - Profile 1`,className:"w-full h-full object-cover"})}),e.seeker.profileImage2&&z.jsx("div",{className:"w-8 h-8 rounded-xl overflow-hidden shadow-soft",children:z.jsx("img",{src:e.seeker.profileImage2,alt:`${e.seeker.name} - Profile 2`,className:"w-full h-full object-cover"})})]}):z.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-xl flex items-center justify-center mr-3 border border-primary-600/20",children:z.jsx("span",{className:"text-sm font-bold text-white",children:e.seeker.name.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.seeker.name}),z.jsx("p",{className:"text-xs text-gray-500",children:e.seeker.locationInput})]})]}),z.jsxs("div",{className:"space-y-2 mb-4",children:[z.jsxs("div",{className:"flex justify-between text-sm",children:[z.jsx("span",{className:"text-gray-500",children:"Number of People:"}),z.jsxs("span",{className:"font-medium text-gray-900",children:[e.numberOfPeople," ",1===e.numberOfPeople?"person":"people"]})]}),z.jsxs("div",{className:"flex justify-between text-sm",children:[z.jsx("span",{className:"text-gray-500",children:"Date Needed:"}),z.jsx("span",{className:"font-medium text-gray-900",children:w(e.date)})]}),z.jsxs("div",{className:"flex justify-between text-sm",children:[z.jsx("span",{className:"text-gray-500",children:"Location:"}),z.jsx("span",{className:"font-medium text-gray-900",children:e.locationInput})]}),z.jsxs("div",{className:"flex justify-between text-sm",children:[z.jsx("span",{className:"text-gray-500",children:"Submitted:"}),z.jsx("span",{className:"font-medium text-gray-900",children:w(e.createdAt)})]})]}),e.tags&&e.tags.length>0&&z.jsx("div",{className:"mb-4",children:z.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((e,t)=>z.jsx("span",{className:"badge badge-success",children:e.replace("-"," ")},t)),e.tags.length>3&&z.jsxs("span",{className:"badge badge-secondary",children:["+",e.tags.length-3," more"]})]})}),t&&z.jsx("div",{className:"flex space-x-2",children:a?z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:()=>{var t;if(f&&(null==(t=e.seeker)?void 0:t.id)&&f.id!==e.seeker.id)if(x){const t=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;m(`/messages/${t}`,{state:{recipientId:e.seeker.id,recipientName:e.seeker.name}})}else g(!0)},disabled:b||"PENDING"===y,className:"PENDING"===y?"flex-1 bg-gray-400 text-white px-3 py-2 rounded-md cursor-not-allowed text-sm font-medium":"flex-1 bg-green-600 text-white px-3 py-2 rounded-md hover:bg-green-700 transition-colors text-sm font-medium",children:b?"Loading...":x?"Message Seeker":"PENDING"===y?"Request Sent":"Request Connection"}),z.jsx("button",{onClick:()=>{c?c(e):alert("Detailed view coming soon! You would see more details about this request.")},className:"btn-secondary flex-1",children:"Details"})]}):z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:k,className:"btn-primary flex-1",children:"Edit"}),z.jsx("button",{onClick:S,className:"btn-danger-outline flex-1",children:"Delete"})]})})]})}),z.jsx(Ft,{isOpen:p,onClose:()=>g(!1),recipientId:null==(d=e.seeker)?void 0:d.id,recipientName:null==(h=e.seeker)?void 0:h.name,onSuccess:()=>{v()}})]}):z.jsx(z.Fragment,{children:z.jsxs("div",{className:"card card-hover p-6",children:[z.jsxs("div",{className:"flex items-center justify-between mb-6",children:[z.jsx("span",{className:`badge ${j(e.status)}`,children:e.status}),z.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[z.jsx("span",{className:"mr-1",children:"📅"}),"Submitted ",w(e.createdAt)]})]}),z.jsxs("div",{className:"flex items-center mb-6",children:[z.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mr-4 shadow-md border border-blue-600/20",children:z.jsx("span",{className:"text-white text-xl",children:"🏠"})}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your Shelter Request"}),z.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",e.status]})]})]}),z.jsxs("div",{className:"text-sm text-gray-700 space-y-4 pl-4 border-l-2 border-blue-200/50",children:[z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"icon-container bg-blue-100/80 text-blue-600 border-blue-200/50 mr-3",children:z.jsx("span",{className:"text-blue-600 text-xs",children:"📍"})}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"Location:"})," ",e.locationInput]})]}),z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"icon-container bg-green-100/80 text-green-600 border-green-200/50 mr-3",children:z.jsx("span",{className:"text-green-600 text-xs",children:"📅"})}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"Date Needed:"})," ",w(e.date)]})]}),z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"icon-container bg-gray-100/80 text-gray-600 border-gray-200/50 mr-3",children:z.jsx("span",{className:"text-gray-600 text-xs",children:"👥"})}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"People:"})," ",e.numberOfPeople," ",1===e.numberOfPeople?"person":"people"]})]}),e.description&&z.jsx("div",{className:"pt-2",children:z.jsxs("div",{className:"flex items-start",children:[z.jsx("span",{className:"icon-container bg-yellow-100/80 text-yellow-600 border-yellow-200/50 mr-3 mt-0.5",children:z.jsx("span",{className:"text-yellow-600 text-xs",children:"📝"})}),z.jsxs("div",{children:[z.jsx("p",{className:"font-semibold text-gray-500",children:"Description:"}),z.jsxs("p",{className:"text-gray-600 pl-2 text-sm italic mt-1",children:['"',e.description,'"']})]})]})})]}),e.tags&&e.tags.length>0&&z.jsxs("div",{className:"mt-6",children:[z.jsx("p",{className:"font-semibold text-gray-500 text-sm mb-3",children:"Tags:"}),z.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tags.slice(0,3).map((e,t)=>z.jsx("span",{className:"badge badge-primary",children:e.replace("-"," ")},t)),e.tags.length>3&&z.jsxs("span",{className:"badge badge-secondary",children:["+",e.tags.length-3," more"]})]})]}),t&&z.jsxs("div",{className:"flex space-x-3 mt-6 pt-4 border-t border-gray-200/50",children:[z.jsx("button",{onClick:k,className:"btn-outline flex-1",children:"Edit Request"}),z.jsx("button",{onClick:S,className:"btn-danger-outline flex-1",children:"Delete Request"})]})]})});var C},$t=()=>{var e;const{user:t,token:l}=H(),i=r(),o=a(),[c,u]=n.useState([]),[d,h]=n.useState([]),[m,f]=n.useState(!0),[p,g]=n.useState(""),x=null==(e=o.state)?void 0:e.message;n.useEffect(()=>{"HOST"===(null==t?void 0:t.role)?y():"SEEKER"===(null==t?void 0:t.role)?b():f(!1)},[t,l]);const y=async()=>{try{const e=await fetch("https://shelter-surfing-production.up.railway.app/api/shelters/host/my-shelters",{headers:{Authorization:`Bearer ${l}`}});if(!e.ok)throw new Error("Failed to fetch shelters");const t=await e.json();u(t.shelters)}catch(e){g("Failed to load your shelters")}finally{f(!1)}},b=async()=>{try{const e=await fetch("https://shelter-surfing-production.up.railway.app/api/requests/seeker/my-requests",{headers:{Authorization:`Bearer ${l}`}});if(!e.ok)throw new Error("Failed to fetch requests");const t=await e.json();h(t.requests)}catch(e){g("Failed to load your requests")}finally{f(!1)}},v=async e=>{if(window.confirm("Are you sure you want to delete this shelter?"))try{if(!(await fetch(`https://shelter-surfing-production.up.railway.app/api/shelters/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}})).ok)throw new Error("Failed to delete shelter");u(c.filter(t=>t.id!==e))}catch(t){g("Failed to delete shelter")}},w=async e=>{if(window.confirm("Are you sure you want to delete this request?"))try{if(!(await fetch(`https://shelter-surfing-production.up.railway.app/api/requests/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}})).ok)throw new Error("Failed to delete request");h(d.filter(t=>t.id!==e))}catch(t){g("Failed to delete request")}};return m?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):z.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:z.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[z.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),z.jsxs("p",{className:"mt-2 text-secondary-600",children:["Welcome back, ",null==t?void 0:t.name,"! You're logged in as a ",null==t?void 0:t.role.toLowerCase(),"."]})]}),x&&z.jsx("div",{className:"mb-6 px-4 sm:px-0",children:z.jsx("div",{className:"notification-success text-white px-4 py-3 rounded-xl shadow-soft",children:x})}),p&&z.jsx("div",{className:"mb-6 px-4 sm:px-0",children:z.jsx("div",{className:"notification-error text-white px-4 py-3 rounded-xl shadow-soft",children:p})}),"HOST"===(null==t?void 0:t.role)&&z.jsx("div",{className:"px-4 sm:px-0",children:z.jsxs("div",{className:"card",children:[z.jsxs("div",{className:"px-6 py-4 border-b border-secondary-200/50",children:[z.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"My Shelters"}),z.jsx("p",{className:"text-sm text-secondary-600 mt-1",children:"Manage your shelter offerings"})]}),z.jsx("div",{className:"p-6",children:0===c.length?z.jsxs("div",{className:"text-center py-12",children:[z.jsx("div",{className:"w-16 h-16 bg-gradient-primary rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-soft border border-primary-600/20",children:z.jsx("span",{className:"text-4xl",children:"🏠"})}),z.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No shelters yet"}),z.jsx("p",{className:"text-secondary-600 mb-6",children:"Start helping people by offering your first shelter."}),z.jsx(s,{to:"/shelter/new",className:"btn-success",children:"Offer Your First Shelter"})]}):z.jsx("div",{className:"space-y-4",children:c.map(e=>z.jsx(qt,{shelter:e,showActions:!0,showDistance:!1,showRequestInfo:!1,onEdit:()=>i(`/shelter/${e.id}/edit`),onDelete:v},e.id))})})]})}),"SEEKER"===(null==t?void 0:t.role)&&z.jsx("div",{className:"px-4 sm:px-0",children:z.jsxs("div",{className:"card",children:[z.jsxs("div",{className:"px-6 py-4 border-b border-secondary-200/50",children:[z.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"My Requests"}),z.jsx("p",{className:"text-sm text-secondary-600 mt-1",children:"Manage your shelter requests"})]}),z.jsx("div",{className:"p-6",children:0===d.length?z.jsxs("div",{className:"text-center py-12",children:[z.jsx("div",{className:"w-16 h-16 bg-gradient-primary rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-soft border border-primary-600/20",children:z.jsx("span",{className:"text-4xl",children:"🔍"})}),z.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No requests yet"}),z.jsx("p",{className:"text-secondary-600 mb-6",children:"Submit your first request when you need shelter assistance."}),z.jsx(s,{to:"/request/new",className:"btn-success",children:"Submit Your First Request"})]}):z.jsx("div",{className:"space-y-4",children:d.map(e=>z.jsx(Mt,{request:e,showActions:!0,showDistance:!1,showSeekerInfo:!1,onEdit:()=>i(`/request/${e.id}/edit`),onDelete:w},e.id))})})]})}),"ADMIN"===(null==t?void 0:t.role)&&z.jsx("div",{className:"px-4 sm:px-0",children:z.jsxs("div",{className:"card p-6",children:[z.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-4",children:"Admin Panel"}),z.jsx("p",{className:"text-secondary-600 mb-6",children:"Manage users, shelters, and requests."}),z.jsxs("div",{className:"flex flex-wrap gap-4",children:[z.jsx(s,{to:"/admin/users",className:"btn-primary",children:"Manage Users"}),z.jsx(s,{to:"/admin/shelters",className:"btn-success",children:"Manage Shelters"}),z.jsx(s,{to:"/admin/requests",className:"bg-gradient-accent hover:shadow-glow-accent text-white font-medium px-6 py-3 rounded-xl transition-all duration-300 focus:ring-2 focus:ring-accent-500/50 focus:ring-offset-2 shadow-soft border border-accent-600/20",children:"Manage Requests"})]})]})})]})})},Ut=[{name:"תל אביב-יפו",english:"Tel Aviv-Yafo",type:"city",region:"Central"},{name:"ירושלים",english:"Jerusalem",type:"city",region:"Jerusalem"},{name:"חיפה",english:"Haifa",type:"city",region:"Northern"},{name:"ראשון לציון",english:"Rishon LeZion",type:"city",region:"Central"},{name:"פתח תקווה",english:"Petah Tikva",type:"city",region:"Central"},{name:"אשדוד",english:"Ashdod",type:"city",region:"Southern"},{name:"נתניה",english:"Netanya",type:"city",region:"Central"},{name:"באר שבע",english:"Beer Sheva",type:"city",region:"Southern"},{name:"חולון",english:"Holon",type:"city",region:"Central"},{name:"בני ברק",english:"Bnei Brak",type:"city",region:"Central"},{name:"רמת גן",english:"Ramat Gan",type:"city",region:"Central"},{name:"בת ים",english:"Bat Yam",type:"city",region:"Central"},{name:"הרצליה",english:"Herzliya",type:"city",region:"Central"},{name:"כפר סבא",english:"Kfar Saba",type:"city",region:"Central"},{name:"רעננה",english:"Ra'anana",type:"city",region:"Central"},{name:"גבעתיים",english:"Givatayim",type:"city",region:"Central"},{name:"קריית אונו",english:"Kiryat Ono",type:"city",region:"Central"},{name:"רמת השרון",english:"Ramat HaSharon",type:"city",region:"Central"},{name:"הוד השרון",english:"Hod HaSharon",type:"city",region:"Central"},{name:"גבעת שמואל",english:"Givat Shmuel",type:"city",region:"Central"},{name:"יהוד-מונוסון",english:"Yehud-Monosson",type:"city",region:"Central"},{name:"אור יהודה",english:"Or Yehuda",type:"city",region:"Central"},{name:"קריית ביאליק",english:"Kiryat Bialik",type:"city",region:"Northern"},{name:"קריית מוצקין",english:"Kiryat Motzkin",type:"city",region:"Northern"},{name:"קריית ים",english:"Kiryat Yam",type:"city",region:"Northern"},{name:"נהריה",english:"Nahariya",type:"city",region:"Northern"},{name:"עכו",english:"Acre",type:"city",region:"Northern"},{name:"צפת",english:"Safed",type:"city",region:"Northern"},{name:"טבריה",english:"Tiberias",type:"city",region:"Northern"},{name:"נצרת",english:"Nazareth",type:"city",region:"Northern"},{name:"קריית שמונה",english:"Kiryat Shmona",type:"city",region:"Northern"},{name:"מגדל העמק",english:"Migdal HaEmek",type:"city",region:"Northern"},{name:"עפולה",english:"Afula",type:"city",region:"Northern"},{name:"בית שאן",english:"Beit She'an",type:"city",region:"Northern"},{name:"קריית טבעון",english:"Kiryat Tivon",type:"city",region:"Northern"},{name:"אשקלון",english:"Ashkelon",type:"city",region:"Southern"},{name:"קריית גת",english:"Kiryat Gat",type:"city",region:"Southern"},{name:"קריית מלאכי",english:"Kiryat Malakhi",type:"city",region:"Southern"},{name:"דימונה",english:"Dimona",type:"city",region:"Southern"},{name:"ירוחם",english:"Yeruham",type:"city",region:"Southern"},{name:"ערד",english:"Arad",type:"city",region:"Southern"},{name:"אופקים",english:"Ofakim",type:"city",region:"Southern"},{name:"נתיבות",english:"Netivot",type:"city",region:"Southern"},{name:"שדרות",english:"Sderot",type:"city",region:"Southern"},{name:"בית שמש",english:"Beit Shemesh",type:"city",region:"Jerusalem"},{name:"מעלה אדומים",english:"Ma'ale Adumim",type:"city",region:"Jerusalem"},{name:"ביתר עילית",english:"Beitar Illit",type:"city",region:"Jerusalem"},{name:"מודיעין עילית",english:"Modi'in Illit",type:"city",region:"Jerusalem"},{name:"מודיעין-מכבים-רעות",english:"Modi'in-Maccabim-Re'ut",type:"city",region:"Jerusalem"},{name:"כפר יונה",english:"Kfar Yona",type:"town",region:"Central"},{name:"כפר סבא",english:"Kfar Saba",type:"town",region:"Central"},{name:"רעננה",english:"Ra'anana",type:"town",region:"Central"},{name:"הוד השרון",english:"Hod HaSharon",type:"town",region:"Central"},{name:"גבעת שמואל",english:"Givat Shmuel",type:"town",region:"Central"},{name:"קריית אונו",english:"Kiryat Ono",type:"town",region:"Central"},{name:"גבעתיים",english:"Givatayim",type:"town",region:"Central"},{name:"בת ים",english:"Bat Yam",type:"town",region:"Central"},{name:"כפר שמריהו",english:"Kfar Shmaryahu",type:"town",region:"Central"},{name:"הרצליה פיתוח",english:"Herzliya Pituah",type:"town",region:"Central"},{name:"רמת השרון",english:"Ramat HaSharon",type:"town",region:"Central"},{name:"כפר ויתקין",english:"Kfar Vitkin",type:"town",region:"Central"},{name:"כפר יאסיף",english:"Kfar Yasif",type:"town",region:"Northern"},{name:"כפר מנדא",english:"Kfar Manda",type:"town",region:"Northern"},{name:"כפר כנא",english:"Kfar Kana",type:"town",region:"Northern"},{name:"כפר תבור",english:"Kfar Tavor",type:"town",region:"Northern"},{name:"כפר גלעדי",english:"Kfar Giladi",type:"town",region:"Northern"},{name:"כפר בלום",english:"Kfar Blum",type:"town",region:"Northern"},{name:"כפר סאלד",english:"Kfar Szold",type:"town",region:"Northern"},{name:"כפר גלעדי",english:"Kfar Giladi",type:"town",region:"Northern"},{name:"כפר בלום",english:"Kfar Blum",type:"town",region:"Northern"},{name:"כפר סאלד",english:"Kfar Szold",type:"town",region:"Northern"},{name:"כפר גלעדי",english:"Kfar Giladi",type:"town",region:"Northern"},{name:"כפר בלום",english:"Kfar Blum",type:"town",region:"Northern"},{name:"כפר סאלד",english:"Kfar Szold",type:"town",region:"Northern"},{name:"פלורנטין",english:"Florentin",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"נווה צדק",english:"Neve Tzedek",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"התחנה המרכזית",english:"Central Bus Station",type:"area",region:"Central",city:"Tel Aviv"},{name:"דיזנגוף סנטר",english:"Dizengoff Center",type:"area",region:"Central",city:"Tel Aviv"},{name:"כיכר רבין",english:"Rabin Square",type:"area",region:"Central",city:"Tel Aviv"},{name:"הבימה",english:"Habima",type:"area",region:"Central",city:"Tel Aviv"},{name:"שדרות רוטשילד",english:"Rothschild Boulevard",type:"area",region:"Central",city:"Tel Aviv"},{name:"נמל תל אביב",english:"Tel Aviv Port",type:"area",region:"Central",city:"Tel Aviv"},{name:"כיכר הבימה",english:"Habima Square",type:"area",region:"Central",city:"Tel Aviv"},{name:"נווה שאנן",english:"Neve Sha'anan",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"שכונת התקווה",english:"Hatikva",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"יפו העתיקה",english:"Old Jaffa",type:"area",region:"Central",city:"Tel Aviv"},{name:"אבו כביר",english:"Abu Kabir",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"נווה עופר",english:"Neve Ofer",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"נווה שאנן",english:"Neve Sha'anan",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"שכונת התקווה",english:"Hatkiva",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"יפו העתיקה",english:"Old Jaffa",type:"area",region:"Central",city:"Tel Aviv"},{name:"אבו כביר",english:"Abu Kabir",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"נווה עופר",english:"Neve Ofer",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"העיר העתיקה",english:"Old City",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"מרכז העיר",english:"City Center",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"הר הרצל",english:"Mount Herzl",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"הר הצופים",english:"Mount Scopus",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"גבעת רם",english:"Givat Ram",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"הר הזיתים",english:"Mount of Olives",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"מאה שערים",english:"Mea Shearim",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"גאולה",english:"Geula",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"בית ישראל",english:"Beit Israel",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"שכונת הבוכרים",english:"Bukharan Quarter",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"רחביה",english:"Rehavia",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"טלביה",english:"Talbiya",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"קטמון",english:"Katamon",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"גבעת שאול",english:"Givat Shaul",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"בית הכרם",english:"Beit Hakerem",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"בית וגן",english:"Beit Vegan",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"בית וגן",english:"Beit Vegan",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"הכרמל",english:"Mount Carmel",type:"area",region:"Northern",city:"Haifa"},{name:"הדר",english:"Hadar",type:"area",region:"Northern",city:"Haifa"},{name:"העיר התחתית",english:"Lower City",type:"area",region:"Northern",city:"Haifa"},{name:"נמל חיפה",english:"Haifa Port",type:"area",region:"Northern",city:"Haifa"},{name:"בטבעון",english:"Bat Galim",type:"area",region:"Northern",city:"Haifa"},{name:"נווה שאנן",english:"Neve Sha'anan",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית חיים",english:"Kiryat Haim",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית שמואל",english:"Kiryat Shmuel",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית אליעזר",english:"Kiryat Eliezer",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית שפרינצק",english:"Kiryat Sprinzak",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית חיים",english:"Kiryat Haim",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית שמואל",english:"Kiryat Shmuel",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית אליעזר",english:"Kiryat Eliezer",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית שפרינצק",english:"Kiryat Sprinzak",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"אוניברסיטת תל אביב",english:"Tel Aviv University",type:"institution",region:"Central"},{name:"האוניברסיטה העברית",english:"Hebrew University",type:"institution",region:"Jerusalem"},{name:"טכניון",english:"Technion",type:"institution",region:"Northern"},{name:"אוניברסיטת בר אילן",english:"Bar Ilan University",type:"institution",region:"Central"},{name:"אוניברסיטת בן גוריון",english:"Ben Gurion University",type:"institution",region:"Southern"},{name:"אוניברסיטת חיפה",english:"University of Haifa",type:"institution",region:"Northern"},{name:"המכללה האקדמית תל אביב-יפו",english:"Tel Aviv-Yafo Academic College",type:"institution",region:"Central"},{name:"המכללה האקדמית ספיר",english:"Sapir Academic College",type:"institution",region:"Southern"},{name:"המכללה האקדמית עמק יזרעאל",english:"Yezreel Valley Academic College",type:"institution",region:"Northern"},{name:"המכללה האקדמית אשקלון",english:"Ashkelon Academic College",type:"institution",region:"Southern"},{name:"בית חולים איכילוב",english:"Ichilov Hospital",type:"medical",region:"Central"},{name:"בית חולים שיבא",english:"Sheba Hospital",type:"medical",region:"Central"},{name:"בית חולים הדסה",english:"Hadassah Hospital",type:"medical",region:"Jerusalem"},{name:'בית חולים רמב"ם',english:"Rambam Hospital",type:"medical",region:"Northern"},{name:"בית חולים סורוקה",english:"Soroka Hospital",type:"medical",region:"Southern"},{name:"בית חולים קפלן",english:"Kaplan Hospital",type:"medical",region:"Central"},{name:"בית חולים אסף הרופא",english:"Assaf Harofeh Hospital",type:"medical",region:"Central"},{name:"בית חולים וולפסון",english:"Wolfson Hospital",type:"medical",region:"Central"},{name:"בית חולים מאיר",english:"Meir Hospital",type:"medical",region:"Central"},{name:"בית חולים שניידר",english:"Schneider Children's Hospital",type:"medical",region:"Central"},{name:"בית חולים דנה-דואק",english:"Dana-Dwek Children's Hospital",type:"medical",region:"Central"},{name:"בית חולים איכילוב",english:"Ichilov Hospital",type:"medical",region:"Central"},{name:"בית חולים שיבא",english:"Sheba Hospital",type:"medical",region:"Central"},{name:"בית חולים הדסה",english:"Hadassah Hospital",type:"medical",region:"Jerusalem"},{name:'בית חולים רמב"ם',english:"Rambam Hospital",type:"medical",region:"Northern"},{name:"בית חולים סורוקה",english:"Soroka Hospital",type:"medical",region:"Southern"},{name:"קניון איילון",english:"Ayalon Mall",type:"shopping",region:"Central"},{name:"קניון רמת אביב",english:"Ramat Aviv Mall",type:"shopping",region:"Central"},{name:"קניון עזריאלי",english:"Azrieli Mall",type:"shopping",region:"Central"},{name:"קניון מלחה",english:"Malha Mall",type:"shopping",region:"Jerusalem"},{name:"קניון חיפה",english:"Haifa Mall",type:"shopping",region:"Northern"},{name:"קניון גרנד קניון",english:"Grand Canyon Mall",type:"shopping",region:"Northern"},{name:"קניון לב המפרץ",english:"Lev HaMifratz Mall",type:"shopping",region:"Northern"},{name:"קניון ביג",english:"Big Mall",type:"shopping",region:"Central"},{name:"קניון רמות",english:"Ramot Mall",type:"shopping",region:"Jerusalem"},{name:"קניון תלפיות",english:"Talpiot Mall",type:"shopping",region:"Jerusalem"},{name:"קניון ביג באר שבע",english:"Big Beer Sheva",type:"shopping",region:"Southern"},{name:"קניון ביג אשדוד",english:"Big Ashdod",type:"shopping",region:"Southern"},{name:"קניון ביג נתניה",english:"Big Netanya",type:"shopping",region:"Central"},{name:"קניון ביג ראשון לציון",english:"Big Rishon LeZion",type:"shopping",region:"Central"},{name:"קניון ביג פתח תקווה",english:"Big Petah Tikva",type:"shopping",region:"Central"},{name:"קניון ביג חולון",english:"Big Holon",type:"shopping",region:"Central"},{name:"קניון ביג רמת גן",english:"Big Ramat Gan",type:"shopping",region:"Central"},{name:"קניון ביג בת ים",english:"Big Bat Yam",type:"shopping",region:"Central"},{name:"קניון ביג הרצליה",english:"Big Herzliya",type:"shopping",region:"Central"},{name:"קניון ביג כפר סבא",english:"Big Kfar Saba",type:"shopping",region:"Central"},{name:"קניון ביג רעננה",english:"Big Ra'anana",type:"shopping",region:"Central"},{name:"קניון ביג גבעתיים",english:"Big Givatayim",type:"shopping",region:"Central"},{name:"קניון ביג קריית אונו",english:"Big Kiryat Ono",type:"shopping",region:"Central"},{name:"קניון ביג רמת השרון",english:"Big Ramat HaSharon",type:"shopping",region:"Central"},{name:"קניון ביג הוד השרון",english:"Big Hod HaSharon",type:"shopping",region:"Central"},{name:"קניון ביג גבעת שמואל",english:"Big Givat Shmuel",type:"shopping",region:"Central"},{name:"קניון ביג יהוד-מונוסון",english:"Big Yehud-Monosson",type:"shopping",region:"Central"},{name:"קניון ביג אור יהודה",english:"Big Or Yehuda",type:"shopping",region:"Central"},{name:"קניון ביג קריית ביאליק",english:"Big Kiryat Bialik",type:"shopping",region:"Northern"},{name:"קניון ביג קריית מוצקין",english:"Big Kiryat Motzkin",type:"shopping",region:"Northern"},{name:"קניון ביג קריית ים",english:"Big Kiryat Yam",type:"shopping",region:"Northern"},{name:"קניון ביג נהריה",english:"Big Nahariya",type:"shopping",region:"Northern"},{name:"קניון ביג עכו",english:"Big Acre",type:"shopping",region:"Northern"},{name:"קניון ביג צפת",english:"Big Safed",type:"shopping",region:"Northern"},{name:"קניון ביג טבריה",english:"Big Tiberias",type:"shopping",region:"Northern"},{name:"קניון ביג נצרת",english:"Big Nazareth",type:"shopping",region:"Northern"},{name:"קניון ביג קריית שמונה",english:"Big Kiryat Shmona",type:"shopping",region:"Northern"},{name:"קניון ביג מגדל העמק",english:"Big Migdal HaEmek",type:"shopping",region:"Northern"},{name:"קניון ביג עפולה",english:"Big Afula",type:"shopping",region:"Northern"},{name:"קניון ביג בית שאן",english:"Big Beit She'an",type:"shopping",region:"Northern"},{name:"קניון ביג קריית טבעון",english:"Big Kiryat Tivon",type:"shopping",region:"Northern"},{name:"קניון ביג אשקלון",english:"Big Ashkelon",type:"shopping",region:"Southern"},{name:"קניון ביג קריית גת",english:"Big Kiryat Gat",type:"shopping",region:"Southern"},{name:"קניון ביג קריית מלאכי",english:"Big Kiryat Malakhi",type:"shopping",region:"Southern"},{name:"קניון ביג דימונה",english:"Big Dimona",type:"shopping",region:"Southern"},{name:"קניון ביג ירוחם",english:"Big Yeruham",type:"shopping",region:"Southern"},{name:"קניון ביג ערד",english:"Big Arad",type:"shopping",region:"Southern"},{name:"קניון ביג אופקים",english:"Big Ofakim",type:"shopping",region:"Southern"},{name:"קניון ביג נתיבות",english:"Big Netivot",type:"shopping",region:"Southern"},{name:"קניון ביג שדרות",english:"Big Sderot",type:"shopping",region:"Southern"},{name:"תחנת הרכבת תל אביב מרכז",english:"Tel Aviv Central Station",type:"transport",region:"Central"},{name:"תחנת הרכבת ירושלים",english:"Jerusalem Central Station",type:"transport",region:"Jerusalem"},{name:"תחנת הרכבת חיפה מרכז",english:"Haifa Central Station",type:"transport",region:"Northern"},{name:"נמל התעופה בן גוריון",english:"Ben Gurion Airport",type:"transport",region:"Central"},{name:"תחנה מרכזית תל אביב",english:"Tel Aviv Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית ירושלים",english:"Jerusalem Central Bus Station",type:"transport",region:"Jerusalem"},{name:"תחנה מרכזית חיפה",english:"Haifa Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית באר שבע",english:"Beer Sheva Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית אשדוד",english:"Ashdod Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית נתניה",english:"Netanya Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית ראשון לציון",english:"Rishon LeZion Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית פתח תקווה",english:"Petah Tikva Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית חולון",english:"Holon Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית בני ברק",english:"Bnei Brak Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית רמת גן",english:"Ramat Gan Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית בת ים",english:"Bat Yam Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית הרצליה",english:"Herzliya Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית כפר סבא",english:"Kfar Saba Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית רעננה",english:"Ra'anana Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית גבעתיים",english:"Givatayim Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית קריית אונו",english:"Kiryat Ono Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית רמת השרון",english:"Ramat HaSharon Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית הוד השרון",english:"Hod HaSharon Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית גבעת שמואל",english:"Givat Shmuel Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית יהוד-מונוסון",english:"Yehud-Monosson Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית אור יהודה",english:"Or Yehuda Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית קריית ביאליק",english:"Kiryat Bialik Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית קריית מוצקין",english:"Kiryat Motzkin Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית קריית ים",english:"Kiryat Yam Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית נהריה",english:"Nahariya Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית עכו",english:"Acre Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית צפת",english:"Safed Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית טבריה",english:"Tiberias Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית נצרת",english:"Nazareth Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית קריית שמונה",english:"Kiryat Shmona Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית מגדל העמק",english:"Migdal HaEmek Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית עפולה",english:"Afula Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית בית שאן",english:"Beit She'an Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית קריית טבעון",english:"Kiryat Tivon Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית אשקלון",english:"Ashkelon Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית קריית גת",english:"Kiryat Gat Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית קריית מלאכי",english:"Kiryat Malakhi Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית דימונה",english:"Dimona Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית ירוחם",english:"Yeruham Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית ערד",english:"Arad Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית אופקים",english:"Ofakim Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית נתיבות",english:"Netivot Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית שדרות",english:"Sderot Central Bus Station",type:"transport",region:"Southern"}],Ht=({value:e,onChange:t,onLocationSelect:r,placeholder:a="Enter location or use GPS",className:s="",required:l=!1,disabled:i=!1,showGPSButton:o=!0,showAutocomplete:c=!0})=>{const[u,d]=n.useState(e||""),[h,m]=n.useState([]),[f,p]=n.useState(!1),[g,x]=n.useState(-1),[y,b]=n.useState(""),v=n.useRef(null),w=n.useRef(null),{location:j,error:N,isLoading:k,permissionStatus:S,isSupported:C,getCurrentLocation:E,clearLocation:_}=(()=>{const[e,t]=n.useState(null),[r,a]=n.useState(null),[s,l]=n.useState(!1),[i,o]=n.useState("unknown"),c="geolocation"in navigator,u=()=>{c?(l(!0),a(null),navigator.geolocation.getCurrentPosition(e=>{const{latitude:n,longitude:r}=e.coords;t({latitude:n,longitude:r}),l(!1),o("granted")},e=>{switch(l(!1),e.code===e.PERMISSION_DENIED&&o("denied"),e.code){case e.PERMISSION_DENIED:a("Location permission denied. Please enable location access in your browser settings.");break;case e.POSITION_UNAVAILABLE:a("Location information is unavailable. Please try again.");break;case e.TIMEOUT:a("Location request timed out. Please try again.");break;default:a("An unknown error occurred while getting your location.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})):a("Geolocation is not supported by this browser")},d=async()=>{if(c)try{if("permissions"in navigator){const e=await navigator.permissions.query({name:"geolocation"});o(e.state),e.onchange=()=>{o(e.state)}}else o("unknown")}catch(Sn){o("unknown")}else o("unsupported")};return n.useEffect(()=>{d()},[]),{location:e,error:r,isLoading:s,permissionStatus:i,isSupported:c,getCurrentLocation:u,requestPermission:()=>{c?u():a("Geolocation is not supported by this browser")},clearLocation:()=>{t(null),a(null)},getLocationWithAddress:async()=>{if(e)try{return{...e,address:`${e.latitude.toFixed(6)}, ${e.longitude.toFixed(6)}`}}catch(Sn){return a("Failed to get address for location"),e}else a("No location available. Please get your location first.")},checkPermission:d}})();n.useEffect(()=>{d(e||"")},[e]),n.useEffect(()=>{j&&P(j.latitude,j.longitude)},[j]);const P=async(e,n)=>{try{const a=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${n}&zoom=10&accept-language=he,en`);if(a.ok){const s=(await a.json()).display_name||`${e.toFixed(6)}, ${n.toFixed(6)}`;b(s),d(s),t&&t(s),r&&r({locationInput:s,latitude:e,longitude:n,source:"gps"})}else{const a=`${e.toFixed(6)}, ${n.toFixed(6)}`;b(a),d(a),t&&t(a),r&&r({locationInput:a,latitude:e,longitude:n,source:"gps"})}}catch(a){const s=`${e.toFixed(6)}, ${n.toFixed(6)}`;b(s),d(s),t&&t(s),r&&r({locationInput:s,latitude:e,longitude:n,source:"gps"})}},T=e=>{const n=e.english||e.name;d(n),p(!1),m([]),t&&t(n),r&&r({locationInput:n,latitude:null,longitude:null,source:"autocomplete",locationData:e})};n.useEffect(()=>{const e=e=>{w.current&&!w.current.contains(e.target)&&(p(!1),x(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return z.jsxs("div",{className:`relative ${s}`,children:[z.jsxs("div",{className:"flex",children:[z.jsx("input",{ref:v,type:"text",value:u,onChange:e=>{const n=e.target.value;if(d(n),x(-1),t&&t(n),c&&n.length>0){const e=(e=>{const t=e.toLowerCase();return Ut.filter(e=>e.name.toLowerCase().includes(t)||e.english.toLowerCase().includes(t)).slice(0,10)})(n);m(e),p(e.length>0)}else m([]),p(!1)},onKeyDown:e=>{if(f)switch(e.key){case"ArrowDown":e.preventDefault(),x(e=>e<h.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),x(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),g>=0&&h[g]&&T(h[g]);break;case"Escape":p(!1),x(-1)}},onFocus:()=>{h.length>0&&p(!0)},placeholder:a,required:l,disabled:i,className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(i?"bg-gray-100 cursor-not-allowed":"")}),o&&z.jsx("button",{type:"button",onClick:()=>{k||(j?(_(),b(""),d(""),t&&t(""),r&&r(null)):E())},disabled:i||k||!C,className:`px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors ${i||k||!C?"opacity-50 cursor-not-allowed":""} ${j?"bg-green-600 hover:bg-green-700":""}`,title:C?j?"Clear GPS location":"Get current location":"GPS not supported in this browser",children:k?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),z.jsx("span",{className:"ml-2",children:"Getting location..."})]}):j?z.jsxs(z.Fragment,{children:[z.jsx("span",{children:"📍"}),z.jsx("span",{className:"ml-2",children:"Clear GPS"})]}):z.jsxs(z.Fragment,{children:[z.jsx("span",{children:"📍"}),z.jsx("span",{className:"ml-2",children:"Use GPS"})]})})]}),N&&z.jsx("div",{className:"mt-1 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-2",children:z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"mr-2",children:"⚠️"}),N]})}),j&&!N&&z.jsx("div",{className:"mt-1 text-sm text-green-600 bg-green-50 border border-green-200 rounded-md p-2",children:z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"mr-2",children:"✅"}),"Location obtained: ",y||`${j.latitude.toFixed(6)}, ${j.longitude.toFixed(6)}`]})}),f&&h.length>0&&z.jsx("div",{ref:w,className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:h.map((e,t)=>z.jsx("button",{type:"button",onClick:()=>T(e),className:"w-full text-left px-4 py-2 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+(t===g?"bg-blue-50 text-blue-900":""),children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("div",{className:"font-medium",children:e.english||e.name}),e.english&&e.name!==e.english&&z.jsx("div",{className:"text-sm text-gray-500",children:e.name})]}),z.jsx("div",{className:"text-xs text-gray-400 capitalize",children:e.type})]})},`${e.name}-${t}`))}),"denied"===S&&z.jsx("div",{className:"mt-1 text-sm text-orange-600 bg-orange-50 border border-orange-200 rounded-md p-2",children:z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"mr-2",children:"🔒"}),"Location access denied. Please enable location permissions in your browser settings."]})})]})},Vt=({onImageSelect:e,currentImage:t,label:r="Upload Image",className:a=""})=>{const[s,l]=n.useState(!1),[i,o]=n.useState(""),[c,u]=n.useState(t);return z.jsxs("div",{className:`space-y-2 ${a}`,children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r}),c&&z.jsxs("div",{className:"relative w-32 h-32 mb-4",children:[z.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),z.jsx("button",{onClick:()=>{u(""),e(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),z.jsx("div",{className:"flex items-center justify-center w-full",children:z.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[z.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[z.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:z.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),z.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[z.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),z.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG or JPEG (MAX. 5MB)"})]}),z.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async t=>{const n=t.target.files[0];if(n){if(o(""),l(!0),!n.type.startsWith("image/"))return o("Please select an image file"),void l(!1);if(n.size>5242880)return o("Image size should be less than 5MB"),void l(!1);try{const t=URL.createObjectURL(n);u(t);(new FormData).append("image",n),await e(n)}catch(Sn){o("Failed to upload image")}finally{l(!1)}}},disabled:s})]})}),s&&z.jsxs("div",{className:"flex items-center justify-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),z.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Uploading..."})]}),i&&z.jsx("p",{className:"text-sm text-red-600",children:i})]})},Kt="https://shelter-surfing-production.up.railway.app",Wt=async(e,t,n)=>{try{const r=new FormData;r.append("image",t);const a=await fetch(`${Kt}/api/images/shelter/${e}/${n}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:r});if(!a.ok)throw new Error("Failed to upload image");return await a.json()}catch(r){throw r}},Gt=({label:e,name:t,value:n,onChange:r,placeholder:a,icon:s,error:l,disabled:i=!1})=>z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e}),z.jsxs("div",{className:"relative",children:[z.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z.jsx("span",{className:"text-gray-400 text-lg",children:s})}),z.jsx("input",{type:"text",name:t,value:n||"",onChange:e=>r(t,e.target.value),placeholder:a,disabled:i,className:`block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${i?"bg-gray-50 cursor-not-allowed":""}`})]}),l&&z.jsx("p",{className:"mt-1 text-sm text-red-600",children:l})]}),Jt=f({name:p().min(2,"Name must be at least 2 characters").required("Name is required"),email:p().email("Invalid email format").required("Email is required"),locationInput:p().required("Location is required"),role:p().oneOf(["HOST","SEEKER"],"Please select a valid role").required("Role is required")}).required(),Qt=[{name:"facebook",label:"Facebook",icon:"📘",placeholder:"Facebook profile URL"},{name:"instagram",label:"Instagram",icon:"📸",placeholder:"Instagram profile URL"},{name:"twitter",label:"Twitter/X",icon:"🐦",placeholder:"Twitter/X profile URL"},{name:"linkedin",label:"LinkedIn",icon:"💼",placeholder:"LinkedIn profile URL"},{name:"whatsapp",label:"WhatsApp",icon:"💬",placeholder:"WhatsApp number"},{name:"telegram",label:"Telegram",icon:"✈️",placeholder:"Telegram username"},{name:"website",label:"Website",icon:"🌐",placeholder:"Personal website URL"}],Yt=()=>{var e,t,a,s;const{user:l,token:i,updateUser:o}=H(),c=r(),[u,d]=n.useState(!1),[h,m]=n.useState(!1),[f,p]=n.useState(""),[x,y]=n.useState(""),[b,v]=n.useState(null),[w,j]=n.useState({facebook:(null==l?void 0:l.facebook)||"",instagram:(null==l?void 0:l.instagram)||"",twitter:(null==l?void 0:l.twitter)||"",linkedin:(null==l?void 0:l.linkedin)||"",whatsapp:(null==l?void 0:l.whatsapp)||"",telegram:(null==l?void 0:l.telegram)||"",website:(null==l?void 0:l.website)||""}),[N,k]=n.useState({name:(null==l?void 0:l.name)||"",email:(null==l?void 0:l.email)||"",locationInput:(null==l?void 0:l.locationInput)||"",role:(null==l?void 0:l.role)||"SEEKER",latitude:(null==l?void 0:l.latitude)||null,longitude:(null==l?void 0:l.longitude)||null}),{register:S,handleSubmit:C,formState:{errors:E},reset:_,setValue:P,watch:T}=g({resolver:Pt(Jt),defaultValues:{name:(null==l?void 0:l.name)||"",email:(null==l?void 0:l.email)||"",locationInput:(null==l?void 0:l.locationInput)||"",role:(null==l?void 0:l.role)||"SEEKER"}});T("role"),n.useEffect(()=>{l&&(_({name:l.name,email:l.email,locationInput:l.locationInput||"",role:l.role}),j({facebook:(null==l?void 0:l.facebook)||"",instagram:(null==l?void 0:l.instagram)||"",twitter:(null==l?void 0:l.twitter)||"",linkedin:(null==l?void 0:l.linkedin)||"",whatsapp:(null==l?void 0:l.whatsapp)||"",telegram:(null==l?void 0:l.telegram)||"",website:(null==l?void 0:l.website)||""}))},[l,_]),n.useEffect(()=>{l||c("/login")},[l,c]);const A=async(e,t)=>{try{const{url:n}=await(async(e,t)=>{try{const n=new FormData;n.append("image",e);const r=await fetch(`${Kt}/api/images/profile/${t}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:n});if(!r.ok)throw new Error("Failed to upload image");return await r.json()}catch(f){throw f}})(e,t),r={...l,[`profileImage${t}`]:n};o(r)}catch(n){p("Failed to upload image")}},L=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return l?l.name&&l.email?z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-6 px-4 sm:px-6 lg:px-8",children:[z.jsx("div",{className:"mb-6",children:z.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Profile"}),z.jsx("p",{className:"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600",children:"Manage your account information and preferences"})]}),z.jsx("button",{onClick:()=>c("/dashboard"),className:"text-blue-600 hover:text-blue-700 font-medium text-sm sm:text-base self-start sm:self-auto",children:"← Back to Dashboard"})]})}),x&&z.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md text-sm",children:x}),f&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:f}),z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:z.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[z.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(null==l?void 0:l.profileImage1)||(null==l?void 0:l.profileImage2)?z.jsxs("div",{className:"flex space-x-2",children:[(null==l?void 0:l.profileImage1)&&z.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full overflow-hidden",children:z.jsx("img",{src:l.profileImage1,alt:"Profile 1",className:"w-full h-full object-cover"})}),(null==l?void 0:l.profileImage2)&&z.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full overflow-hidden",children:z.jsx("img",{src:l.profileImage2,alt:"Profile 2",className:"w-full h-full object-cover"})})]}):z.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:null==(e=null==l?void 0:l.name)?void 0:e.charAt(0).toUpperCase()})}),z.jsxs("div",{className:"flex-1 min-w-0",children:[z.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 truncate",children:null==l?void 0:l.name}),z.jsx("p",{className:"text-sm sm:text-base text-gray-600 truncate",children:null==l?void 0:l.email})]})]}),z.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[z.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium "+("HOST"===(null==l?void 0:l.role)?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:null==l?void 0:l.role}),!h&&z.jsx("button",{onClick:()=>m(!0),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-sm font-medium",children:"Edit Profile"})]})]})}),z.jsx("div",{className:"p-4 sm:p-6",children:h?z.jsxs("form",{onSubmit:C(async e=>{d(!0),p("");try{const t={name:e.name,email:e.email,locationInput:e.locationInput,role:e.role,...w};(null==b?void 0:b.latitude)&&(null==b?void 0:b.longitude)&&(t.latitude=b.latitude,t.longitude=b.longitude);const n=await fetch("https://shelter-surfing-production.up.railway.app/api/users/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(t)}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to update profile");r.user&&o(r.user),y("Profile updated successfully!"),m(!1),setTimeout(()=>y(""),3e3)}catch(Sn){p(Sn.message)}finally{d(!1)}}),className:"space-y-6",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Images"}),z.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[z.jsx(Vt,{label:"Profile Image 1",currentImage:null==l?void 0:l.profileImage1,onImageSelect:e=>A(e,1)}),z.jsx(Vt,{label:"Profile Image 2",currentImage:null==l?void 0:l.profileImage2,onImageSelect:e=>A(e,2)})]})]}),z.jsx(Tt,{label:"Full Name",name:"name",type:"text",...S("name"),error:null==(t=E.name)?void 0:t.message,disabled:u,required:!0}),z.jsx(Tt,{label:"Email Address",name:"email",type:"email",...S("email"),error:null==(a=E.email)?void 0:a.message,disabled:u,required:!0}),z.jsxs("div",{children:[z.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",z.jsx("span",{className:"text-red-500",children:"*"})]}),z.jsx(Ht,{value:T("locationInput"),onChange:e=>P("locationInput",e),onLocationSelect:e=>{v(e),e&&(P("locationInput",e.locationInput),"gps"===e.source&&e.latitude&&e.longitude&&v({latitude:e.latitude,longitude:e.longitude,locationInput:e.locationInput}))},placeholder:"Enter your location or use GPS to get your current location",disabled:u,required:!0}),E.locationInput&&z.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.locationInput.message})]}),z.jsx(Ot,{label:"Account Type",name:"role",value:T("role"),onChange:e=>P("role",e.target.value),options:[{value:"SEEKER",label:"Seeker (I need shelter)"},{value:"HOST",label:"Host (I can offer shelter)"}],error:null==(s=E.role)?void 0:s.message,disabled:u,required:!0}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Social Media Links"}),z.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 mb-4",children:Qt.map(e=>z.jsx(Gt,{label:e.label,name:e.name,value:w[e.name],onChange:(e,t)=>j(n=>({...n,[e]:t})),placeholder:e.placeholder,icon:e.icon,disabled:u},e.name))})]}),z.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:space-x-3",children:[z.jsx(At,{type:"button",variant:"outline",onClick:()=>{_({name:l.name,email:l.email,locationInput:l.locationInput||"",role:l.role}),j({facebook:(null==l?void 0:l.facebook)||"",instagram:(null==l?void 0:l.instagram)||"",twitter:(null==l?void 0:l.twitter)||"",linkedin:(null==l?void 0:l.linkedin)||"",whatsapp:(null==l?void 0:l.whatsapp)||"",telegram:(null==l?void 0:l.telegram)||"",website:(null==l?void 0:l.website)||""}),m(!1),p(""),y(""),v(null)},disabled:u,className:"w-full sm:w-auto",children:"Cancel"}),z.jsx(At,{type:"submit",loading:u,variant:"primary",className:"w-full sm:w-auto",children:"Save Changes"})]})]}):z.jsxs("div",{className:"space-y-6",children:[((null==l?void 0:l.profileImage1)||(null==l?void 0:l.profileImage2))&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Images"}),z.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(null==l?void 0:l.profileImage1)&&z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Profile Image 1"}),z.jsx("img",{src:l.profileImage1,alt:"Profile 1",className:"w-full max-w-32 h-32 object-cover rounded-lg"})]}),(null==l?void 0:l.profileImage2)&&z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Profile Image 2"}),z.jsx("img",{src:l.profileImage2,alt:"Profile 2",className:"w-full max-w-32 h-32 object-cover rounded-lg"})]})]})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),z.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),z.jsx("p",{className:"text-gray-900 break-words",children:null==l?void 0:l.name})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email Address"}),z.jsx("p",{className:"text-gray-900 break-all",children:null==l?void 0:l.email})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Location"}),z.jsx("p",{className:"text-gray-900 break-words",children:(null==l?void 0:l.locationInput)||"Not specified"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Account Type"}),z.jsx("p",{className:"text-gray-900",children:null==l?void 0:l.role})]})]})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Details"}),z.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Member Since"}),z.jsx("p",{className:"text-gray-900",children:L(null==l?void 0:l.createdAt)})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),z.jsx("p",{className:"text-gray-900",children:L(null==l?void 0:l.updatedAt)})]})]})]}),"HOST"===(null==l?void 0:l.role)&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Host Information"}),z.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:z.jsx("p",{className:"text-blue-800",children:"As a host, you can offer temporary shelter to people in need. You'll be able to create shelter listings and manage requests from seekers."})})]}),"SEEKER"===(null==l?void 0:l.role)&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seeker Information"}),z.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:z.jsx("p",{className:"text-green-800",children:"As a seeker, you can browse available shelters and submit requests for help when you need temporary accommodation."})})]}),((null==l?void 0:l.facebook)||(null==l?void 0:l.instagram)||(null==l?void 0:l.twitter)||(null==l?void 0:l.linkedin)||(null==l?void 0:l.whatsapp)||(null==l?void 0:l.telegram)||(null==l?void 0:l.website))&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Social Media"}),z.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 items-start sm:items-center",children:[(null==l?void 0:l.facebook)&&z.jsxs("a",{href:l.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-600 hover:underline text-sm sm:text-base",children:[z.jsx("span",{role:"img","aria-label":"Facebook",children:"📘"})," Facebook"]}),(null==l?void 0:l.instagram)&&z.jsxs("a",{href:l.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-pink-500 hover:underline text-sm sm:text-base",children:[z.jsx("span",{role:"img","aria-label":"Instagram",children:"📸"})," Instagram"]}),(null==l?void 0:l.twitter)&&z.jsxs("a",{href:l.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-400 hover:underline text-sm sm:text-base",children:[z.jsx("span",{role:"img","aria-label":"Twitter",children:"🐦"})," Twitter/X"]}),(null==l?void 0:l.linkedin)&&z.jsxs("a",{href:l.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-700 hover:underline text-sm sm:text-base",children:[z.jsx("span",{role:"img","aria-label":"LinkedIn",children:"💼"})," LinkedIn"]}),(null==l?void 0:l.whatsapp)&&z.jsxs("a",{href:`https://wa.me/${l.whatsapp.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-green-600 hover:underline text-sm sm:text-base",children:[z.jsx("span",{role:"img","aria-label":"WhatsApp",children:"💬"})," WhatsApp"]}),(null==l?void 0:l.telegram)&&z.jsxs("a",{href:`https://t.me/${l.telegram.replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-500 hover:underline text-sm sm:text-base",children:[z.jsx("span",{role:"img","aria-label":"Telegram",children:"✈️"})," Telegram"]}),(null==l?void 0:l.website)&&z.jsxs("a",{href:l.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-gray-700 hover:underline text-sm sm:text-base",children:[z.jsx("span",{role:"img","aria-label":"Website",children:"🌐"})," Website"]})]})]})]})})]})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading user data..."})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})},Xt=()=>{var e;const{userId:t}=i(),a=r(),{user:s}=H(),[l,o]=n.useState(null),[c,u]=n.useState(!0),[d,h]=n.useState("");n.useEffect(()=>{m()},[t]);const m=async()=>{try{const e=await fetch(`https://shelter-surfing-production.up.railway.app/api/users/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch user profile");const n=await e.json();o(n.user)}catch(e){h("Failed to load user profile")}finally{u(!1)}},f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return c?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})}):d||!l?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("p",{className:"text-red-600 mb-4",children:d||"User not found"}),z.jsx("button",{onClick:()=>a(-1),className:"text-blue-600 hover:text-blue-700",children:"← Go Back"})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[l.name,"'s Profile"]}),z.jsx("p",{className:"mt-2 text-gray-600",children:"HOST"===l.role?"Shelter Host":"Shelter Seeker"})]}),z.jsx("button",{onClick:()=>a(-1),className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Go Back"})]})}),z.jsx("div",{className:"px-4 sm:px-0",children:z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:z.jsxs("div",{className:"flex items-center space-x-4",children:[z.jsxs("div",{className:"flex space-x-4",children:[l.profileImage1&&z.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden",children:z.jsx("img",{src:l.profileImage1,alt:`${l.name} - Profile 1`,className:"w-full h-full object-cover"})}),l.profileImage2&&z.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden",children:z.jsx("img",{src:l.profileImage2,alt:`${l.name} - Profile 2`,className:"w-full h-full object-cover"})}),!l.profileImage1&&!l.profileImage2&&z.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-lg flex items-center justify-center",children:z.jsx("span",{className:"text-2xl font-bold text-blue-600",children:null==(e=l.name)?void 0:e.charAt(0).toUpperCase()})})]}),z.jsxs("div",{children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l.name}),z.jsx("p",{className:"text-gray-600",children:l.email}),z.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 "+("HOST"===l.role?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:l.role})]})]})}),z.jsxs("div",{className:"p-6 space-y-6",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),z.jsx("p",{className:"text-gray-900",children:l.name})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Location"}),z.jsx("p",{className:"text-gray-900",children:l.locationInput||"Not specified"})]})]})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Details"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Member Since"}),z.jsx("p",{className:"text-gray-900",children:f(l.createdAt)})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),z.jsx("p",{className:"text-gray-900",children:f(l.updatedAt)})]})]})]}),"HOST"===l.role&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Host Information"}),z.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:z.jsx("p",{className:"text-blue-800",children:"This user is a shelter host who can offer temporary accommodation to people in need."})})]}),"SEEKER"===l.role&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seeker Information"}),z.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:z.jsx("p",{className:"text-green-800",children:"This user is a shelter seeker who may need temporary accommodation."})})]})]})]})})]})})},Zt=({initialData:e,onSubmit:t,isEditing:a=!1})=>{const s=r(),[l,i]=n.useState(!1),[o,c]=n.useState(""),[u,d]=n.useState({title:(null==e?void 0:e.title)||"",description:(null==e?void 0:e.description)||"",locationInput:(null==e?void 0:e.locationInput)||"",latitude:(null==e?void 0:e.latitude)||null,longitude:(null==e?void 0:e.longitude)||null,availableFrom:(null==e?void 0:e.availableFrom)?new Date(e.availableFrom).toISOString().split("T")[0]:"",availableTo:(null==e?void 0:e.availableTo)?new Date(e.availableTo).toISOString().split("T")[0]:"",capacity:(null==e?void 0:e.capacity)||"",tags:(null==e?void 0:e.tags)||[]}),h=async(t,n)=>{try{if(!(null==e?void 0:e.id))return void d(e=>({...e,[`pendingImage${n}`]:t}));const{url:r}=await Wt(e.id,t,n);d(e=>({...e,[`image${n}`]:r}))}catch(r){c("Failed to upload image")}};return z.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),c("");try{const e=await t(u);!a&&(null==e?void 0:e.id)&&(u.pendingImage1&&await Wt(e.id,u.pendingImage1,1),u.pendingImage2&&await Wt(e.id,u.pendingImage2,2)),s("/dashboard")}catch(Sn){c("Failed to save shelter")}finally{i(!1)}},className:"space-y-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),z.jsx("input",{type:"text",value:u.title,onChange:e=>d(t=>({...t,title:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),z.jsx("textarea",{value:u.description,onChange:e=>d(t=>({...t,description:e.target.value})),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[z.jsx("div",{children:z.jsx(Vt,{label:"Shelter Image 1",currentImage:null==e?void 0:e.image1,onImageSelect:e=>h(e,1)})}),z.jsx("div",{children:z.jsx(Vt,{label:"Shelter Image 2",currentImage:null==e?void 0:e.image2,onImageSelect:e=>h(e,2)})})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),z.jsx(Ht,{defaultValue:u.locationInput,onLocationSelect:e=>{d(t=>({...t,locationInput:e.description,latitude:e.latitude,longitude:e.longitude}))}})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Available From"}),z.jsx("input",{type:"date",value:u.availableFrom,onChange:e=>d(t=>({...t,availableFrom:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Available To (Optional)"}),z.jsx("input",{type:"date",value:u.availableTo,onChange:e=>d(t=>({...t,availableTo:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capacity (number of people)"}),z.jsx("input",{type:"number",value:u.capacity,onChange:e=>d(t=>({...t,capacity:parseInt(e.target.value)})),min:"1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),z.jsx("div",{className:"grid grid-cols-2 gap-2",children:["pet-friendly","wheelchair-accessible","family-friendly","quiet-area","near-transport","wifi-included","private-bathroom","kitchen-access"].map(e=>z.jsxs("label",{className:"flex items-center space-x-2",children:[z.jsx("input",{type:"checkbox",checked:u.tags.includes(e),onChange:()=>(e=>{d(t=>({...t,tags:t.tags.includes(e)?t.tags.filter(t=>t!==e):[...t.tags,e]}))})(e),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),z.jsx("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),o&&z.jsx("div",{className:"text-red-600 text-sm",children:o}),z.jsxs("div",{className:"flex justify-end space-x-4",children:[z.jsx("button",{type:"button",onClick:()=>s("/dashboard"),className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),z.jsx("button",{type:"submit",disabled:l,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300",children:l?"Saving...":a?"Update Shelter":"Create Shelter"})]})]})},en=()=>{const{user:e,token:t}=H(),a=r(),[s,l]=n.useState("");return"HOST"!==(null==e?void 0:e.role)?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600 mb-4",children:"Only hosts can offer shelters. Please update your profile to become a host."}),z.jsx("button",{onClick:()=>a("/profile"),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Update Profile"})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Offer Shelter"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"Help someone in need by offering temporary shelter"})]}),z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsx("div",{className:"bg-white shadow rounded-lg",children:z.jsxs("div",{className:"px-6 py-6",children:[s&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s}),z.jsx(Zt,{initialData:{},onSubmit:async e=>{try{const n=await fetch("https://shelter-surfing-production.up.railway.app/api/shelters",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to create shelter");return r}catch(n){throw n}},isEditing:!1})]})})})]})})},tn=()=>{const{shelterId:e}=i(),t=r(),{token:a}=H(),[s,l]=n.useState(!0),[o,c]=n.useState(""),[u,d]=n.useState(null);n.useEffect(()=>{h()},[e]);const h=async()=>{try{const t=await fetch(`https://shelter-surfing-production.up.railway.app/api/shelters/${e}`,{headers:{Authorization:`Bearer ${a}`}});if(!t.ok)throw new Error("Failed to fetch shelter");const n=(await t.json()).shelter;d(n)}catch(t){c("Failed to load shelter details")}finally{l(!1)}};return s?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading shelter details..."})]})}):u?z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Shelter"}),z.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your shelter offering details"})]}),z.jsxs("div",{className:"p-6",children:[o&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:o}),z.jsx(Zt,{initialData:u,onSubmit:async t=>{try{const n=await fetch(`https://shelter-surfing-production.up.railway.app/api/shelters/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...t,capacity:parseInt(t.capacity),availableFrom:t.availableFrom?new Date(t.availableFrom).toISOString():null,availableTo:t.availableTo?new Date(t.availableTo).toISOString():null})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to update shelter")}return await n.json()}catch(n){throw n}},isEditing:!0})]})]})})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("p",{className:"text-red-600",children:"Shelter not found"}),z.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-4 text-primary-600 hover:text-primary-700",children:"Back to Dashboard"})]})})},nn="https://shelter-surfing-production.up.railway.app",rn=()=>{var e,t,a,s,l,o,c,u,d,h,m,f;const{shelterId:p}=i(),g=r(),{user:x,token:y}=H(),[b,v]=n.useState(null),[w,j]=n.useState(!0),[N,k]=n.useState(""),[S,C]=n.useState(!1),E=(null==x?void 0:x.id)===(null==(e=null==b?void 0:b.host)?void 0:e.id),{connected:_,status:P,isLoading:T,refreshConnection:A}=Bt(E?null:null==(t=null==b?void 0:b.host)?void 0:t.id);n.useEffect(()=>{p&&y&&(async()=>{try{const e=await fetch(`${nn}/api/shelters/${p}`,{headers:{Authorization:`Bearer ${y}`}});if(!e.ok)throw new Error("Failed to fetch shelter details");const t=await e.json();v(t.shelter)}catch(Sn){k(Sn.message)}finally{j(!1)}})()},[p,y]);const L=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return w?z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading shelter details..."})]})})}):N?z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsx("div",{className:"bg-white shadow rounded-lg p-8",children:z.jsxs("div",{className:"text-center text-red-600",children:[z.jsx("p",{children:N}),z.jsx("button",{onClick:()=>g(-1),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Go Back"})]})})})}):b?z.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[z.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[z.jsxs("button",{onClick:()=>g(-1),className:"mb-6 flex items-center text-gray-600 hover:text-gray-900",children:[z.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),z.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[z.jsx("div",{className:"p-6 border-b border-gray-200",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center",children:[z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:z.jsx("span",{className:"text-xl font-bold text-blue-600",children:null==(s=null==(a=b.host)?void 0:a.name)?void 0:s.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:b.title}),z.jsx("p",{className:"text-gray-500",children:b.locationInput})]})]}),E&&z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("button",{onClick:()=>{g(`/shelter/${p}/edit`)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Edit Shelter"}),z.jsx("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this shelter?"))try{if(!(await fetch(`${nn}/api/shelters/${p}`,{method:"DELETE",headers:{Authorization:`Bearer ${y}`}})).ok)throw new Error("Failed to delete shelter");g("/dashboard",{state:{message:"Shelter deleted successfully"}})}catch(Sn){k(Sn.message)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete"})]})]})}),(b.image1||b.image2)&&z.jsxs("div",{className:"p-6 border-b border-gray-200",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Photos"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.image1&&z.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:z.jsx("img",{src:b.image1,alt:`${b.title} - Image 1`,className:"w-full h-full object-cover"})}),b.image2&&z.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:z.jsx("img",{src:b.image2,alt:`${b.title} - Image 2`,className:"w-full h-full object-cover"})})]})]}),z.jsxs("div",{className:"p-6 border-b border-gray-200",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About this shelter"}),z.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:b.description})]}),z.jsx("div",{className:"p-6 border-b border-gray-200",children:z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Available From"}),z.jsx("p",{className:"mt-1 text-lg text-gray-900",children:L(b.availableFrom)})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Available Until"}),z.jsx("p",{className:"mt-1 text-lg text-gray-900",children:b.availableTo?L(b.availableTo):"Ongoing"})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Capacity"}),z.jsxs("p",{className:"mt-1 text-lg text-gray-900",children:[b.capacity," people"]})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Location"}),z.jsx("p",{className:"mt-1 text-lg text-gray-900",children:b.locationInput})]})]})}),b.tags&&b.tags.length>0&&z.jsxs("div",{className:"p-6 border-b border-gray-200",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Amenities & Features"}),z.jsx("div",{className:"flex flex-wrap gap-2",children:b.tags.map((e,t)=>z.jsx("span",{className:"px-4 py-2 rounded-full text-sm font-medium bg-green-50 text-green-700 border border-green-100",children:e.replace("-"," ")},t))})]}),z.jsxs("div",{className:"p-6 border-b border-gray-200",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"About the Host"}),z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center",children:[z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:z.jsx("span",{className:"text-xl font-bold text-blue-600",children:null==(o=null==(l=b.host)?void 0:l.name)?void 0:o.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:null==(c=b.host)?void 0:c.name}),z.jsx("p",{className:"text-gray-500",children:null==(u=b.host)?void 0:u.locationInput})]})]}),!E&&(null==(d=b.host)?void 0:d.id)&&z.jsx("button",{onClick:()=>g(`/user/${b.host.id}`),className:"mt-3 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Profile →"})]})]}),!E&&z.jsx("div",{className:"p-6",children:z.jsx("button",{onClick:()=>{var e,t;if(_){const n=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;g(`/messages/${n}`,{state:{recipientId:null==(e=b.host)?void 0:e.id,recipientName:null==(t=b.host)?void 0:t.name}})}else C(!0)},disabled:T||"PENDING"===P,className:"w-full py-3 px-4 rounded-lg text-sm font-medium transition-colors "+(T?"bg-gray-300 text-gray-500 cursor-not-allowed":"PENDING"===P?"bg-gray-400 text-white cursor-not-allowed":_?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"),children:T?"Loading...":"PENDING"===P?"Request Sent":_?"Message Host":"Request Connection"})})]})]}),S&&z.jsx(Ft,{isOpen:S,onClose:()=>C(!1),recipientId:null==(h=b.host)?void 0:h.id,recipientName:null==(m=b.host)?void 0:m.name,onSuccess:()=>{A(),C(!1)},message:`Hi ${null==(f=b.host)?void 0:f.name}, I'm interested in your shelter "${b.title}" in ${b.locationInput}.`})]}):z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsx("div",{className:"bg-white shadow rounded-lg p-8",children:z.jsxs("div",{className:"text-center text-gray-600",children:[z.jsx("p",{children:"Shelter not found"}),z.jsx("button",{onClick:()=>g(-1),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Go Back"})]})})})})},an=new Date;an.setHours(0,0,0,0);const sn=f({locationInput:p().required("Location is required"),date:b().min(an,"Date must be today or in the future").required("Date is required"),numberOfPeople:y().min(1,"Must be at least 1 person").max(10,"Cannot exceed 10 people").required("Number of people is required"),description:p().min(10,"Description must be at least 10 characters").required("Description is required")}).required(),ln=()=>{var e,t,a;const{user:s,token:l}=H(),i=r(),[o,c]=n.useState(!1),[u,d]=n.useState(""),[h,m]=n.useState(null),{register:f,handleSubmit:p,formState:{errors:x},watch:y,setValue:b}=g({resolver:Pt(sn),defaultValues:{numberOfPeople:1,date:(new Date).toISOString().split("T")[0]}});return"SEEKER"!==(null==s?void 0:s.role)?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600 mb-4",children:"Only seekers can submit shelter requests. Please update your profile to become a seeker."}),z.jsx("button",{onClick:()=>i("/profile"),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Update Profile"})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Request Shelter"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"Submit a request for temporary shelter assistance"})]}),z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsx("div",{className:"bg-white shadow rounded-lg",children:z.jsxs("div",{className:"px-6 py-6",children:[u&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:u}),z.jsxs("form",{onSubmit:p(async e=>{c(!0),d("");try{const t={...e,date:new Date(e.date).toISOString()};(null==h?void 0:h.latitude)&&(null==h?void 0:h.longitude)&&(t.latitude=h.latitude,t.longitude=h.longitude);const n=await fetch("https://shelter-surfing-production.up.railway.app/api/requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(t)}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to create request");i("/dashboard",{state:{message:"Shelter request submitted successfully!"}})}catch(t){d(t.message)}finally{c(!1)}}),className:"space-y-6",children:[z.jsx(Tt,{label:"Description",name:"description",type:"textarea",placeholder:"Describe your situation and what you need...",...f("description"),error:null==(e=x.description)?void 0:e.message,disabled:o,required:!0}),z.jsxs("div",{children:[z.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",z.jsx("span",{className:"text-red-500",children:"*"})]}),z.jsx(Ht,{value:y("locationInput"),onChange:e=>b("locationInput",e),onLocationSelect:e=>{m(e),e&&b("locationInput",e.locationInput)},placeholder:"Enter your current location or use GPS to get your location",disabled:o,required:!0}),x.locationInput&&z.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.locationInput.message})]}),z.jsx(Tt,{label:"Date Needed",name:"date",type:"date",...f("date"),error:null==(t=x.date)?void 0:t.message,disabled:o,required:!0}),z.jsx(Ot,{label:"Number of People",name:"numberOfPeople",value:y("numberOfPeople"),onChange:e=>b("numberOfPeople",parseInt(e.target.value)),options:[{value:1,label:"1 person"},{value:2,label:"2 people"},{value:3,label:"3 people"},{value:4,label:"4 people"},{value:5,label:"5 people"},{value:6,label:"6 people"},{value:7,label:"7 people"},{value:8,label:"8 people"},{value:9,label:"9 people"},{value:10,label:"10 people"}],error:null==(a=x.numberOfPeople)?void 0:a.message,disabled:o,required:!0}),z.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[z.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Important Information"}),z.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[z.jsx("li",{children:"• Your request will be visible to hosts in your area"}),z.jsx("li",{children:"• Hosts may contact you directly to offer assistance"}),z.jsx("li",{children:"• Please be honest about your situation and needs"}),z.jsx("li",{children:"• You can update or cancel your request at any time"})]})]}),z.jsxs("div",{className:"flex justify-end space-x-3",children:[z.jsx(At,{type:"button",variant:"outline",onClick:()=>i("/dashboard"),disabled:o,children:"Cancel"}),z.jsx(At,{type:"submit",loading:o,variant:"primary",children:"Submit Request"})]})]})]})})})]})})},on=()=>{const{requestId:e}=i(),t=r(),{token:a}=H(),[s,l]=n.useState(!0),[o,c]=n.useState(!1),[u,d]=n.useState(""),[h,m]=n.useState(null),[f,p]=n.useState({description:"",locationInput:"",latitude:null,longitude:null,date:"",numberOfPeople:"",status:"PENDING"});n.useEffect(()=>{g()},[e]);const g=async()=>{var t;try{const n=await fetch(`https://shelter-surfing-production.up.railway.app/api/requests/${e}`,{headers:{Authorization:`Bearer ${a}`}});if(!n.ok)throw new Error("Failed to fetch request");const r=(await n.json()).request;m(r),p({description:r.description||"",locationInput:r.locationInput||"",latitude:r.latitude||null,longitude:r.longitude||null,date:r.date?r.date.split("T")[0]:"",numberOfPeople:(null==(t=r.numberOfPeople)?void 0:t.toString())||"",status:r.status||"PENDING"})}catch(n){d("Failed to load request details")}finally{l(!1)}},x=(e,t)=>{p(n=>({...n,[e]:t}))};return s?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading request details..."})]})}):h?z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Request"}),z.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your shelter request details"})]}),z.jsxs("form",{onSubmit:async n=>{n.preventDefault(),c(!0),d("");try{const n=await fetch(`https://shelter-surfing-production.up.railway.app/api/requests/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...f,numberOfPeople:parseInt(f.numberOfPeople),date:new Date(f.date).toISOString()})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to update request")}t("/dashboard",{state:{message:"Request updated successfully!"}})}catch(r){d(r.message)}finally{c(!1)}},className:"p-6 space-y-6",children:[u&&z.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:u}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),z.jsx("textarea",{value:f.description,onChange:e=>x("description",e.target.value),placeholder:"Describe your situation and any specific needs...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:4,required:!0})]}),z.jsx(Ht,{label:"Preferred Location",value:f.locationInput,onChange:e=>{p(t=>({...t,locationInput:e.input,latitude:e.latitude,longitude:e.longitude}))},placeholder:"Enter preferred location or use GPS",required:!0}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[z.jsx(Tt,{label:"Date Needed",type:"date",value:f.date,onChange:e=>x("date",e.target.value),min:(new Date).toISOString().split("T")[0],required:!0}),z.jsx(Tt,{label:"Number of People",type:"number",value:f.numberOfPeople,onChange:e=>x("numberOfPeople",e.target.value),placeholder:"1",min:"1",max:"20",required:!0})]}),z.jsx(Ot,{label:"Status",value:f.status,onChange:e=>x("status",e),options:[{value:"PENDING",label:"Pending"},{value:"COMPLETED",label:"Completed"}],required:!0}),z.jsxs("div",{className:"flex gap-4 pt-4",children:[z.jsx(At,{type:"submit",isLoading:o,className:"flex-1",children:"Update Request"}),z.jsx(At,{type:"button",variant:"secondary",onClick:()=>t("/dashboard"),className:"flex-1",children:"Cancel"})]})]})]})})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("p",{className:"text-red-600",children:"Request not found"}),z.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-4 text-primary-600 hover:text-primary-700",children:"Back to Dashboard"})]})})},cn=({request:e})=>{var t;if(!e)return null;const{seeker:n,locationInput:r,date:a,numberOfPeople:s,description:l}=e;return z.jsxs("div",{className:"flex-1 md:border-r md:pr-6 border-gray-200",children:[z.jsxs("div",{className:"flex items-center mb-4",children:[(null==n?void 0:n.profileImage1)?z.jsx("img",{src:n.profileImage1,alt:n.name,className:"w-12 h-12 rounded-full mr-4 object-cover shadow-sm"}):z.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-4",children:z.jsx("span",{className:"text-xl font-bold text-blue-600",children:(null==(t=null==n?void 0:n.name)?void 0:t.charAt(0).toUpperCase())||"S"})}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Surfer Request"}),z.jsxs("p",{className:"text-sm text-gray-500",children:["From: ",null==n?void 0:n.name]})]})]}),z.jsxs("div",{className:"text-sm text-gray-700 space-y-2 pl-3 border-l-2 border-blue-100",children:[z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"Location:"})," ",r]}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"Date:"})," ",(i=a,i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")]}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"People:"})," ",s]}),l&&z.jsxs("div",{className:"pt-1",children:[z.jsx("p",{className:"font-semibold text-gray-500",children:"Reason:"}),z.jsxs("p",{className:"text-gray-600 pl-2 text-sm italic",children:['"',l,'"']})]})]})]});var i},un=e=>e<=5?"text-green-600":e<=15?"text-yellow-600":"text-red-600",dn=({match:e,onContact:t,connectionStatus:n,connectionLoading:a})=>{const s=r();if(!e||!e.shelter)return null;const{shelter:l,distance:i,seeker:o}=e,c=a?{text:"Loading...",disabled:!0,className:"bg-gray-400"}:(null==n?void 0:n.connected)?{text:"Message Seeker",disabled:!1,className:"bg-green-600 hover:bg-green-700"}:"PENDING"===(null==n?void 0:n.status)?{text:"Request Sent",disabled:!0,className:"bg-gray-400"}:{text:"Request Connection",disabled:!1,className:"bg-blue-600 hover:bg-blue-700"};return z.jsxs("div",{className:"flex-1",children:[z.jsxs("div",{className:"flex items-center mb-2",children:[z.jsx("span",{className:"text-2xl mr-2",children:"🏠"}),z.jsx("h3",{className:"text-xl font-bold text-green-900",children:"Your Matching Shelter"})]}),z.jsxs("div",{className:"text-sm text-gray-700 space-y-1 mb-4",children:[z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold",children:"Shelter:"})," ",l.title]}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold",children:"Location:"})," ",l.locationInput]}),z.jsxs("p",{className:`font-bold ${un(i)}`,children:["Distance: ",i," km"]})]}),z.jsxs("div",{className:"mt-auto pt-4 flex flex-col sm:flex-row gap-2",children:[z.jsx("button",{onClick:()=>t(e),disabled:c.disabled,className:`w-full sm:w-auto flex-1 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:cursor-not-allowed ${c.className}`,children:c.text}),z.jsx("button",{onClick:()=>s(`/user/${o.id}`),className:"w-full sm:w-auto flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300 text-sm font-medium transition-colors",children:"View Profile"})]})]})};delete v.Icon.Default.prototype._getIconUrl,v.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const hn=new v.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),mn=new v.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),fn=new v.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),pn=({items:e,userLocation:t,searchRadiusKm:r})=>{const a=C();return n.useEffect(()=>{if(t){const e=[t.latitude,t.longitude],n=1e3*r/111e3,s=v.latLngBounds([[e[0]-n,e[1]-n],[e[0]+n,e[1]+n]]);a.fitBounds(s,{padding:[50,50]})}else if(e&&e.length>0){const t=v.latLngBounds(e.map(e=>[e.latitude,e.longitude]));a.fitBounds(t,{padding:[50,50]})}},[e,a,t,r]),null},gn=({shelters:e=[],requests:t=[],userRole:r,onMarkerClick:a,center:s=[31.7683,35.2137],zoom:l=8,userLocation:i,searchRadiusKm:o})=>{const c=n.useRef(),u=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return z.jsx("div",{className:"w-full h-[500px] rounded-lg overflow-hidden border border-gray-200",children:z.jsxs(w,{ref:c,center:s,zoom:l,style:{height:"100%",width:"100%"},className:"z-0",children:[z.jsx(j,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),z.jsx(pn,{items:[...e,...t],userLocation:i,searchRadiusKm:o}),e.map(e=>{var t,n,r;return z.jsx(N,{position:[e.latitude,e.longitude],icon:hn,eventHandlers:{click:()=>a&&a(e,"shelter")},children:z.jsx(k,{children:z.jsxs("div",{className:"p-2",children:[z.jsx("h3",{className:"font-bold text-lg text-green-700",children:e.title}),z.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.locationInput}),z.jsxs("p",{className:"text-sm mb-1",children:[z.jsx("span",{className:"font-medium",children:"Available:"})," ",(n=e.availableFrom,r=e.availableTo,`${u(n)} - ${r?u(r):"Ongoing"}`)]}),z.jsxs("p",{className:"text-sm mb-1",children:[z.jsx("span",{className:"font-medium",children:"Capacity:"})," ",e.capacity," people"]}),e.tags&&e.tags.length>0&&z.jsxs("div",{className:"mb-2",children:[z.jsx("span",{className:"font-medium text-sm",children:"Tags:"}),z.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((t,n)=>z.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:t},`${e.id}-${t}-${n}`))})]}),z.jsx("p",{className:"text-sm text-gray-700 mt-2",children:e.description}),z.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200",children:z.jsxs("p",{className:"text-xs text-gray-500",children:["Host: ",(null==(t=e.host)?void 0:t.name)||"Unknown"]})})]})})},e.id)}),t.map(e=>{var t;const n=`${e.id}-${e.shelterId||"no-shelter"}`;return z.jsx(N,{position:[e.latitude,e.longitude],icon:mn,eventHandlers:{click:()=>a&&a({...e,id:n},"request")},children:z.jsx(k,{children:z.jsxs("div",{className:"p-2",children:[z.jsx("h3",{className:"font-bold text-lg text-red-700",children:"Shelter Request"}),z.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.locationInput}),z.jsxs("p",{className:"text-sm mb-1",children:[z.jsx("span",{className:"font-medium",children:"Date:"})," ",u(e.date)]}),z.jsxs("p",{className:"text-sm mb-1",children:[z.jsx("span",{className:"font-medium",children:"People:"})," ",e.numberOfPeople]}),z.jsx("p",{className:"text-sm text-gray-700 mt-2",children:e.description}),z.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200",children:z.jsxs("p",{className:"text-xs text-gray-500",children:["Seeker: ",(null==(t=e.seeker)?void 0:t.name)||"Unknown"]})})]})})},n)}),i&&z.jsxs(z.Fragment,{children:[z.jsx(N,{position:[i.latitude,i.longitude],icon:fn,children:z.jsx(k,{children:"Your Location"})}),o&&z.jsx(S,{center:[i.latitude,i.longitude],radius:1e3*o,pathOptions:{color:"#2563eb",weight:1,fillOpacity:0}})]})]})})},xn="https://shelter-surfing-production.up.railway.app",yn=()=>{const{user:e,token:t}=H(),a=r(),[s,l]=n.useState([]),[i,o]=n.useState([]),[c,u]=n.useState([]),[d,h]=n.useState(!0),[m,f]=n.useState(""),[p,g]=n.useState({maxDistance:5,minCapacity:1,tags:[]}),x=n.useRef({}),[y,b]=n.useState(null),{connectionStatus:v,connectionLoading:w}=Bt();n.useEffect(()=>{e?j():a("/login")},[e,a,p]);const j=async()=>{var n;h(!0),f("");try{if("SEEKER"===e.role){const e=await fetch(`${xn}/api/matches?maxDistance=${p.maxDistance}`,{headers:{Authorization:`Bearer ${t}`}}),r=await e.json();if(!e.ok)throw new Error(r.error||"Failed to fetch matches");l(r.data.matchesByRequest||[]),o(r.data.requests||[]);const a=[];null==(n=r.data.matchesByRequest)||n.forEach(e=>{var t;null==(t=e.matches)||t.forEach(e=>{a.push(e)})}),u(a)}else if("HOST"===e.role){const e=await fetch(`${xn}/api/matches/host?maxDistance=${p.maxDistance}`,{headers:{Authorization:`Bearer ${t}`}}),n=await e.json();if(!e.ok)throw new Error(n.error||"Failed to fetch matches");l(n.data.matches||[]),u(n.data.shelters||[]),o(n.data.matches||[])}}catch(Sn){f(Sn.message)}finally{h(!1)}},N=(e,n)=>{"shelter"===n?(async e=>{try{const n=await fetch(`${xn}/api/connections/check/${e.host.id}`,{headers:{Authorization:`Bearer ${t}`}}),r=await n.json();if(r.connected){const t=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;a(`/messages/${t}`,{state:{recipientId:e.host.id,recipientName:e.host.name}})}else if("PENDING"===r.status)alert("Connection request already pending. Please wait for approval.");else{const n=await fetch(`${xn}/api/connections`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({recipientId:e.host.id,message:`Hi ${e.host.name}, I'm interested in your shelter "${e.title}" in ${e.locationInput}.`})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to send connection request");alert("Connection request sent! You can message once approved.")}}catch(n){alert(`Error: ${n.message}`)}})(e):"request"===n&&(async e=>{try{const n=await fetch(`${xn}/api/connections/check/${e.seeker.id}`,{headers:{Authorization:`Bearer ${t}`}}),r=await n.json();if(r.connected){const t=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;a(`/messages/${t}`,{state:{recipientId:e.seeker.id,recipientName:e.seeker.name}})}else if("PENDING"===r.status)alert("Connection request already pending. Please wait for approval.");else{const n=await fetch(`${xn}/api/connections`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({recipientId:e.seeker.id,message:`Hi ${e.seeker.name}, I'm interested in your shelter request for ${e.locationInput} on ${k(e.date)}.`})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to send connection request");alert("Connection request sent! You can message once approved.")}}catch(n){alert(`Error: ${n.message}`)}})(e)},k=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e?z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"HOST"===e.role?"Matching Requests":"Available Shelters"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"HOST"===e.role?"Find people seeking shelter near your locations":"Find temporary shelter based on your requests"})]}),z.jsx("button",{onClick:()=>a("/dashboard"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Back to Dashboard"})]})}),z.jsxs("div",{className:"px-4 sm:px-0",children:[z.jsxs("div",{className:"bg-white shadow rounded-lg mb-6",children:[z.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:z.jsx("div",{className:"flex items-center justify-between",children:z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"})})}),z.jsx("div",{className:"p-6 space-y-4",children:z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Distance (km)"}),z.jsxs("select",{value:p.maxDistance,onChange:e=>g(t=>({...t,maxDistance:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[z.jsx("option",{value:3,children:"3 km"}),z.jsx("option",{value:5,children:"5 km"}),z.jsx("option",{value:10,children:"10 km"}),z.jsx("option",{value:15,children:"15 km"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Capacity"}),z.jsxs("select",{value:p.minCapacity,onChange:e=>g(t=>({...t,minCapacity:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[z.jsx("option",{value:1,children:"1 person"}),z.jsx("option",{value:2,children:"2 people"}),z.jsx("option",{value:3,children:"3 people"}),z.jsx("option",{value:4,children:"4+ people"})]})]}),z.jsx("div",{className:"flex items-end",children:z.jsx("button",{onClick:j,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Apply Filters"})})]})})]}),z.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[z.jsx(gn,{shelters:"SEEKER"===e.role?c:[],requests:"HOST"===e.role?i:[],userRole:e.role,onMarkerClick:(t,n)=>{const r="HOST"===e.role?t.id+"-"+t.shelterId:t.id;b(r),x.current[r]&&x.current[r].scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>b(null),2e3)},userLocation:e.latitude&&e.longitude?{latitude:e.latitude,longitude:e.longitude}:null,searchRadiusKm:p.maxDistance}),z.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:[z.jsx("p",{children:"💡 Click on markers to scroll to the result below"}),z.jsx("p",{children:"🟢 Green markers: Shelters | 🔴 Red markers: Requests | 🔵 Blue: You"})]})]}),z.jsx("div",{className:"bg-white shadow rounded-lg mb-6",children:z.jsx("div",{className:"px-6 py-4",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"HOST"===e.role?`${s.length} Match${1!==s.length?"es":""} Found`:`${(s||[]).reduce((e,t)=>{var n;return e+((null==(n=null==t?void 0:t.matches)?void 0:n.length)||0)},0)} Shelters Found`}),z.jsxs("p",{className:"text-sm text-gray-600",children:["Showing results within ",p.maxDistance,"km"]})]}),z.jsx("div",{className:"text-sm text-gray-500",children:z.jsx("span",{children:"🟢 Shelters | 🔴 Requests"})})]})})}),m&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:m}),d?z.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading matches..."})]}):z.jsx("div",{className:"space-y-6",children:0===s.length?z.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[z.jsx("div",{className:"text-4xl mb-4",children:"🔍"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No matches found"}),z.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or expanding your search area."})]}):"HOST"===e.role?s.length>0?s.map(e=>{if(!e.shelter)return null;const t=`host-${e.id}-${e.shelter.id}`;return z.jsxs("div",{ref:e=>x.current[t]=e,className:"bg-white shadow-lg rounded-xl p-6 mb-6 border border-gray-200 flex flex-col md:flex-row md:items-stretch gap-6 transition-all duration-300 "+(y===t?"ring-4 ring-blue-400":""),children:[z.jsx(cn,{request:e}),z.jsx("div",{className:"hidden md:flex items-center justify-center px-4",children:z.jsx("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),void 0,z.jsx(dn,{match:e,onContact:()=>N(e,"request"),connectionStatus:(v||{})[e.seeker.id],connectionLoading:(w||{})[e.seeker.id]})]},t)}):z.jsx("p",{className:"text-center text-gray-500 py-8",children:"No matching requests found for your shelters."}):s.map((t,n)=>{var r;return z.jsxs("div",{className:"space-y-4",children:[z.jsx("div",{className:"bg-white shadow rounded-lg p-4 border-l-4 border-blue-500",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Your Request"}),z.jsxs("p",{className:"text-sm text-gray-600",children:[t.request.locationInput," • ",k(t.request.date)," • ",t.request.numberOfPeople," ",1===t.request.numberOfPeople?"person":"people"]})]}),z.jsxs("div",{className:"text-sm text-gray-500",children:[t.matchCount," matches found"]})]})}),z.jsx("div",{className:"space-y-4",children:null==(r=t.matches)?void 0:r.map(n=>{const r=`seeker-${t.request.id}-${n.id}`;return z.jsx("div",{ref:e=>x.current[r]=e,className:"transition-all duration-300 "+(y===r?"ring-4 ring-blue-400":""),children:z.jsx(qt,{shelter:{...n,title:n.title||"Available Shelter",description:n.description||`Shelter available for ${n.capacity} people`,host:n.host,distance:Math.round(10*n.distance)/10},showActions:!0,showDistance:!0,onContact:()=>N(n,"shelter"),onViewDetails:()=>{return t=n,void("HOST"===e.role?alert(`Detailed view coming soon! You would see more details about ${t.description}.`):a(`/shelter/${t.id}`));var t}})},r)})})]},`group-${t.id||n}`)})})]})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600",children:"Please log in to view matches."})]})})},bn="https://shelter-surfing-production.up.railway.app",vn=()=>{const{user:e,token:t}=H(),{isConnected:l,joinConversation:o,leaveConversation:c,sendTyping:u,sendStopTyping:d,typingUsers:h}=gt(),{refreshCounts:m}=bt(),f=r(),{conversationId:p}=i(),g=a(),[x,y]=n.useState([]),[b,v]=n.useState([]),[w,j]=n.useState(null),[N,k]=n.useState(""),[S,C]=n.useState(!0),[E,_]=n.useState(!1),[P,T]=n.useState(""),A=n.useRef(null),L=n.useRef(null);n.useEffect(()=>{e?O():f("/login")},[e,f]),n.useEffect(()=>{var e,t;return p&&(o(p),(null==(e=g.state)?void 0:e.recipientId)&&(null==(t=g.state)?void 0:t.recipientName)?(j({conversationId:p,otherUser:{id:g.state.recipientId,name:g.state.recipientName}}),f(`/messages/${p}`,{replace:!0})):R(p)),()=>{p&&c(p)}},[p,g.state,f,o,c]),n.useEffect(()=>{I()},[b]),n.useEffect(()=>{b.length>0&&m()},[b,m]);const I=()=>{var e;null==(e=A.current)||e.scrollIntoView({behavior:"smooth"})},O=async()=>{C(!0),T("");try{const e=await fetch(`${bn}/api/messages/conversations`,{headers:{Authorization:`Bearer ${t}`}}),n=await e.json();if(!e.ok)throw new Error(n.error||"Failed to fetch conversations");y(n.data.conversations||[])}catch(Sn){T(Sn.message)}finally{C(!1)}},R=async e=>{try{const n=await fetch(`${bn}/api/messages/${e}`,{headers:{Authorization:`Bearer ${t}`}}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to fetch messages");v(r.data.messages||[]);const a=x.find(t=>t.conversationId===e);j(a)}catch(Sn){T(Sn.message)}},D=e=>{const t=new Date(e);return(new Date-t)/36e5<24?t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})},B=h[p]&&h[p]!==e.id;return e?z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),z.jsxs("p",{className:"mt-2 text-gray-600",children:["Communicate with hosts and seekers",!l&&z.jsx("span",{className:"ml-2 text-sm text-red-600",children:"(Connecting...)"})]})]}),z.jsx(At,{onClick:()=>f("/dashboard"),variant:"outline",children:"← Back to Dashboard"})]})}),z.jsxs("div",{className:"px-4 sm:px-0",children:[P&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:P}),z.jsx("div",{className:"bg-white shadow rounded-lg",children:z.jsxs("div",{className:"flex h-96",children:[z.jsxs("div",{className:"w-1/3 border-r border-gray-200",children:[z.jsx("div",{className:"p-4 border-b border-gray-200",children:z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Conversations"})}),S?z.jsxs("div",{className:"p-4 text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading conversations..."})]}):0===x.length?z.jsxs("div",{className:"p-4 text-center",children:[z.jsx("div",{className:"text-4xl mb-2",children:"💬"}),z.jsx("p",{className:"text-gray-600",children:"No conversations yet"}),z.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start a conversation from a shelter match or request"})]}):z.jsx("div",{className:"overflow-y-auto h-full",children:x.map(e=>z.jsx("div",{onClick:()=>f(`/messages/${e.conversationId}`),className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors "+(p===e.conversationId?"bg-blue-50":""),children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-sm font-bold text-blue-600",children:e.otherUser.name.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("p",{className:"font-medium text-gray-900",children:e.otherUser.name}),z.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.lastMessage.text})]})]}),z.jsxs("div",{className:"text-right",children:[z.jsx("p",{className:"text-xs text-gray-500",children:D(e.lastMessage.createdAt)}),e.unreadCount>0&&z.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-blue-600 rounded-full",children:e.unreadCount})]})]})},e.conversationId))})]}),z.jsx("div",{className:"flex-1 flex flex-col",children:p&&(null==w?void 0:w.otherUser)?z.jsxs(z.Fragment,{children:[z.jsx(s,{to:`/user/${w.otherUser.id}`,className:"block p-4 border-b border-gray-200 hover:bg-gray-50 transition-colors",children:z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center shadow-sm",children:z.jsx("span",{className:"text-lg font-bold text-blue-600",children:w.otherUser.name.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("h3",{className:"font-medium text-gray-900",children:w.otherUser.name}),z.jsx("p",{className:"text-sm text-gray-500",children:"Click to view profile"})]})]})}),z.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[b.map(t=>z.jsx("div",{className:"flex "+(t.senderId===e.id?"justify-end":"justify-start"),children:z.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+(t.senderId===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[z.jsx("p",{className:"text-sm",children:t.text}),z.jsx("p",{className:"text-xs mt-1 "+(t.senderId===e.id?"text-blue-100":"text-gray-500"),children:D(t.createdAt)})]})},t.id)),B&&z.jsx("div",{className:"flex justify-start",children:z.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:z.jsxs("p",{className:"text-sm italic text-gray-500",children:[null==w?void 0:w.otherUser.name," is typing..."]})})}),z.jsx("div",{ref:A})]}),z.jsx("div",{className:"p-4 border-t border-gray-200",children:z.jsxs("form",{onSubmit:async e=>{var n;if(e.preventDefault(),N.trim()&&p){_(!0),T(""),(null==(n=null==w?void 0:w.otherUser)?void 0:n.id)&&d(w.otherUser.id,p);try{const e=await fetch(`${bn}/api/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({recipientId:w.otherUser.id,text:N.trim(),conversationId:p})}),n=await e.json();if(!e.ok)throw new Error(n.error||"Failed to send message");v(e=>[...e,n.data.message]),k(""),O()}catch(Sn){T(Sn.message)}finally{_(!1)}}},className:"flex space-x-2",children:[z.jsx("input",{type:"text",value:N,onChange:e=>{var t;k(e.target.value),(null==(t=null==w?void 0:w.otherUser)?void 0:t.id)&&(u(w.otherUser.id,p),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{d(w.otherUser.id,p)},1e3))},placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E}),z.jsx(At,{type:"submit",loading:E,disabled:!N.trim(),variant:"primary",children:"Send"})]})})]}):z.jsx("div",{className:"flex-1 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"text-6xl mb-4",children:"💬"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),z.jsx("p",{className:"text-gray-600",children:"Choose a conversation from the sidebar to start messaging"})]})})})]})})]})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600",children:"Please log in to view messages."})]})})},wn="https://shelter-surfing-production.up.railway.app",jn=()=>{const{token:e}=H(),t=r(),{refreshCounts:a}=bt(),[s,l]=n.useState([]),[i,o]=n.useState(!0),[c,u]=n.useState("");n.useEffect(()=>{d()},[]),n.useEffect(()=>{s.length>0&&a()},[s,a]);const d=async()=>{try{const t=await fetch(`${wn}/api/connections/requests`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch connection requests");const n=await t.json();l(n.connections)}catch(t){u("Failed to load connection requests")}finally{o(!1)}};return i?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading connection requests..."})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"mb-8",children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Connection Requests"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"Review and respond to connection requests from other users"})]}),c&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:c}),0===s.length?z.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[z.jsx("div",{className:"text-4xl mb-4",children:"📬"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No connection requests"}),z.jsx("p",{className:"text-gray-600",children:"You don't have any pending connection requests at the moment."})]}):z.jsx("div",{className:"space-y-4",children:s.map(n=>{return z.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[z.jsxs("div",{className:"flex items-start justify-between",children:[z.jsxs("div",{className:"flex items-center space-x-4",children:[z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-lg font-bold text-blue-600",children:n.requester.name.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n.requester.name}),z.jsx("p",{className:"text-sm text-gray-500",children:n.requester.email}),z.jsxs("p",{className:"text-sm text-gray-500",children:[n.requester.role.toLowerCase()," • ",n.requester.locationInput]}),z.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Requested ",(r=n.createdAt,new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]})]})]}),z.jsxs("div",{className:"flex space-x-2",children:[z.jsx(At,{onClick:()=>(async(n,r,a)=>{try{if(!(await fetch(`${wn}/api/connections/${n}/approve`,{method:"PUT",headers:{Authorization:`Bearer ${e}`}})).ok)throw new Error("Failed to approve connection");l(s.filter(e=>e.id!==n));const i=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;t(`/messages/${i}`,{state:{recipientId:r,recipientName:a}})}catch(i){u("Failed to approve connection")}})(n.id,n.requester.id,n.requester.name),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),z.jsx(At,{onClick:()=>(async t=>{try{if(!(await fetch(`${wn}/api/connections/${t}/reject`,{method:"PUT",headers:{Authorization:`Bearer ${e}`}})).ok)throw new Error("Failed to reject connection");l(s.filter(e=>e.id!==t))}catch(n){u("Failed to reject connection")}})(n.id),variant:"secondary",className:"bg-red-600 hover:bg-red-700 text-white",children:"Reject"})]})]}),n.message&&z.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-md",children:z.jsxs("p",{className:"text-sm text-gray-700",children:[z.jsx("span",{className:"font-medium",children:"Message:"})," ",n.message]})})]},n.id);var r})})]})})},Nn=()=>{const{isAuthenticated:e,loading:t}=H(),a=r();return n.useEffect(()=>{!t&&e&&a("/dashboard")},[e,t,a]),t?z.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center animate-fade-in",children:[z.jsx("div",{className:"loading-spinner w-12 h-12 mx-auto mb-4"}),z.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):e?null:z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 relative overflow-hidden",children:[z.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[z.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-200/20 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-float"}),z.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-200/20 rounded-full mix-blend-multiply filter blur-xl opacity-40 animate-float",style:{animationDelay:"2s"}}),z.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-accent-200/15 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-float",style:{animationDelay:"4s"}})]}),z.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen px-4 py-12",children:z.jsxs("div",{className:"max-w-4xl w-full",children:[z.jsx("div",{className:"text-center mb-12 animate-fade-in",children:z.jsxs("div",{className:"mb-8",children:[z.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg border border-blue-600/20",children:z.jsx("span",{className:"text-3xl",children:"🏠"})}),z.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-4",children:"Shelter Surfing"}),z.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Connecting communities through safe shelter and mutual support"})]})}),z.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto mb-12 animate-slide-up",children:[z.jsxs("div",{className:"glass-strong rounded-2xl p-6 text-center",children:[z.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg border border-blue-600/20",children:z.jsx("span",{className:"text-2xl",children:"🤝"})}),z.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Safe Connections"}),z.jsx("p",{className:"text-gray-600 text-sm",children:"Connect with verified community members in a secure environment"})]}),z.jsxs("div",{className:"glass-strong rounded-2xl p-6 text-center",children:[z.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg border border-blue-600/20",children:z.jsx("span",{className:"text-2xl",children:"📍"})}),z.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Local Support"}),z.jsx("p",{className:"text-gray-600 text-sm",children:"Find help in your area when you need it most"})]}),z.jsxs("div",{className:"glass-strong rounded-2xl p-6 text-center",children:[z.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg border border-blue-600/20",children:z.jsx("span",{className:"text-2xl",children:"💬"})}),z.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Real-time Chat"}),z.jsx("p",{className:"text-gray-600 text-sm",children:"Communicate directly with hosts and seekers instantly"})]})]}),z.jsx("div",{className:"text-center animate-slide-up",children:z.jsxs("div",{className:"glass-strong rounded-2xl p-8 max-w-md mx-auto",children:[z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to get started?"}),z.jsx("p",{className:"text-gray-600 mb-6",children:"Join our community and start connecting with people in your area"}),z.jsxs("div",{className:"space-y-3",children:[z.jsx(s,{to:"/register",className:"btn-primary w-full py-3 text-lg font-semibold",children:"Get Started"}),z.jsx(s,{to:"/login",className:"btn-outline w-full py-3 text-lg font-semibold",children:"Sign In"})]})]})}),z.jsx("div",{className:"text-center mt-12 animate-fade-in",children:z.jsxs("div",{className:"flex justify-center space-x-6 text-sm text-gray-500",children:[z.jsx("span",{children:"Safe"}),z.jsx("span",{children:"•"}),z.jsx("span",{children:"Secure"}),z.jsx("span",{children:"•"}),z.jsx("span",{children:"Community-driven"})]})})]})})]})};function kn(){return z.jsx(V,{children:z.jsx(xt,{children:z.jsx(o,{children:z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[z.jsx(wt,{}),z.jsx(jt,{}),z.jsx("main",{className:"animate-fade-in",children:z.jsxs(c,{children:[z.jsx(u,{path:"/",element:z.jsx(Nn,{})}),z.jsx(u,{path:"/login",element:z.jsx(It,{})}),z.jsx(u,{path:"/register",element:z.jsx(Rt,{})}),z.jsx(u,{path:"/dashboard",element:z.jsx(Nt,{children:z.jsx($t,{})})}),z.jsx(u,{path:"/profile",element:z.jsx(Nt,{children:z.jsx(Yt,{})})}),z.jsx(u,{path:"/user/:userId",element:z.jsx(Nt,{children:z.jsx(Xt,{})})}),z.jsx(u,{path:"/shelter/new",element:z.jsx(Nt,{children:z.jsx(en,{})})}),z.jsx(u,{path:"/shelter/:shelterId",element:z.jsx(Nt,{children:z.jsx(rn,{})})}),z.jsx(u,{path:"/shelter/:shelterId/edit",element:z.jsx(Nt,{children:z.jsx(tn,{})})}),z.jsx(u,{path:"/request/new",element:z.jsx(Nt,{children:z.jsx(ln,{})})}),z.jsx(u,{path:"/request/:requestId/edit",element:z.jsx(Nt,{children:z.jsx(on,{})})}),z.jsx(u,{path:"/matches",element:z.jsx(Nt,{children:z.jsx(yn,{})})}),z.jsx(u,{path:"/messages",element:z.jsx(Nt,{children:z.jsx(vn,{})})}),z.jsx(u,{path:"/messages/:conversationId",element:z.jsx(Nt,{children:z.jsx(vn,{})})}),z.jsx(u,{path:"/connections/requests",element:z.jsx(Nt,{children:z.jsx(jn,{})})})]})})]})})})})}$.createRoot(document.getElementById("root")).render(z.jsx(n.StrictMode,{children:z.jsx(kn,{})}));
//# sourceMappingURL=index-CMbwG2nZ.js.map
