import{b as e,c as t,r as n,u as r,d as a,L as s,N as i,e as l,B as o,f as c,h as u}from"./react-vendor-BcBUZojM.js";import{g as d,s as h,a as m,c as f,b as p,u as g,d as y,e as x,f as b}from"./form-vendor-CYUy6Ier.js";import{L as v,M as w,T as N,a as j,P as k,C as S,u as C}from"./map-vendor-DZUb7wkn.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var E,_,P={exports:{}},T={};var A,L,O,I,z=(_||(_=1,P.exports=function(){if(E)return T;E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==n.key&&(a=""+n.key),"key"in n)for(var s in r={},n)"key"!==s&&(r[s]=n[s]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:a,ref:void 0!==n?n:null,props:r}}return T.Fragment=t,T.jsx=n,T.jsxs=n,T}()),P.exports),R={exports:{}},D={},B={exports:{}},q={};function F(){return L||(L=1,B.exports=(A||(A=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,u=e[c];if(0>a(o,n))c<s&&0>a(u,o)?(e[r]=u,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var o=[],c=[],u=1,d=null,h=3,m=!1,f=!1,p=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var a=n(c);null!==a;){if(null===a.callback)r(c);else{if(!(a.startTime<=e))break;r(c),a.sortIndex=a.expirationTime,t(o,a)}a=n(c)}}function w(e){if(p=!1,v(e),!f)if(null!==n(o))f=!0,j||(j=!0,N());else{var t=n(c);null!==t&&A(w,t.startTime-e)}}var N,j=!1,k=-1,S=5,C=-1;function E(){return!(!g&&e.unstable_now()-C<S)}function _(){if(g=!1,j){var t=e.unstable_now();C=t;var a=!0;try{e:{f=!1,p&&(p=!1,x(k),k=-1),m=!0;var s=h;try{t:{for(v(t),d=n(o);null!==d&&!(d.expirationTime>t&&E());){var i=d.callback;if("function"==typeof i){d.callback=null,h=d.priorityLevel;var l=i(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){d.callback=l,v(t),a=!0;break t}d===n(o)&&r(o),v(t)}else r(o);d=n(o)}if(null!==d)a=!0;else{var u=n(c);null!==u&&A(w,u.startTime-t),a=!1}}break e}finally{d=null,h=s,m=!1}a=void 0}}finally{a?N():j=!1}}}if("function"==typeof b)N=function(){b(_)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=_,N=function(){T.postMessage(null)}}else N=function(){y(_,0)};function A(t,n){k=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,a,s){var i=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:u++,callback:a,priorityLevel:r,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(r.sortIndex=s,t(c,r),null===n(o)&&r===n(c)&&(p?(x(k),k=-1):p=!0,A(w,s-i))):(r.sortIndex=l,t(o,r),f||m||(f=!0,j||(j=!0,N()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(q)),q)),B.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function M(){if(O)return D;O=1;var n=F(),r=e(),a=t();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(s(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var d=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),v=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case N:return"Suspense";case j:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case v:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var L=Array.isArray,I=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},B=[],q=-1;function M(e){return{current:e}}function $(e){0>q||(e.current=B[q],B[q]=null,q--)}function U(e,t){q++,B[q]=e.current,e.current=t}var H=M(null),V=M(null),K=M(null),W=M(null);function G(e,t){switch(U(K,t),U(V,e),U(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ld(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(H),U(H,e)}function Q(){$(H),$(V),$(K)}function J(e){null!==e.memoizedState&&U(W,e);var t=H.current,n=ld(t,e.type);t!==n&&(U(V,e),U(H,n))}function Y(e){V.current===e&&($(H),$(V)),W.current===e&&($(W),Jd._currentValue=R)}var X=Object.prototype.hasOwnProperty,Z=n.unstable_scheduleCallback,ee=n.unstable_cancelCallback,te=n.unstable_shouldYield,ne=n.unstable_requestPaint,re=n.unstable_now,ae=n.unstable_getCurrentPriorityLevel,se=n.unstable_ImmediatePriority,ie=n.unstable_UserBlockingPriority,le=n.unstable_NormalPriority,oe=n.unstable_LowPriority,ce=n.unstable_IdlePriority,ue=n.log,de=n.unstable_setDisableYieldValue,he=null,me=null;function fe(e){if("function"==typeof ue&&de(e),me&&"function"==typeof me.setStrictMode)try{me.setStrictMode(he,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/ye|0)|0},ge=Math.log,ye=Math.LN2;var xe=256,be=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=134217727&r;return 0!==l?0!==(r=l&~s)?a=ve(r):0!==(i&=l)?a=ve(i):n||0!==(n=l&~e)&&(a=ve(n)):0!==(l=r&~s)?a=ve(l):0!==i?a=ve(i):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&4194048&n)?t:a}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=xe;return!(4194048&(xe<<=1))&&(xe=256),e}function Se(){var e=be;return!(62914560&(be<<=1))&&(be=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Le(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Oe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Oe,ze="__reactProps$"+Oe,Re="__reactContainer$"+Oe,De="__reactEvents$"+Oe,Be="__reactListeners$"+Oe,qe="__reactHandles$"+Oe,Fe="__reactResources$"+Oe,Me="__reactMarker$"+Oe;function $e(e){delete e[Ie],delete e[ze],delete e[De],delete e[Be],delete e[qe]}function Ue(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Ie]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Ie])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Ie]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ke(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Me]=!0}var Ge=new Set,Qe={};function Je(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Xe,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(a=t,X.call(nt,a)||!X.call(tt,a)&&(et.test(a)?nt[a]=!0:(tt[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ze}var lt=!1;function ot(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&r&&"string"==typeof l.stack)return[l.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(a=r=0;r<o.length&&!o[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===o.length||a===c.length)for(r=o.length-1,a=c.length-1;1<=r&&0<=a&&o[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(o[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||o[r]!==c[a]){var u="\n"+o[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,n,r,a,s,i,l){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,dt(t)):null!=n?vt(e,i,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.name=""+dt(l):e.removeAttribute("name")}function bt(e,t,n,r,a,s,i,l){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!=typeof r&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(L(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Ct(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&Ct(e,i,t[i])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,zt=null;function Rt(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[ze]||null;if(!a)throw Error(s(90));xt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Bt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==It||null!==zt)&&(Uc(),It&&(t=It,e=zt,zt=It=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function qt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[ze]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Mt=!1;if(Ft)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(zh){Mt=!1}var Ut=null,Ht=null,Vt=null;function Kt(){if(Vt)return Vt;var e,t,n=Ht,r=n.length,a="value"in Ut?Ut.value:Ut.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Vt=a.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function Jt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Xt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Jt(en),nn=d({},en,{view:0,detail:0}),rn=Jt(nn),an=d({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Yt=e.screenX-Zt.screenX,Xt=e.screenY-Zt.screenY):Xt=Yt=0,Zt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),sn=Jt(an),ln=Jt(d({},an,{dataTransfer:0})),on=Jt(d({},nn,{relatedTarget:0})),cn=Jt(d({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Jt(d({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Jt(d({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function gn(){return pn}var yn=Jt(d({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Jt(d({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Jt(d({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),vn=Jt(d({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Jt(d({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=Jt(d({},en,{newState:0,oldState:0})),jn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var Cn=Ft&&"TextEvent"in window&&!Sn,En=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),_n=String.fromCharCode(32),Pn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function zn(e,t,n,r){It?zt?zt.push(r):zt=[r]:It=r,0<(t=Ku(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Dn=null;function Bn(e){Bu(e,0)}function qn(e){if(ft(Ve(e)))return e}function Fn(e,t){if("change"===e)return t}var Mn=!1;if(Ft){var $n;if(Ft){var Un="oninput"in document;if(!Un){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Un="function"==typeof Hn.oninput}$n=Un}else $n=!1;Mn=$n&&(!document.documentMode||9<document.documentMode)}function Vn(){Rn&&(Rn.detachEvent("onpropertychange",Kn),Dn=Rn=null)}function Kn(e){if("value"===e.propertyName&&qn(Dn)){var t=[];zn(t,Dn,e,Ot(e)),Bt(Bn,t)}}function Wn(e,t,n){"focusin"===e?(Vn(),Dn=n,(Rn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Dn)}function Qn(e,t){if("click"===e)return qn(t)}function Jn(e,t){if("input"===e||"change"===e)return qn(t)}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!X.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Ft&&"documentMode"in document&&11>=document.documentMode,sr=null,ir=null,lr=null,or=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==sr||sr!==pt(r)||("selectionStart"in(r=sr)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Xn(lr,r)||(lr=r,0<(r=Ku(ir,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},mr={};function fr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return hr[e]=n[t];return e}Ft&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var pr=fr("animationend"),gr=fr("animationiteration"),yr=fr("animationstart"),xr=fr("transitionrun"),br=fr("transitionstart"),vr=fr("transitioncancel"),wr=fr("transitionend"),Nr=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Nr.set(e,t),Je(t,[e])}jr.push("scrollEnd");var Sr=new WeakMap;function Cr(e,t){if("object"==typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Er=[],_r=0,Pr=0;function Tr(){for(var e=_r,t=Pr=_r=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var a=Er[t];Er[t++]=null;var s=Er[t];if(Er[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Ir(n,a,s)}}function Ar(e,t,n,r){Er[_r++]=e,Er[_r++]=t,Er[_r++]=n,Er[_r++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Lr(e,t,n,r){return Ar(e,t,n,r),zr(e)}function Or(e,t){return Ar(e,null,null,t),zr(e)}function Ir(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-pe(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function zr(e){if(50<Ic)throw Ic=0,zc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Dr(e,t,n,r)}function qr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,n,r,a,i){var l=0;if(r=e,"function"==typeof e)qr(e)&&(l=1);else if("string"==typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Br(31,n,t,a)).elementType=C,e.lanes=i,e;case p:return Ur(n.children,a,i,t);case g:l=8,a|=24;break;case y:return(e=Br(12,n,t,2|a)).elementType=y,e.lanes=i,e;case N:return(e=Br(13,n,t,a)).elementType=N,e.lanes=i,e;case j:return(e=Br(19,n,t,a)).elementType=j,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:case v:l=10;break e;case b:l=9;break e;case w:l=11;break e;case k:l=14;break e;case S:l=16,r=null;break e}l=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Br(l,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ur(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=[],Wr=0,Gr=null,Qr=0,Jr=[],Yr=0,Xr=null,Zr=1,ea="";function ta(e,t){Kr[Wr++]=Qr,Kr[Wr++]=Gr,Gr=e,Qr=t}function na(e,t,n){Jr[Yr++]=Zr,Jr[Yr++]=ea,Jr[Yr++]=Xr,Xr=e;var r=Zr;e=ea;var a=32-pe(r)-1;r&=~(1<<a),n+=1;var s=32-pe(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Zr=1<<32-pe(t)+a|n<<a|r,ea=s+e}else Zr=1<<s|n<<a|r,ea=e}function ra(e){null!==e.return&&(ta(e,1),na(e,1,0))}function aa(e){for(;e===Gr;)Gr=Kr[--Wr],Kr[Wr]=null,Qr=Kr[--Wr],Kr[Wr]=null;for(;e===Xr;)Xr=Jr[--Yr],Jr[Yr]=null,ea=Jr[--Yr],Jr[Yr]=null,Zr=Jr[--Yr],Jr[Yr]=null}var sa=null,ia=null,la=!1,oa=null,ca=!1,ua=Error(s(519));function da(e){throw ya(Cr(Error(s(418,"")),e)),ua}function ha(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ie]=e,t[ze]=r,n){case"dialog":qu("cancel",t),qu("close",t);break;case"iframe":case"object":case"embed":qu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)qu(Ru[n],t);break;case"source":qu("error",t);break;case"img":case"image":case"link":qu("error",t),qu("load",t);break;case"details":qu("toggle",t);break;case"input":qu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),mt(t);break;case"select":qu("invalid",t);break;case"textarea":qu("invalid",t),jt(t,r.value,r.defaultValue,r.children),mt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(qu("beforetoggle",t),qu("toggle",t)),null!=r.onScroll&&qu("scroll",t),null!=r.onScrollEnd&&qu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||da(e)}function ma(e){for(sa=e.return;sa;)switch(sa.tag){case 5:case 13:return void(ca=!1);case 27:case 3:return void(ca=!0);default:sa=sa.return}}function fa(e){if(e!==sa)return!1;if(!la)return ma(e),la=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ia&&da(e),ma(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ia=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ia=null}}else 27===n?(n=ia,pd(e.type)?(e=vd,vd=null,ia=e):ia=n):ia=sa?bd(e.stateNode.nextSibling):null;return!0}function pa(){ia=sa=null,la=!1}function ga(){var e=oa;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),oa=null),e}function ya(e){null===oa?oa=[e]:oa.push(e)}var xa=M(null),ba=null,va=null;function wa(e,t,n){U(xa,t._currentValue),t._currentValue=n}function Na(e){e._currentValue=xa.current,$(xa)}function ja(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var l=a.child;i=i.firstContext;e:for(;null!==i;){var o=i;i=a;for(var c=0;c<t.length;c++)if(o.context===t[c]){i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),ja(i.return,n,e),r||(l=null);break e}i=o.next}}else if(18===a.tag){if(null===(l=a.return))throw Error(s(341));l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),ja(l,n,e),l=null}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}function Sa(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(524288&a.flags)i=!0;else if(262144&a.flags)break;if(10===a.tag){var l=a.alternate;if(null===l)throw Error(s(387));if(null!==(l=l.memoizedProps)){var o=a.type;Yn(a.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(a===W.current){if(null===(l=a.alternate))throw Error(s(387));l.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Jd):e=[Jd])}a=a.return}null!==e&&ka(t,e,n,r),t.flags|=262144}function Ca(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ea(e){ba=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _a(e){return Ta(ba,e)}function Pa(e,t){return null===ba&&Ea(e),Ta(e,t)}function Ta(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Aa="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},La=n.unstable_scheduleCallback,Oa=n.unstable_NormalPriority,Ia={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function za(){return{controller:new Aa,data:new Map,refCount:0}}function Ra(e){e.refCount--,0===e.refCount&&La(Oa,function(){e.controller.abort()})}var Da=null,Ba=0,qa=0,Fa=null;function Ma(){if(0===--Ba&&null!==Da){null!==Fa&&(Fa.status="fulfilled");var e=Da;Da=null,qa=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $a=I.S;I.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Da){var n=Da=[];Ba=0,qa=Au(),Fa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ba++,t.then(Ma,Ma)}(0,t),null!==$a&&$a(e,t)};var Ua=M(null);function Ha(){var e=Ua.current;return null!==e?e:sc.pooledCache}function Va(e,t){U(Ua,null===t?Ua.current:t.pool)}function Ka(){var e=Ha();return null===e?null:{parent:Ia._currentValue,pool:e}}var Wa=Error(s(460)),Ga=Error(s(474)),Qa=Error(s(542)),Ja={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Za(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xa,Xa);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e}throw es=t,Wa}}var es=null;function ts(){if(null===es)throw Error(s(459));var e=es;return es=null,e}function ns(e){if(e===Wa||e===Qa)throw Error(s(483))}var rs=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ls(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ac){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=zr(e),Ir(e,null,n),t}return Ar(e,r,t,n),zr(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function cs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==Fa)throw Fa}}function hs(e,t,n,r){us=!1;var a=e.updateQueue;rs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==s){var h=a.baseState;for(i=0,u=c=o=null,l=s;;){var m=-536870913&l.lane,f=m!==l.lane;if(f?(lc&m)===m:(r&m)===m){0!==m&&m===qa&&(us=!0),null!==u&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=e,g=l;m=t;var y=n;switch(g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(y,h,m);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(m="function"==typeof(p=g.payload)?p.call(y,h,m):p))break e;h=d({},h,m);break e;case 2:rs=!0}}null!==(m=l.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[m]:f.push(m))}else f={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=f,o=h):u=u.next=f,i|=m;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===u&&(o=h),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),pc|=i,e.lanes=i,e.memoizedState=h}}function ms(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function fs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ms(n[e],t)}var ps=M(null),gs=M(0);function ys(e,t){U(gs,e=mc),U(ps,t),mc=e|t.baseLanes}function xs(){U(gs,mc),U(ps,ps.current)}function bs(){mc=gs.current,$(ps),$(gs)}var vs=0,ws=null,Ns=null,js=null,ks=!1,Ss=!1,Cs=!1,Es=0,_s=0,Ps=null,Ts=0;function As(){throw Error(s(321))}function Ls(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Os(e,t,n,r,a,s){return vs=s,ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?Wi:Gi,Cs=!1,s=n(r,a),Cs=!1,Ss&&(s=zs(t,n,r,a)),Is(e),s}function Is(e){I.H=Ki;var t=null!==Ns&&null!==Ns.next;if(vs=0,js=Ns=ws=null,ks=!1,_s=0,Ps=null,t)throw Error(s(300));null===e||_l||null!==(e=e.dependencies)&&Ca(e)&&(_l=!0)}function zs(e,t,n,r){ws=e;var a=0;do{if(Ss&&(Ps=null),_s=0,Ss=!1,25<=a)throw Error(s(301));if(a+=1,js=Ns=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}I.H=Qi,i=t(n,r)}while(Ss);return i}function Rs(){var e=I.H,t=e.useState()[0];return t="function"==typeof t.then?$s(t):t,e=e.useState()[0],(null!==Ns?Ns.memoizedState:null)!==e&&(ws.flags|=1024),t}function Ds(){var e=0!==Es;return Es=0,e}function Bs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function qs(e){if(ks){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ks=!1}vs=0,js=Ns=ws=null,Ss=!1,_s=Es=0,Ps=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===js?ws.memoizedState=js=e:js=js.next=e,js}function Ms(){if(null===Ns){var e=ws.alternate;e=null!==e?e.memoizedState:null}else e=Ns.next;var t=null===js?ws.memoizedState:js.next;if(null!==t)js=t,Ns=e;else{if(null===e){if(null===ws.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Ns=e).memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},null===js?ws.memoizedState=js=e:js=js.next=e}return js}function $s(e){var t=_s;return _s+=1,null===Ps&&(Ps=[]),e=Za(Ps,e,t),t=ws,null===(null===js?t.memoizedState:js.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?Wi:Gi),e}function Us(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return $s(e);if(e.$$typeof===v)return _a(e)}throw Error(s(438,String(e)))}function Hs(e){var t=null,n=ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ws.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Vs(e,t){return"function"==typeof t?t(e):t}function Ks(e){return Ws(Ms(),Ns,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var o=l=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(lc&h)===h:(vs&h)===h){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===qa&&(d=!0);else{if((vs&m)===m){u=u.next,m===qa&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=h,l=i):c=c.next=h,ws.lanes|=m,pc|=m}h=u.action,Cs&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,l=i):c=c.next=m,ws.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?l=i:c.next=o,!Yn(i,e.memoizedState)&&(_l=!0,d&&null!==(n=Fa)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gs(e){var t=Ms(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);Yn(i,t.memoizedState)||(_l=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Qs(e,t,n){var r=ws,a=Ms(),i=la;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var l=!Yn((Ns||a).memoizedState,n);if(l&&(a.memoizedState=n,_l=!0),a=a.queue,xi(2048,8,Xs.bind(null,r,a,e),[e]),a.getSnapshot!==t||l||null!==js&&1&js.memoizedState.tag){if(r.flags|=2048,pi(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,a,n,t),null),null===sc)throw Error(s(349));i||124&vs||Js(r,t,n)}return n}function Js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ys(e,t,n,r){t.value=n,t.getSnapshot=r,Zs(t)&&ei(e)}function Xs(e,t,n){return n(function(){Zs(t)&&ei(e)})}function Zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function ei(e){var t=Or(e,2);null!==t&&Bc(t,e,2)}function ti(e){var t=Fs();if("function"==typeof e){var n=e;if(e=n(),Cs){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:e},t}function ni(e,t,n,r){return e.baseState=n,Ws(e,Ns,"function"==typeof r?r:Vs)}function ri(e,t,n,r,a){if(Ui(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==I.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ai(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ai(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=I.T,i={};I.T=i;try{var l=n(a,r),o=I.S;null!==o&&o(i,l),si(e,t,l)}catch(c){li(e,t,c)}finally{I.T=s}}else try{si(e,t,s=n(a,r))}catch(u){li(e,t,u)}}function si(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ii(e,t,n)},function(n){return li(e,t,n)}):ii(e,t,n)}function ii(e,t,n){t.status="fulfilled",t.value=n,oi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ai(e,n)))}function li(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oi(t),t=t.next}while(t!==r)}e.action=null}function oi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ci(e,t){return t}function ui(e,t){if(la){var n=sc.formState;if(null!==n){e:{var r=ws;if(la){if(ia){t:{for(var a=ia,s=ca;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=bd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){ia=bd(a.nextSibling),r="F!"===a.data;break e}}da(r)}r=!1}r&&(t=n[0])}}return(n=Fs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},n.queue=r,n=Fi.bind(null,ws,r),r.dispatch=n,r=ti(!1),s=$i.bind(null,ws,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Fs()).queue=a,n=ri.bind(null,ws,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function di(e){return hi(Ms(),Ns,e)}function hi(e,t,n){if(t=Ws(e,t,ci)[0],e=Ks(Vs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=$s(t)}catch(i){if(i===Wa)throw Qa;throw i}else r=t;var a=(t=Ms()).queue,s=a.dispatch;return n!==t.memoizedState&&(ws.flags|=2048,pi(9,{destroy:void 0,resource:void 0},mi.bind(null,a,n),null)),[r,s,e]}function mi(e,t){e.action=t}function fi(e){var t=Ms(),n=Ns;if(null!==n)return hi(t,n,e);Ms(),t=t.memoizedState;var r=(n=Ms()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gi(){return Ms().memoizedState}function yi(e,t,n,r){var a=Fs();r=void 0===r?null:r,ws.flags|=e,a.memoizedState=pi(1|t,{destroy:void 0,resource:void 0},n,r)}function xi(e,t,n,r){var a=Ms();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==Ns&&null!==r&&Ls(r,Ns.memoizedState.deps)?a.memoizedState=pi(t,s,n,r):(ws.flags|=e,a.memoizedState=pi(1|t,s,n,r))}function bi(e,t){yi(8390656,8,e,t)}function vi(e,t){xi(2048,8,e,t)}function wi(e,t){return xi(4,2,e,t)}function Ni(e,t){return xi(4,4,e,t)}function ji(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ki(e,t,n){n=null!=n?n.concat([e]):null,xi(4,4,ji.bind(null,t,e),n)}function Si(){}function Ci(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ls(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ei(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ls(t,r[1]))return r[0];if(r=e(),Cs){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r}function _i(e,t,n){return void 0===n||1073741824&vs?e.memoizedState=t:(e.memoizedState=n,e=Dc(),ws.lanes|=e,pc|=e,n)}function Pi(e,t,n,r){return Yn(n,t)?n:null!==ps.current?(e=_i(e,n,r),Yn(e,t)||(_l=!0),e):42&vs?(e=Dc(),ws.lanes|=e,pc|=e,t):(_l=!0,e.memoizedState=n)}function Ti(e,t,n,r,a){var s=z.p;z.p=0!==s&&8>s?s:8;var i,l,o,c=I.T,u={};I.T=u,$i(e,!1,t,n);try{var d=a(),h=I.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Mi(e,t,(i=r,l=[],o={status:"pending",value:null,reason:null,then:function(e){l.push(e)}},d.then(function(){o.status="fulfilled",o.value=i;for(var e=0;e<l.length;e++)(0,l[e])(i)},function(e){for(o.status="rejected",o.reason=e,e=0;e<l.length;e++)(0,l[e])(void 0)}),o),Rc());else Mi(e,t,r,Rc())}catch(m){Mi(e,t,{then:function(){},status:"rejected",reason:m},Rc())}finally{z.p=s,I.T=c}}function Ai(){}function Li(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Oi(e).queue;Ti(e,a,t,R,null===n?Ai:function(){return Ii(e),n(r)})}function Oi(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ii(e){Mi(e,Oi(e).next.queue,{},Rc())}function zi(){return _a(Jd)}function Ri(){return Ms().memoizedState}function Di(){return Ms().memoizedState}function Bi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=ls(t,e=is(n),n);return null!==r&&(Bc(r,t,n),os(r,t,n)),t={cache:za()},void(e.payload=t)}t=t.return}}function qi(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ui(e)?Hi(t,n):null!==(n=Lr(e,t,n,r))&&(Bc(n,e,r),Vi(n,t,r))}function Fi(e,t,n){Mi(e,t,n,Rc())}function Mi(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ui(e))Hi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(a.hasEagerState=!0,a.eagerState=l,Yn(l,i))return Ar(e,t,a,0),null===sc&&Tr(),!1}catch(o){}if(null!==(n=Lr(e,t,a,r)))return Bc(n,e,r),Vi(n,t,r),!0}return!1}function $i(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Ui(e)){if(t)throw Error(s(479))}else null!==(t=Lr(e,n,r,2))&&Bc(t,e,2)}function Ui(e){var t=e.alternate;return e===ws||null!==t&&t===ws}function Hi(e,t){Ss=ks=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vi(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var Ki={readContext:_a,use:Us,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useLayoutEffect:As,useInsertionEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useSyncExternalStore:As,useId:As,useHostTransitionStatus:As,useFormState:As,useActionState:As,useOptimistic:As,useMemoCache:As,useCacheRefresh:As},Wi={readContext:_a,use:Us,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:bi,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,yi(4194308,4,ji.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){yi(4,2,e,t)},useMemo:function(e,t){var n=Fs();t=void 0===t?null:t;var r=e();if(Cs){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fs();if(void 0!==n){var a=n(t);if(Cs){fe(!0);try{n(t)}finally{fe(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=qi.bind(null,ws,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=ti(e)).queue,n=Fi.bind(null,ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Si,useDeferredValue:function(e,t){return _i(Fs(),e,t)},useTransition:function(){var e=ti(!1);return e=Ti.bind(null,ws,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ws,a=Fs();if(la){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===sc)throw Error(s(349));124&lc||Js(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,bi(Xs.bind(null,r,i,e),[e]),r.flags|=2048,pi(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,i,n,t),null),n},useId:function(){var e=Fs(),t=sc.identifierPrefix;if(la){var n=ea;t="«"+t+"R"+(n=(Zr&~(1<<32-pe(Zr)-1)).toString(32)+n),0<(n=Es++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Ts++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:zi,useFormState:ui,useActionState:ui,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$i.bind(null,ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hs,useCacheRefresh:function(){return Fs().memoizedState=Bi.bind(null,ws)}},Gi={readContext:_a,use:Us,useCallback:Ci,useContext:_a,useEffect:vi,useImperativeHandle:ki,useInsertionEffect:wi,useLayoutEffect:Ni,useMemo:Ei,useReducer:Ks,useRef:gi,useState:function(){return Ks(Vs)},useDebugValue:Si,useDeferredValue:function(e,t){return Pi(Ms(),Ns.memoizedState,e,t)},useTransition:function(){var e=Ks(Vs)[0],t=Ms().memoizedState;return["boolean"==typeof e?e:$s(e),t]},useSyncExternalStore:Qs,useId:Ri,useHostTransitionStatus:zi,useFormState:di,useActionState:di,useOptimistic:function(e,t){return ni(Ms(),0,e,t)},useMemoCache:Hs,useCacheRefresh:Di},Qi={readContext:_a,use:Us,useCallback:Ci,useContext:_a,useEffect:vi,useImperativeHandle:ki,useInsertionEffect:wi,useLayoutEffect:Ni,useMemo:Ei,useReducer:Gs,useRef:gi,useState:function(){return Gs(Vs)},useDebugValue:Si,useDeferredValue:function(e,t){var n=Ms();return null===Ns?_i(n,e,t):Pi(n,Ns.memoizedState,e,t)},useTransition:function(){var e=Gs(Vs)[0],t=Ms().memoizedState;return["boolean"==typeof e?e:$s(e),t]},useSyncExternalStore:Qs,useId:Ri,useHostTransitionStatus:zi,useFormState:fi,useActionState:fi,useOptimistic:function(e,t){var n=Ms();return null!==Ns?ni(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hs,useCacheRefresh:Di},Ji=null,Yi=0;function Xi(e){var t=Yi;return Yi+=1,null===Ji&&(Ji=[]),Za(Ji,e,t)}function Zi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function el(e,t){if(t.$$typeof===h)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tl(e){return(0,e._init)(e._payload)}function nl(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===p?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===S&&tl(s)===t.type)?(Zi(t=a(t,n.props),n),t.return=e,t):(Zi(t=$r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case m:return Zi(n=$r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Vr(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(L(t)||P(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,Xi(t),n);if(t.$$typeof===v)return h(e,Pa(e,t),n);el(e,t)}return null}function g(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?c(e,t,n,r):null;case f:return n.key===a?u(e,t,n,r):null;case S:return g(e,t,n=(a=n._init)(n._payload),r)}if(L(n)||P(n))return null!==a?null:d(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Xi(n),r);if(n.$$typeof===v)return g(e,t,Pa(e,n),r);el(e,n)}return null}function y(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(L(r)||P(r))return d(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return y(e,t,n,Xi(r),a);if(r.$$typeof===v)return y(e,t,n,Pa(t,r),a);el(t,r)}return null}function x(o,c,u,d){if("object"==typeof u&&null!==u&&u.type===p&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===p){if(7===c.tag){n(o,c.sibling),(d=a(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===S&&tl(b)===c.type){n(o,c.sibling),Zi(d=a(c,u.props),u),d.return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===p?((d=Ur(u.props.children,o.mode,d,u.key)).return=o,o=d):(Zi(d=$r(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return l(o);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(d=a(c,u.children||[])).return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}(d=Vr(u,o.mode,d)).return=o,o=d}return l(o);case S:return x(o,c,u=(b=u._init)(u._payload),d)}if(L(u))return function(a,s,l,o){for(var c=null,u=null,d=s,m=s=0,f=null;null!==d&&m<l.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var p=g(a,d,l[m],o);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(a,d),s=i(p,s,m),null===u?c=p:u.sibling=p,u=p,d=f}if(m===l.length)return n(a,d),la&&ta(a,m),c;if(null===d){for(;m<l.length;m++)null!==(d=h(a,l[m],o))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return la&&ta(a,m),c}for(d=r(d);m<l.length;m++)null!==(f=y(d,a,m,l[m],o))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),s=i(f,s,m),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(a,e)}),la&&ta(a,m),c}(o,c,u,d);if(P(u)){if("function"!=typeof(b=P(u)))throw Error(s(150));return function(a,l,o,c){if(null==o)throw Error(s(151));for(var u=null,d=null,m=l,f=l=0,p=null,x=o.next();null!==m&&!x.done;f++,x=o.next()){m.index>f?(p=m,m=null):p=m.sibling;var b=g(a,m,x.value,c);if(null===b){null===m&&(m=p);break}e&&m&&null===b.alternate&&t(a,m),l=i(b,l,f),null===d?u=b:d.sibling=b,d=b,m=p}if(x.done)return n(a,m),la&&ta(a,f),u;if(null===m){for(;!x.done;f++,x=o.next())null!==(x=h(a,x.value,c))&&(l=i(x,l,f),null===d?u=x:d.sibling=x,d=x);return la&&ta(a,f),u}for(m=r(m);!x.done;f++,x=o.next())null!==(x=y(m,a,f,x.value,c))&&(e&&null!==x.alternate&&m.delete(null===x.key?f:x.key),l=i(x,l,f),null===d?u=x:d.sibling=x,d=x);return e&&m.forEach(function(e){return t(a,e)}),la&&ta(a,f),u}(o,c,u=b.call(u),d)}if("function"==typeof u.then)return x(o,c,Xi(u),d);if(u.$$typeof===v)return x(o,c,Pa(o,u),d);el(o,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(d=a(c,u)).return=o,o=d):(n(o,c),(d=Hr(u,o.mode,d)).return=o,o=d),l(o)):n(o,c)}return function(e,t,n,r){try{Yi=0;var a=x(e,t,n,r);return Ji=null,a}catch(i){if(i===Wa||i===Qa)throw i;var s=Br(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var rl=nl(!0),al=nl(!1),sl=M(null),il=null;function ll(e){var t=e.alternate;U(dl,1&dl.current),U(sl,e),null===il&&(null===t||null!==ps.current||null!==t.memoizedState)&&(il=e)}function ol(e){if(22===e.tag){if(U(dl,dl.current),U(sl,e),null===il){var t=e.alternate;null!==t&&null!==t.memoizedState&&(il=e)}}else cl()}function cl(){U(dl,dl.current),U(sl,sl.current)}function ul(e){$(sl),il===e&&(il=null),$(dl)}var dl=M(0);function hl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||xd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ml(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fl={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=is(r);a.payload=t,null!=n&&(a.callback=n),null!==(t=ls(e,a,r))&&(Bc(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=is(r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=ls(e,a,r))&&(Bc(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=is(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ls(e,r,n))&&(Bc(t,e,n),os(t,e,n))}};function pl(e,t,n,r,a,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,s))}function gl(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fl.enqueueReplaceState(t,t.state,null)}function yl(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=d({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var xl="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function bl(e){xl(e)}function vl(e){}function wl(e){xl(e)}function Nl(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function jl(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function kl(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){Nl(e,t)},n}function Sl(e){return(e=is(e)).tag=3,e}function Cl(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){jl(t,n,r)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){jl(t,n,r),"function"!=typeof a&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var El=Error(s(461)),_l=!1;function Pl(e,t,n,r){t.child=null===e?al(t,null,n,r):rl(t,e.child,n,r)}function Tl(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var l in r)"ref"!==l&&(i[l]=r[l])}else i=r;return Ea(t),r=Os(e,t,n,i,s,a),l=Ds(),null===e||_l?(la&&l&&ra(t),t.flags|=1,Pl(e,t,r,a),t.child):(Bs(e,t,a),Jl(e,t,a))}function Al(e,t,n,r,a){if(null===e){var s=n.type;return"function"!=typeof s||qr(s)||void 0!==s.defaultProps||null!==n.compare?((e=$r(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ll(e,t,s,r,a))}if(s=e.child,!Yl(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(i,r)&&e.ref===t.ref)return Jl(e,t,a)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Ll(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(_l=!1,t.pendingProps=r=s,!Yl(e,a))return t.lanes=e.lanes,Jl(e,t,a);131072&e.flags&&(_l=!0)}}return Rl(e,t,n,r,a)}function Ol(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==s?s.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Il(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Il(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Va(0,null!==s?s.cachePool:null),null!==s?ys(t,s):xs(),ol(t)}else null!==s?(Va(0,s.cachePool),ys(t,s),cl(),t.memoizedState=null):(null!==e&&Va(0,null),xs(),cl());return Pl(e,t,a,n),t.child}function Il(e,t,n,r){var a=Ha();return a=null===a?null:{parent:Ia._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Va(0,null),xs(),ol(t),null!==e&&Sa(e,t,r,!0),null}function zl(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Rl(e,t,n,r,a){return Ea(t),n=Os(e,t,n,r,void 0,a),r=Ds(),null===e||_l?(la&&r&&ra(t),t.flags|=1,Pl(e,t,n,a),t.child):(Bs(e,t,a),Jl(e,t,a))}function Dl(e,t,n,r,a,s){return Ea(t),t.updateQueue=null,n=zs(t,r,n,a),Is(e),r=Ds(),null===e||_l?(la&&r&&ra(t),t.flags|=1,Pl(e,t,n,s),t.child):(Bs(e,t,s),Jl(e,t,s))}function Bl(e,t,n,r,a){if(Ea(t),null===t.stateNode){var s=Rr,i=n.contextType;"object"==typeof i&&null!==i&&(s=_a(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fl,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},as(t),i=n.contextType,s.context="object"==typeof i&&null!==i?_a(i):Rr,s.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(ml(t,n,i,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&fl.enqueueReplaceState(s,s.state,null),hs(t,r,s,a),ds(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var l=t.memoizedProps,o=yl(n,l);s.props=o;var c=s.context,u=n.contextType;i=Rr,"object"==typeof u&&null!==u&&(i=_a(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,l=t.pendingProps!==l,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l||c!==i)&&gl(t,s,r,i),rs=!1;var h=t.memoizedState;s.state=h,hs(t,r,s,a),ds(),c=t.memoizedState,l||h!==c||rs?("function"==typeof d&&(ml(t,n,d,r),c=t.memoizedState),(o=rs||pl(t,n,o,r,h,c,i))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ss(e,t),u=yl(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,o=Rr,"object"==typeof c&&null!==c&&(o=_a(c)),(c="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==d||h!==o)&&gl(t,s,r,o),rs=!1,h=t.memoizedState,s.state=h,hs(t,r,s,a),ds();var m=t.memoizedState;i!==d||h!==m||rs||null!==e&&null!==e.dependencies&&Ca(e.dependencies)?("function"==typeof l&&(ml(t,n,l,r),m=t.memoizedState),(u=rs||pl(t,n,u,r,h,m,o)||null!==e&&null!==e.dependencies&&Ca(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,o),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,o)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=o,r=u):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,zl(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=rl(t,e.child,null,a),t.child=rl(t,null,n,a)):Pl(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Jl(e,t,a),e}function ql(e,t,n,r){return pa(),t.flags|=256,Pl(e,t,n,r),t.child}var Fl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ml(e){return{baseLanes:e,cachePool:Ka()}}function $l(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=xc),e}function Ul(e,t,n){var r,a=t.pendingProps,i=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&dl.current)),r&&(i=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(la){if(i?ll(t):cl(),la){var o,c=ia;if(o=c){e:{for(o=c,c=ca;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=bd(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Zr,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},(o=Br(18,null,null,0)).stateNode=c,o.return=t,t.child=o,sa=t,ia=null,o=!0):o=!1}o||da(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return xd(c)?t.lanes=32:t.lanes=536870912,null;ul(t)}return c=a.children,a=a.fallback,i?(cl(),c=Vl({mode:"hidden",children:c},i=t.mode),a=Ur(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=Ml(n),i.childLanes=$l(e,r,n),t.memoizedState=Fl,a):(ll(t),Hl(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(l)256&t.flags?(ll(t),t.flags&=-257,t=Kl(e,t,n)):null!==t.memoizedState?(cl(),t.child=e.child,t.flags|=128,t=null):(cl(),i=a.fallback,c=t.mode,a=Vl({mode:"visible",children:a.children},c),(i=Ur(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,rl(t,e.child,null,n),(a=t.child).memoizedState=Ml(n),a.childLanes=$l(e,r,n),t.memoizedState=Fl,t=i);else if(ll(t),xd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(s(419))).stack="",a.digest=r,ya({value:a,source:null,stack:null}),t=Kl(e,t,n)}else if(_l||Sa(e,t,n,!1),r=0!==(n&e.childLanes),_l||r){if(null!==(r=sc)&&(0!==(a=0!==((a=42&(a=n&-n)?1:Te(a))&(r.suspendedLanes|n))?0:a)&&a!==o.retryLane))throw o.retryLane=a,Or(e,a),Bc(r,e,a),El;"$?"===c.data||Qc(),t=Kl(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ia=bd(c.nextSibling),sa=t,la=!0,oa=null,ca=!1,null!==e&&(Jr[Yr++]=Zr,Jr[Yr++]=ea,Jr[Yr++]=Xr,Zr=e.id,ea=e.overflow,Xr=t),(t=Hl(t,a.children)).flags|=4096);return t}return i?(cl(),i=a.fallback,c=t.mode,u=(o=e.child).sibling,(a=Fr(o,{mode:"hidden",children:a.children})).subtreeFlags=65011712&o.subtreeFlags,null!==u?i=Fr(u,i):(i=Ur(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=Ml(n):(null!==(o=c.cachePool)?(u=Ia._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Ka(),c={baseLanes:c.baseLanes|n,cachePool:o}),i.memoizedState=c,i.childLanes=$l(e,r,n),t.memoizedState=Fl,a):(ll(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hl(e,t){return(t=Vl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vl(e,t){return(e=Br(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Kl(e,t,n){return rl(t,e.child,null,n),(e=Hl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ja(e.return,t,n)}function Gl(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Ql(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Pl(e,t,r.children,n),2&(r=dl.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wl(e,n,t);else if(19===e.tag)Wl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(dl,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===hl(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Gl(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===hl(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Gl(t,!0,n,null,s);break;case"together":Gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ca(e))}function Xl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_l=!0;else{if(!(Yl(e,n)||128&t.flags))return _l=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),wa(0,Ia,e.memoizedState.cache),pa();break;case 27:case 5:J(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:wa(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ll(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ul(e,t,n):(ll(t),null!==(e=Jl(e,t,n))?e.sibling:null);ll(t);break;case 19:var a=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Sa(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Ql(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(dl,dl.current),r)break;return null;case 22:case 23:return t.lanes=0,Ol(e,t,n);case 24:wa(0,Ia,e.memoizedState.cache)}return Jl(e,t,n)}(e,t,n);_l=!!(131072&e.flags)}else _l=!1,la&&1048576&t.flags&&na(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((a=r.$$typeof)===w){t.tag=11,t=Tl(null,t,r,e,n);break e}if(a===k){t.tag=14,t=Al(null,t,r,e,n);break e}}throw t=A(r)||r,Error(s(306,t,""))}qr(r)?(e=yl(r,e),t.tag=1,t=Bl(null,t,r,e,n)):(t.tag=0,t=Rl(null,t,r,e,n))}return t;case 0:return Rl(e,t,t.type,t.pendingProps,n);case 1:return Bl(e,t,r=t.type,a=yl(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ss(e,t),hs(t,r,null,n);var l=t.memoizedState;if(r=l.cache,wa(0,Ia,r),r!==i.cache&&ka(t,[Ia],n,!0),ds(),r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ql(e,t,r,n);break e}if(r!==a){ya(a=Cr(Error(s(424)),t)),t=ql(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ia=bd(e.firstChild),sa=t,la=!0,oa=null,ca=!0,n=al(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===a){t=Jl(e,t,n);break e}Pl(e,t,r,n)}t=t.child}return t;case 26:return zl(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:la||(n=t.type,e=t.pendingProps,(r=sd(K.current).createElement(n))[Ie]=t,r[ze]=e,nd(r,n,e),We(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&la&&(r=t.stateNode=Nd(t.type,t.pendingProps,K.current),sa=t,ca=!0,a=ia,pd(t.type)?(vd=a,ia=bd(r.firstChild)):ia=a),Pl(e,t,t.pendingProps.children,n),zl(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&la&&((a=r=ia)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Me])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ca))?(t.stateNode=r,sa=t,ia=bd(r.firstChild),ca=!1,a=!0):a=!1),a||da(t)),J(t),a=t.type,i=t.pendingProps,l=null!==e?e.memoizedProps:null,r=i.children,od(a,i)?r=null:null!==l&&od(a,l)&&(t.flags|=32),null!==t.memoizedState&&(a=Os(e,t,Rs,null,null,n),Jd._currentValue=a),zl(e,t),Pl(e,t,r,n),t.child;case 6:return null===e&&la&&((e=n=ia)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,ca))?(t.stateNode=n,sa=t,ia=null,e=!0):e=!1),e||da(t)),null;case 13:return Ul(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=rl(t,null,r,n):Pl(e,t,r,n),t.child;case 11:return Tl(e,t,t.type,t.pendingProps,n);case 7:return Pl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wa(0,t.type,r.value),Pl(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ea(t),r=r(a=_a(a)),t.flags|=1,Pl(e,t,r,n),t.child;case 14:return Al(e,t,t.type,t.pendingProps,n);case 15:return Ll(e,t,t.type,t.pendingProps,n);case 19:return Ql(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Vl(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ol(e,t,n);case 24:return Ea(t),r=_a(Ia),null===e?(null===(a=Ha())&&(a=sc,i=za(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},as(t),wa(0,Ia,a)):(0!==(e.lanes&n)&&(ss(e,t),hs(t,null,null,n),ds()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),wa(0,Ia,r)):(r=i.cache,wa(0,Ia,r),r!==a.cache&&ka(t,[Ia],n,!0))),Pl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zl(e){e.flags|=4}function eo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=sl.current)&&((4194048&lc)===lc?null!==il:(62914560&lc)!==lc&&!(536870912&lc)||t!==il))throw es=Ja,Ga;e.flags|=8192}}function to(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,bc|=t)}function no(e,t){if(!la)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ro(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ao(e,t,n){var r=t.pendingProps;switch(aa(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ro(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Na(Ia),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fa(t)?Zl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ga())),ro(t),null;case 26:return n=t.memoizedState,null===e?(Zl(t),null!==n?(ro(t),eo(t,n)):(ro(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zl(t),ro(t),eo(t,n)):(ro(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zl(t),ro(t),t.flags&=-16777217),null;case 27:Y(t),n=K.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return ro(t),null}e=H.current,fa(t)?ha(t):(e=Nd(a,r,n),t.stateNode=e,Zl(t))}return ro(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return ro(t),null}if(e=H.current,fa(t))ha(t);else{switch(a=sd(K.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ie]=t,e[ze]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(nd(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zl(t)}}return ro(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zl(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(e=K.current,fa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=sa))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||da(t)}else(e=sd(e).createTextNode(r))[Ie]=t,t.stateNode=e}return ro(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Ie]=t}else pa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ro(t),a=!1}else a=ga(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(ul(t),t):(ul(t),null)}if(ul(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),to(t,t.updateQueue),ro(t),null;case 4:return Q(),null===e&&$u(t.stateNode.containerInfo),ro(t),null;case 10:return Na(t.type),ro(t),null;case 19:if($(dl),null===(a=t.memoizedState))return ro(t),null;if(r=!!(128&t.flags),null===(i=a.rendering))if(r)no(a,!1);else{if(0!==fc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=hl(e))){for(t.flags|=128,no(a,!1),e=i.updateQueue,t.updateQueue=e,to(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Mr(n,e),n=n.sibling;return U(dl,1&dl.current|2),t.child}e=e.sibling}null!==a.tail&&re()>kc&&(t.flags|=128,r=!0,no(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hl(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,to(t,e),no(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!la)return ro(t),null}else 2*re()-a.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,no(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=re(),t.sibling=null,e=dl.current,U(dl,r?1&e|2:1&e),t):(ro(t),null);case 22:case 23:return ul(t),bs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(ro(t),6&t.subtreeFlags&&(t.flags|=8192)):ro(t),null!==(n=t.updateQueue)&&to(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&$(Ua),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Na(Ia),ro(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function so(e,t){switch(aa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Na(Ia),Q(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ul(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $(dl),null;case 4:return Q(),null;case 10:return Na(t.type),null;case 22:case 23:return ul(t),bs(),null!==e&&$(Ua),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Na(Ia),null;default:return null}}function io(e,t){switch(aa(t),t.tag){case 3:Na(Ia),Q();break;case 26:case 27:case 5:Y(t);break;case 4:Q();break;case 13:ul(t);break;case 19:$(dl);break;case 10:Na(t.type);break;case 22:case 23:ul(t),bs(),null!==e&&$(Ua);break;case 24:Na(Ia)}}function lo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(l){hu(t,t.return,l)}}function oo(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,a=t;var o=n,c=l;try{c()}catch(u){hu(a,o,u)}}}r=r.next}while(r!==s)}}catch(u){hu(t,t.return,u)}}function co(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fs(t,n)}catch(r){hu(e,e.return,r)}}}function uo(e,t,n){n.props=yl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function ho(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(a){hu(e,t,a)}}function mo(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(a){hu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){hu(e,t,s)}else n.current=null}function fo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){hu(e,e.return,a)}}function po(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,l=null,o=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||ed(e,t,f,null,r,h)}}for(var m in r){var f=r[m];if(h=n[m],r.hasOwnProperty(m)&&(null!=f||null!=h))switch(m){case"type":i=f;break;case"name":a=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":l=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&ed(e,t,m,f,r,h)}}return void xt(e,l,o,c,u,d,i,a);case"select":for(i in f=l=o=m=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||ed(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":m=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:i!==c&&ed(e,t,a,i,r,c)}return t=o,n=l,r=f,void(null!=m?wt(e,!!n,m,!1):!!r!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(o in f=m=null,n)if(a=n[o],n.hasOwnProperty(o)&&null!=a&&!r.hasOwnProperty(o))switch(o){case"value":case"children":break;default:ed(e,t,o,null,r,a)}for(l in r)if(a=r[l],i=n[l],r.hasOwnProperty(l)&&(null!=a||null!=i))switch(l){case"value":m=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&ed(e,t,l,a,r,i)}return void Nt(e,m,f);case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&null!=m&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else ed(e,t,p,null,r,m);for(c in r)if(m=r[c],f=n[c],r.hasOwnProperty(c)&&m!==f&&(null!=m||null!=f))if("selected"===c)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else ed(e,t,c,m,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!r.hasOwnProperty(g)&&ed(e,t,g,null,r,m);for(u in r)if(m=r[u],f=n[u],r.hasOwnProperty(u)&&m!==f&&(null!=m||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:ed(e,t,u,m,r,f)}return;default:if(_t(t)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&void 0!==m&&!r.hasOwnProperty(y)&&td(e,t,y,void 0,r,m);for(d in r)m=r[d],f=n[d],!r.hasOwnProperty(d)||m===f||void 0===m&&void 0===f||td(e,t,d,m,r,f);return}}for(var x in n)m=n[x],n.hasOwnProperty(x)&&null!=m&&!r.hasOwnProperty(x)&&ed(e,t,x,null,r,m);for(h in r)m=r[h],f=n[h],!r.hasOwnProperty(h)||m===f||null==m&&null==f||ed(e,t,h,m,r,f)}(r,e.type,n,t),r[ze]=t}catch(a){hu(e,e.return,a)}}function go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function yo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(xo(e,t,n),e=e.sibling;null!==e;)xo(e,t,n),e=e.sibling}function bo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bo(e,t,n),e=e.sibling;null!==e;)bo(e,t,n),e=e.sibling}function vo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);nd(t,r,n),t[Ie]=e,t[ze]=n}catch(s){hu(e,e.return,s)}}var wo=!1,No=!1,jo=!1,ko="function"==typeof WeakSet?WeakSet:Set,So=null;function Co(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:qo(e,n),4&r&&lo(5,n);break;case 1:if(qo(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){hu(n,n.return,i)}else{var a=yl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){hu(n,n.return,l)}}64&r&&co(n),512&r&&ho(n,n.return);break;case 3:if(qo(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fs(e,t)}catch(i){hu(n,n.return,i)}}break;case 27:null===t&&4&r&&vo(n);case 26:case 5:qo(e,n),null===t&&4&r&&fo(n),512&r&&ho(n,n.return);break;case 12:qo(e,n);break;case 13:qo(e,n),4&r&&Lo(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wo)){t=null!==t&&null!==t.memoizedState||No,a=wo;var s=No;wo=r,(No=t)&&!s?Mo(e,n,!!(8772&n.subtreeFlags)):qo(e,n),wo=a,No=s}break;case 30:break;default:qo(e,n)}}function Eo(e){var t=e.alternate;null!==t&&(e.alternate=null,Eo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _o=null,Po=!1;function To(e,t,n){for(n=n.child;null!==n;)Ao(e,t,n),n=n.sibling}function Ao(e,t,n){if(me&&"function"==typeof me.onCommitFiberUnmount)try{me.onCommitFiberUnmount(he,n)}catch(s){}switch(n.tag){case 26:No||mo(n,t),To(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:No||mo(n,t);var r=_o,a=Po;pd(n.type)&&(_o=n.stateNode,Po=!1),To(e,t,n),jd(n.stateNode),_o=r,Po=a;break;case 5:No||mo(n,t);case 6:if(r=_o,a=Po,_o=null,To(e,t,n),Po=a,null!==(_o=r))if(Po)try{(9===_o.nodeType?_o.body:"HTML"===_o.nodeName?_o.ownerDocument.body:_o).removeChild(n.stateNode)}catch(i){hu(n,t,i)}else try{_o.removeChild(n.stateNode)}catch(i){hu(n,t,i)}break;case 18:null!==_o&&(Po?(gd(9===(e=_o).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ph(e)):gd(_o,n.stateNode));break;case 4:r=_o,a=Po,_o=n.stateNode.containerInfo,Po=!0,To(e,t,n),_o=r,Po=a;break;case 0:case 11:case 14:case 15:No||oo(2,n,t),No||oo(4,n,t),To(e,t,n);break;case 1:No||(mo(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&uo(n,t,r)),To(e,t,n);break;case 21:To(e,t,n);break;case 22:No=(r=No)||null!==n.memoizedState,To(e,t,n),No=r;break;default:To(e,t,n)}}function Lo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ph(e)}catch(n){hu(t,t.return,n)}}function Oo(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ko),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ko),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=yu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Io(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:if(pd(o.type)){_o=o.stateNode,Po=!1;break e}break;case 5:_o=o.stateNode,Po=!1;break e;case 3:case 4:_o=o.stateNode.containerInfo,Po=!0;break e}o=o.return}if(null===_o)throw Error(s(160));Ao(i,l,a),_o=null,Po=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ro(t,e),t=t.sibling}var zo=null;function Ro(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Io(t,e),Do(e),4&r&&(oo(3,e,e.return),lo(3,e),oo(5,e,e.return));break;case 1:Io(t,e),Do(e),512&r&&(No||null===n||mo(n,n.return)),64&r&&wo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=zo;if(Io(t,e),Do(e),512&r&&(No||null===n||mo(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Me]||i[Ie]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),nd(i,r,n),i[Ie]=e,We(i),r=i;break e;case"link":var l=Md("link","href",a).get(r+(n.href||""));if(l)for(var o=0;o<l.length;o++)if((i=l[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(o,1);break t}nd(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(l=Md("meta","content",a).get(r+(n.content||"")))for(o=0;o<l.length;o++)if((i=l[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(o,1);break t}nd(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[Ie]=e,We(i),r=i}e.stateNode=r}else $d(a,e.type,e.stateNode);else e.stateNode=Rd(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?$d(a,e.type,e.stateNode):Rd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&po(e,e.memoizedProps,n.memoizedProps)}break;case 27:Io(t,e),Do(e),512&r&&(No||null===n||mo(n,n.return)),null!==n&&4&r&&po(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Io(t,e),Do(e),512&r&&(No||null===n||mo(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(f){hu(e,e.return,f)}}4&r&&null!=e.stateNode&&po(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(jo=!0);break;case 6:if(Io(t,e),Do(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){hu(e,e.return,f)}}break;case 3:if(Fd=null,a=zo,zo=Cd(t.containerInfo),Io(t,e),zo=a,Do(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ph(t.containerInfo)}catch(f){hu(e,e.return,f)}jo&&(jo=!1,Bo(e));break;case 4:r=zo,zo=Cd(e.stateNode.containerInfo),Io(t,e),Do(e),zo=r;break;case 12:default:Io(t,e),Do(e);break;case 13:Io(t,e),Do(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(jc=re()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Oo(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wo,d=No;if(wo=u||a,No=d||c,Io(t,e),No=d,wo=u,Do(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||wo||No||Fo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"==typeof(l=i.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,m=null!=h&&h.hasOwnProperty("display")?h.display:null;o.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(f){hu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){hu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Oo(e,n))));break;case 19:Io(t,e),Do(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Oo(e,r)));case 30:case 21:}}function Do(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(go(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;bo(e,yo(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(kt(i,""),n.flags&=-33),bo(e,yo(e),i);break;case 3:case 4:var l=n.stateNode.containerInfo;xo(e,yo(e),l);break;default:throw Error(s(161))}}catch(o){hu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Bo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Bo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function qo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Co(e,t.alternate,t),t=t.sibling}function Fo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oo(4,t,t.return),Fo(t);break;case 1:mo(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&uo(t,t.return,n),Fo(t);break;case 27:jd(t.stateNode);case 26:case 5:mo(t,t.return),Fo(t);break;case 22:null===t.memoizedState&&Fo(t);break;default:Fo(t)}e=e.sibling}}function Mo(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Mo(a,s,n),lo(4,s);break;case 1:if(Mo(a,s,n),"function"==typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var l=r.stateNode;try{var o=a.shared.hiddenCallbacks;if(null!==o)for(a.shared.hiddenCallbacks=null,a=0;a<o.length;a++)ms(o[a],l)}catch(c){hu(r,r.return,c)}}n&&64&i&&co(s),ho(s,s.return);break;case 27:vo(s);case 26:case 5:Mo(a,s,n),n&&null===r&&4&i&&fo(s),ho(s,s.return);break;case 12:Mo(a,s,n);break;case 13:Mo(a,s,n),n&&4&i&&Lo(a,s);break;case 22:null===s.memoizedState&&Mo(a,s,n),ho(s,s.return);break;case 30:break;default:Mo(a,s,n)}t=t.sibling}}function $o(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ra(n))}function Uo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e))}function Ho(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vo(e,t,n,r),t=t.sibling}function Vo(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ho(e,t,n,r),2048&a&&lo(9,t);break;case 1:case 13:default:Ho(e,t,n,r);break;case 3:Ho(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e)));break;case 12:if(2048&a){Ho(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;"function"==typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){hu(t,t.return,o)}}else Ho(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Ho(e,t,n,r):Wo(e,t):2&s._visibility?Ho(e,t,n,r):(s._visibility|=2,Ko(e,t,n,r,!!(10256&t.subtreeFlags))),2048&a&&$o(i,t);break;case 24:Ho(e,t,n,r),2048&a&&Uo(t.alternate,t)}}function Ko(e,t,n,r,a){for(a=a&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,l=n,o=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:Ko(s,i,l,o,a),lo(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Ko(s,i,l,o,a):Wo(s,i):(u._visibility|=2,Ko(s,i,l,o,a)),a&&2048&c&&$o(i.alternate,i);break;case 24:Ko(s,i,l,o,a),a&&2048&c&&Uo(i.alternate,i);break;default:Ko(s,i,l,o,a)}t=t.sibling}}function Wo(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Wo(n,r),2048&a&&$o(r.alternate,r);break;case 24:Wo(n,r),2048&a&&Uo(r.alternate,r);break;default:Wo(n,r)}t=t.sibling}}var Go=8192;function Qo(e){if(e.subtreeFlags&Go)for(e=e.child;null!==e;)Jo(e),e=e.sibling}function Jo(e){switch(e.tag){case 26:Qo(e),e.flags&Go&&null!==e.memoizedState&&function(e,t,n){if(null===Hd)throw Error(s(475));var r=Hd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Ad(n.href),i=e.querySelector(Ld(a));if(i)return null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Kd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void We(i);i=e.ownerDocument||e,n=Od(n),(a=kd.get(a))&&Bd(n,a),We(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),nd(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Kd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(zo,e.memoizedState,e.memoizedProps);break;case 5:default:Qo(e);break;case 3:case 4:var t=zo;zo=Cd(e.stateNode.containerInfo),Qo(e),zo=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Go,Go=16777216,Qo(e),Go=t):Qo(e))}}function Yo(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xo(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];So=r,tc(r,e)}Yo(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zo(e),e=e.sibling}function Zo(e){switch(e.tag){case 0:case 11:case 15:Xo(e),2048&e.flags&&oo(9,e,e.return);break;case 3:case 12:default:Xo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Xo(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];So=r,tc(r,e)}Yo(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oo(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==So;){var n=So;switch(n.tag){case 0:case 11:case 15:oo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ra(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,So=r;else e:for(n=e;null!==So;){var a=(r=So).sibling,s=r.return;if(Eo(r),r===n){So=null;break e}if(null!==a){a.return=s,So=a;break e}So=s}}}var nc={getCacheForType:function(e){var t=_a(Ia),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ac=0,sc=null,ic=null,lc=0,oc=0,cc=null,uc=!1,dc=!1,hc=!1,mc=0,fc=0,pc=0,gc=0,yc=0,xc=0,bc=0,vc=null,wc=null,Nc=!1,jc=0,kc=1/0,Sc=null,Cc=null,Ec=0,_c=null,Pc=null,Tc=0,Ac=0,Lc=null,Oc=null,Ic=0,zc=null;function Rc(){if(2&ac&&0!==lc)return lc&-lc;if(null!==I.T){return 0!==qa?qa:Au()}return Le()}function Dc(){0===xc&&(xc=536870912&lc&&!la?536870912:ke());var e=sl.current;return null!==e&&(e.flags|=32),xc}function Bc(e,t,n){(e!==sc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Vc(e,0),$c(e,lc,xc,!1)),Ee(e,n),2&ac&&e===sc||(e===sc&&(!(2&ac)&&(gc|=n),4===fc&&$c(e,lc,xc,!1)),ku(e))}function qc(e,t,n){if(6&ac)throw Error(s(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||Ne(e,t),a=r?function(e,t){var n=ac;ac|=2;var r=Wc(),a=Gc();sc!==e||lc!==t?(Sc=null,kc=re()+500,Vc(e,t)):dc=Ne(e,t);e:for(;;)try{if(0!==oc&&null!==ic){t=ic;var i=cc;t:switch(oc){case 1:oc=0,cc=null,tu(e,t,i,1);break;case 2:case 9:if(Ya(i)){oc=0,cc=null,eu(t);break}t=function(){2!==oc&&9!==oc||sc!==e||(oc=7),ku(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ya(i)?(oc=0,cc=null,eu(t)):(oc=0,cc=null,tu(e,t,i,7));break;case 5:var l=null;switch(ic.tag){case 26:l=ic.memoizedState;case 5:case 27:var o=ic;if(!l||Ud(l)){oc=0,cc=null;var c=o.sibling;if(null!==c)ic=c;else{var u=o.return;null!==u?(ic=u,nu(u)):ic=null}break t}}oc=0,cc=null,tu(e,t,i,5);break;case 6:oc=0,cc=null,tu(e,t,i,6);break;case 8:Hc(),fc=6;break e;default:throw Error(s(462))}}Xc();break}catch(d){Kc(e,d)}return va=ba=null,I.H=r,I.A=a,ac=n,null!==ic?0:(sc=null,lc=0,Tr(),fc)}(e,t):Jc(e,t,!0),i=r;;){if(0===a){dc&&!r&&$c(e,t,0,!1);break}if(n=e.current.alternate,!i||Mc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;a=vc;var c=o.current.memoizedState.isDehydrated;if(c&&(Vc(o,l).flags|=256),2!==(l=Jc(o,l,!1))){if(hc&&!c){o.errorRecoveryDisabledLanes|=i,gc|=i,a=4;break e}i=wc,wc=a,null!==i&&(null===wc?wc=i:wc.push.apply(wc,i))}a=l}if(i=!1,2!==a)continue}}if(1===a){Vc(e,0),$c(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:$c(r,t,xc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=jc+300-re())){if($c(r,t,xc,!uc),0!==we(r,0,!0))break e;r.timeoutHandle=ud(Fc.bind(null,r,n,wc,Sc,Nc,t,xc,gc,bc,uc,i,2,-0,0),a)}else Fc(r,n,wc,Sc,Nc,t,xc,gc,bc,uc,i,0,-0,0)}break}a=Jc(e,t,!1),i=!1}ku(e)}function Fc(e,t,n,r,a,i,l,o,c,u,d,h,m,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Hd={stylesheets:null,count:0,unsuspend:Vd},Jo(t),null!==(h=function(){if(null===Hd)throw Error(s(475));var e=Hd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(au.bind(null,e,t,i,n,r,a,l,o,c,d,1,m,f)),void $c(e,i,l,!u);au(e,t,i,n,r,a,l,o,c)}function Mc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Yn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,r){t&=~yc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-pe(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&_e(e,n,t)}function Uc(){return!!(6&ac)||(Su(0),!1)}function Hc(){if(null!==ic){if(0===oc)var e=ic.return;else va=ba=null,qs(e=ic),Ji=null,Yi=0,e=ic;for(;null!==e;)io(e.alternate,e),e=e.return;ic=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),sc=e,ic=n=Fr(e.current,null),lc=t,oc=0,cc=null,uc=!1,dc=Ne(e,t),hc=!1,bc=xc=yc=gc=pc=fc=0,wc=vc=null,Nc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-pe(r),s=1<<a;t|=e[a],r&=~s}return mc=t,Tr(),n}function Kc(e,t){ws=null,I.H=Ki,t===Wa||t===Qa?(t=ts(),oc=3):t===Ga?(t=ts(),oc=4):oc=t===El?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===ic&&(fc=1,Nl(e,Cr(t,e.current)))}function Wc(){var e=I.H;return I.H=Ki,null===e?Ki:e}function Gc(){var e=I.A;return I.A=nc,e}function Qc(){fc=4,uc||(4194048&lc)!==lc&&null!==sl.current||(dc=!0),!(134217727&pc)&&!(134217727&gc)||null===sc||$c(sc,lc,xc,!1)}function Jc(e,t,n){var r=ac;ac|=2;var a=Wc(),s=Gc();sc===e&&lc===t||(Sc=null,Vc(e,t)),t=!1;var i=fc;e:for(;;)try{if(0!==oc&&null!==ic){var l=ic,o=cc;switch(oc){case 8:Hc(),i=6;break e;case 3:case 2:case 9:case 6:null===sl.current&&(t=!0);var c=oc;if(oc=0,cc=null,tu(e,l,o,c),n&&dc){i=0;break e}break;default:c=oc,oc=0,cc=null,tu(e,l,o,c)}}Yc(),i=fc;break}catch(u){Kc(e,u)}return t&&e.shellSuspendCounter++,va=ba=null,ac=r,I.H=a,I.A=s,null===ic&&(sc=null,lc=0,Tr()),i}function Yc(){for(;null!==ic;)Zc(ic)}function Xc(){for(;null!==ic&&!te();)Zc(ic)}function Zc(e){var t=Xl(e.alternate,e,mc);e.memoizedProps=e.pendingProps,null===t?nu(e):ic=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Dl(n,t,t.pendingProps,t.type,void 0,lc);break;case 11:t=Dl(n,t,t.pendingProps,t.type.render,t.ref,lc);break;case 5:qs(t);default:io(n,t),t=Xl(n,t=ic=Mr(t,mc),mc)}e.memoizedProps=e.pendingProps,null===t?nu(e):ic=t}function tu(e,t,n,r){va=ba=null,qs(t),Ji=null,Yi=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Sa(t,n,a,!0),null!==(n=sl.current)){switch(n.tag){case 13:return null===il?Qc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ja?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),mu(e,r,a)),!1;case 22:return n.flags|=65536,r===Ja?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),mu(e,r,a)),!1}throw Error(s(435,n.tag))}return mu(e,r,a),Qc(),!1}if(la)return null!==(t=sl.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ua&&ya(Cr(e=Error(s(422),{cause:r}),n))):(r!==ua&&ya(Cr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Cr(r,n),cs(e,a=kl(e.stateNode,r,a)),4!==fc&&(fc=2)),!1;var i=Error(s(520),{cause:r});if(i=Cr(i,n),null===vc?vc=[i]:vc.push(i),4!==fc&&(fc=2),null===t)return!0;r=Cr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,cs(n,e=kl(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Cc&&Cc.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,Cl(a=Sl(a),e,n,r),cs(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,lc))return fc=1,Nl(e,Cr(n,e.current)),void(ic=null)}catch(i){if(null!==a)throw ic=a,i;return fc=1,Nl(e,Cr(n,e.current)),void(ic=null)}32768&t.flags?(la||1===r?e=!0:dc||536870912&lc?e=!1:(uc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=sl.current)&&13===r.tag&&(r.flags|=16384))),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=ao(t.alternate,t,mc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===fc&&(fc=5)}function ru(e,t){do{var n=so(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);fc=6,ic=null}function au(e,t,n,r,a,i,l,o,c){e.cancelPendingCommit=null;do{cu()}while(0!==Ec);if(6&ac)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-pe(n),d=1<<u;l[u]=0,o[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,i|=Pr,l,o,c),e===sc&&(ic=sc=null,lc=0),Pc=t,_c=e,Tc=n,Ac=i,Lc=a,Oc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Z(le,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=I.T,I.T=null,a=z.p,z.p=2,l=ac,ac|=4;try{!function(e,t){if(e=e.containerInfo,rd=ah,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(o=l+a),h!==i||0!==r&&3!==h.nodeType||(c=l+r),3===h.nodeType&&(l+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===a&&(o=l),m===i&&++d===r&&(c=l),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},ah=!1,So=t;null!==So;)if(e=(t=So).child,1024&t.subtreeFlags&&null!==e)e.return=t,So=e;else for(;null!==So;){switch(i=(t=So).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var p=yl(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(p,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){hu(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))yd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,So=e;break}So=t.return}}(e,t)}finally{ac=l,z.p=a,I.T=r}}Ec=1,su(),iu(),lu()}}function su(){if(1===Ec){Ec=0;var e=_c,t=Pc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=I.T,I.T=null;var r=z.p;z.p=2;var a=ac;ac|=4;try{Ro(t,e);var s=ad,i=nr(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&tr(l.ownerDocument.documentElement,l)){if(null!==o&&rr(l)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var d=l.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),f=l.textContent.length,p=Math.min(o.start,f),g=void 0===o.end?p:Math.min(o.end,f);!m.extend&&p>g&&(i=g,g=p,p=i);var y=er(l,p),x=er(l,g);if(y&&x&&(1!==m.rangeCount||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==x.node||m.focusOffset!==x.offset)){var b=d.createRange();b.setStart(y.node,y.offset),m.removeAllRanges(),p>g?(m.addRange(b),m.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),m.addRange(b))}}}}for(d=[],m=l;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<d.length;l++){var v=d[l];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}ah=!!rd,ad=rd=null}finally{ac=a,z.p=r,I.T=n}}e.current=t,Ec=2}}function iu(){if(2===Ec){Ec=0;var e=_c,t=Pc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=I.T,I.T=null;var r=z.p;z.p=2;var a=ac;ac|=4;try{Co(e,t.alternate,t)}finally{ac=a,z.p=r,I.T=n}}Ec=3}}function lu(){if(4===Ec||3===Ec){Ec=0,ne();var e=_c,t=Pc,n=Tc,r=Oc;10256&t.subtreeFlags||10256&t.flags?Ec=5:(Ec=0,Pc=_c=null,ou(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Cc=null),Ae(n),t=t.stateNode,me&&"function"==typeof me.onCommitFiberRoot)try{me.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(o){}if(null!==r){t=I.T,a=z.p,z.p=2,I.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var l=r[i];s(l.value,{componentStack:l.stack})}}finally{I.T=t,z.p=a}}3&Tc&&cu(),ku(e),a=e.pendingLanes,4194090&n&&42&a?e===zc?Ic++:(Ic=0,zc=e):Ic=0,Su(0)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ra(t)))}function cu(e){return su(),iu(),lu(),uu()}function uu(){if(5!==Ec)return!1;var e=_c,t=Ac;Ac=0;var n=Ae(Tc),r=I.T,a=z.p;try{z.p=32>n?32:n,I.T=null,n=Lc,Lc=null;var i=_c,l=Tc;if(Ec=0,Pc=_c=null,Tc=0,6&ac)throw Error(s(331));var o=ac;if(ac|=4,Zo(i.current),Vo(i,i.current,l,n),ac=o,Su(0,!1),me&&"function"==typeof me.onPostCommitFiberRoot)try{me.onPostCommitFiberRoot(he,i)}catch(c){}return!0}finally{z.p=a,I.T=r,ou(e,t)}}function du(e,t,n){t=Cr(n,t),null!==(e=ls(e,t=kl(e.stateNode,t,2),2))&&(Ee(e,2),ku(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Cr(n,e),null!==(r=ls(t,n=Sl(2),2))&&(Cl(n,r,t,e),Ee(r,2),ku(r));break}}t=t.return}}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(hc=!0,a.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(lc&n)===n&&(4===fc||3===fc&&(62914560&lc)===lc&&300>re()-jc?!(2&ac)&&Vc(e,0):yc|=n,bc===lc&&(bc=0)),ku(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Or(e,t))&&(Ee(e,t),ku(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function yu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pu(e,n)}var xu=null,bu=null,vu=!1,wu=!1,Nu=!1,ju=0;function ku(e){e!==bu&&null===e.next&&(null===bu?xu=bu=e:bu=bu.next=e),wu=!0,vu||(vu=!0,md(function(){6&ac?Z(se,Cu):Eu()}))}function Su(e,t){if(!Nu&&wu){Nu=!0;do{for(var n=!1,r=xu;null!==r;){if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,l=r.pingedLanes;s=(1<<31-pe(42|e)+1)-1,s=201326741&(s&=a&~(i&~l))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Tu(r,s))}else s=lc,!(3&(s=we(r,r===sc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ne(r,s)||(n=!0,Tu(r,s));r=r.next}}while(n);Nu=!1}}function Cu(){Eu()}function Eu(){wu=vu=!1;var e=0;0!==ju&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=ju),ju=0);for(var t=re(),n=null,r=xu;null!==r;){var a=r.next,s=_u(r,t);0===s?(r.next=null,null===n?xu=a:n.next=a,null===a&&(bu=n)):(n=r,(0!==e||3&s)&&(wu=!0)),r=a}Su(e)}function _u(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-pe(s),l=1<<i,o=a[i];-1===o?0!==(l&n)&&0===(l&r)||(a[i]=je(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(n=lc,n=we(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Ae(n)){case 2:case 8:n=ie;break;case 32:default:n=le;break;case 268435456:n=ce}return r=Pu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=lc;return 0===(r=we(e,e===sc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(qc(e,r,t),_u(e,re()),null!=e.callbackNode&&e.callbackNode===n?Pu.bind(null,e):null)}function Tu(e,t){if(cu())return null;qc(e,t,!0)}function Au(){return 0===ju&&(ju=ke()),ju}function Lu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:At(""+e)}function Ou(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Iu=0;Iu<jr.length;Iu++){var zu=jr[Iu];kr(zu.toLowerCase(),"on"+(zu[0].toUpperCase()+zu.slice(1)))}kr(pr,"onAnimationEnd"),kr(gr,"onAnimationIteration"),kr(yr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(xr,"onTransitionRun"),kr(br,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(wr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Bu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){xl(u)}a.currentTarget=null,s=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){xl(u)}a.currentTarget=null,s=o}}}}function qu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Mu]){e[Mu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mu]||(t[Mu]=!0,Fu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(dh(t)){case 2:var a=sh;break;case 8:a=ih;break;default:a=lh}n=a.bind(null,t,n,e),a=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,a){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Ue(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=s=i;continue e}o=o.parentNode}}r=r.return}Bt(function(){var r=s,a=Ot(n),i=[];e:{var o=Nr.get(e);if(void 0!==o){var c=tn,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case pr:case gr:case yr:c=cn;break;case wr:c=vn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=Nn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===m||null!=(g=qt(p,m))&&d.push(Vu(p,g,f)),h)break;p=p.return}0<d.length&&(o=new c(o,u,null,n,a),i.push({event:o,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Lt||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Re])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=xn,g="onPointerLeave",m="onPointerEnter",p="pointer"),h=null==c?o:Ve(c),f=null==u?o:Ve(u),(o=new d(g,p+"leave",c,n,a)).target=h,o.relatedTarget=f,g=null,Ue(a)===r&&((d=new d(m,p+"enter",u,n,a)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(m=u,p=0,f=d=c;f;f=Wu(f))p++;for(f=0,g=m;g;g=Wu(g))f++;for(;0<p-f;)d=Wu(d),p--;for(;0<f-p;)m=Wu(m),f--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Wu(d),m=Wu(m)}d=null}else d=null;null!==c&&Gu(i,o,c,d,!1),null!==u&&null!==h&&Gu(i,h,u,d,!0)}if("select"===(c=(o=r?Ve(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(In(o))if(Mn)y=Jn;else{y=Gn;var x=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(y=Fn):y=Qn;switch(y&&(y=y(e,r))?zn(i,y,n,a):(x&&x(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),x=r?Ve(r):window,e){case"focusin":(In(x)||"true"===x.contentEditable)&&(sr=x,ir=r,lr=null);break;case"focusout":lr=ir=sr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,cr(i,n,a);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":cr(i,n,a)}var b;if(kn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ln?Tn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(En&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ln&&(b=Kt()):(Ht="value"in(Ut=a)?Ut.value:Ut.textContent,Ln=!0)),0<(x=Ku(r,v)).length&&(v=new dn(v,e,null,n,a),i.push({event:v,listeners:x}),b?v.data=b:null!==(b=An(n))&&(v.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Pn=!0,_n);case"textInput":return(e=t.data)===_n&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!kn&&Tn(e,t)?(e=Kt(),Vt=Ht=Ut=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Ku(r,"onBeforeInput")).length&&(x=new dn("onBeforeInput","beforeinput",null,n,a),i.push({event:x,listeners:v}),x.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Lu((a[ze]||null).action),i=r.submitter;i&&null!==(t=(t=i[ze]||null)?Lu(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var l=new tn("action","action",null,r,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ju){var e=i?Ou(a,i):new FormData(a);Li(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"==typeof s&&(l.preventDefault(),e=i?Ou(a,i):new FormData(a),Li(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Bu(i,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ku(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=qt(e,n))&&r.unshift(Vu(e,a,s)),null!=(a=qt(e,t))&&r.push(Vu(e,a,s))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===r)break;5!==l&&26!==l&&27!==l||null===c||(o=c,a?null!=(c=qt(n,s))&&i.unshift(Vu(n,c,o)):a||null!=(c=qt(n,s))&&i.push(Vu(n,c,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qu=/\r\n?/g,Ju=/\u0000|\uFFFD/g;function Yu(e){return("string"==typeof e?e:""+e).replace(Qu,"\n").replace(Ju,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Zu(){}function ed(e,t,n,r,a,i){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":at(e,"class",r);break;case"tabIndex":at(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,r);break;case"style":Et(e,r,i);break;case"data":if("object"!==t){at(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"onScroll":null!=r&&qu("scroll",e);break;case"onScrollEnd":null!=r&&qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":qu("beforetoggle",e),qu("toggle",e),rt(e,"popover",r);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":rt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Pt.get(n)||n,r)}}function td(e,t,n,r,a,i){switch(n){case"style":Et(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof r?kt(e,r):("number"==typeof r||"bigint"==typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&qu("scroll",e);break;case"onScrollEnd":null!=r&&qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(i=null!=(i=e[ze]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):rt(e,n,r):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qu("error",e),qu("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ed(e,t,r,l,n,null)}}return i&&ed(e,t,"srcSet",n.srcSet,n,null),void(a&&ed(e,t,"src",n.src,n,null));case"input":qu("invalid",e);var o=r=l=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":i=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ed(e,t,a,d,n,null)}}return bt(e,r,o,c,u,l,i,!1),void mt(e);case"select":for(i in qu("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":r=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:ed(e,t,i,o,n,null)}return t=r,n=l,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=n&&wt(e,!!a,n,!0));case"textarea":for(l in qu("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":a=o;break;case"defaultValue":i=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:ed(e,t,l,o,n,null)}return jt(e,a,i,r),void mt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a;else ed(e,t,c,a,n,null);return;case"dialog":qu("beforetoggle",e),qu("toggle",e),qu("cancel",e),qu("close",e);break;case"iframe":case"object":qu("load",e);break;case"video":case"audio":for(a=0;a<Ru.length;a++)qu(Ru[a],e);break;case"image":qu("error",e),qu("load",e);break;case"details":qu("toggle",e);break;case"embed":case"source":case"link":qu("error",e),qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ed(e,t,u,a,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&td(e,t,d,a,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(a=n[o])&&ed(e,t,o,a,n,null))}var rd=null,ad=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ld(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,md="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(fd)}:ud;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var n=t,r=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&jd(i.documentElement),2&n&&jd(i.body),4&n)for(jd(n=i.head),i=n.firstChild;i;){var l=i.nextSibling,o=i.nodeName;i[Me]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}if(0===a)return e.removeChild(s),void Ph(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Ph(t)}function yd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yd(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function xd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Nd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function jd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var kd=new Map,Sd=new Set;function Cd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=z.d;z.d={f:function(){var e=Ed.f(),t=Uc();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Ii(t):Ed.r(e)},D:function(e){Ed.D(e),Pd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Pd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=_d;if(r&&e&&t){var a='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+yt(n.imageSizes)+'"]')):a+='[href="'+yt(e)+'"]';var s=a;switch(t){case"style":s=Ad(e);break;case"script":s=Id(e)}kd.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Ld(s))||"script"===t&&r.querySelector(zd(s))||(nd(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=_d;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Id(e)}if(!kd.has(s)&&(e=d({rel:"modulepreload",href:e},t),kd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zd(s)))return}nd(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=_d;if(n&&e){var r=Ke(n).hoistableScripts,a=Id(e),s=r.get(a);s||((s=n.querySelector(zd(a)))||(e=d({src:e,async:!0},t),(t=kd.get(a))&&qd(e,t),We(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Ed.S(e,t,n);var r=_d;if(r&&e){var a=Ke(r).hoistableStyles,s=Ad(e);t=t||"default";var i=a.get(s);if(!i){var l={loading:0,preload:null};if(i=r.querySelector(Ld(s)))l.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(s))&&Bd(e,n);var o=i=r.createElement("link");We(o),nd(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Dd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:l},a.set(s,i)}}},M:function(e,t){Ed.M(e,t);var n=_d;if(n&&e){var r=Ke(n).hoistableScripts,a=Id(e),s=r.get(a);s||((s=n.querySelector(zd(a)))||(e=d({src:e,async:!0,type:"module"},t),(t=kd.get(a))&&qd(e,t),We(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var _d="undefined"==typeof document?null:document;function Pd(e,t,n){var r=_d;if(r&&"string"==typeof t&&t){var a=yt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),Sd.has(a)||(Sd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(nd(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var a,i,l,o,c=(c=K.current)?Cd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ad(n.href),(r=(n=Ke(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ad(n.href);var u=Ke(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ld(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(a=c,i=e,l=n,o=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=a.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),nd(i,"link",l),We(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Id(n),(r=(n=Ke(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ad(e){return'href="'+yt(e)+'"'}function Ld(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Id(e){return'[src="'+yt(e)+'"]'}function zd(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var a=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),nd(r,"style",a),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Ad(n.href);var i=e.querySelector(Ld(a));if(i)return t.state.loading|=4,t.instance=i,We(i),i;r=Od(n),(a=kd.get(a))&&Bd(r,a),We(i=(e.ownerDocument||e).createElement("link"));var l=i;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),nd(i,"link",r),t.state.loading|=4,Dd(i,n.precedence,e),t.instance=i;case"script":return i=Id(n.src),(a=e.querySelector(zd(i)))?(t.instance=a,We(a),a):(r=n,(a=kd.get(i))&&qd(r=d({},n),a),We(a=(e=e.ownerDocument||e).createElement("script")),nd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var l=r[i];if(l.dataset.precedence===t)s=l;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function qd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Md(e,t,n){if(null===Fd){var r=new Map,a=Fd=new Map;a.set(n,r)}else(r=(a=Fd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Me]||s[Ie]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var l=r.get(i);l?l.push(s):r.set(i,[s])}}return r}function $d(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Hd=null;function Vd(){}function Kd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Qd,e),Wd=null,Kd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=Kd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Jd={$$typeof:v,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,n,r,a,s,i,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Xd(e,t,n,r,a,s,i,l,o,c,u,d){return e=new Yd(e,t,n,i,l,o,c,d),t=1,!0===s&&(t|=24),s=Br(3,null,null,t),e.current=s,s.stateNode=e,(t=za()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},as(s),e}function Zd(e){return e?e=Rr:Rr}function eh(e,t,n,r,a,s){a=Zd(a),null===r.context?r.context=a:r.pendingContext=a,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ls(e,r,t))&&(Bc(n,0,t),os(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Or(e,67108864);null!==t&&Bc(t,0,67108864),nh(e,67108864)}}var ah=!0;function sh(e,t,n,r){var a=I.T;I.T=null;var s=z.p;try{z.p=2,lh(e,t,n,r)}finally{z.p=s,I.T=a}}function ih(e,t,n,r){var a=I.T;I.T=null;var s=z.p;try{z.p=8,lh(e,t,n,r)}finally{z.p=s,I.T=a}}function lh(e,t,n,r){if(ah){var a=oh(r);if(null===a)Hu(e,t,r,ch,n),vh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return mh=wh(mh,e,t,n,r,a),!0;case"dragenter":return fh=wh(fh,e,t,n,r,a),!0;case"mouseover":return ph=wh(ph,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return gh.set(s,wh(gh.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,yh.set(s,wh(yh.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<bh.indexOf(e)){for(;null!==a;){var s=He(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ve(s.pendingLanes);if(0!==i){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-pe(i);l.entanglements[1]|=o,i&=~o}ku(s),!(6&ac)&&(kc=re()+500,Su(0))}}break;case 13:null!==(l=Or(s,2))&&Bc(l,0,2),Uc(),nh(s,2)}if(null===(s=oh(r))&&Hu(e,t,r,ch,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function oh(e){return uh(e=Ot(e))}var ch=null;function uh(e){if(ch=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case se:return 2;case ie:return 8;case le:case oe:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,mh=null,fh=null,ph=null,gh=new Map,yh=new Map,xh=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":mh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(t.pointerId)}}function wh(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=He(t))&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Nh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=Te(e);var t=Or(n,e);null!==t&&Bc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Lt=r,n.target.dispatchEvent(r),Lt=null,t.shift()}return!0}function kh(e,t,n){jh(e)&&n.delete(t)}function Sh(){hh=!1,null!==mh&&jh(mh)&&(mh=null),null!==fh&&jh(fh)&&(fh=null),null!==ph&&jh(ph)&&(ph=null),gh.forEach(kh),yh.forEach(kh)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,hh||(hh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Sh)))}var Eh=null;function _h(e){Eh!==e&&(Eh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var s=He(n);null!==s&&(e.splice(t,3),t-=3,Li(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Ph(e){function t(t){return Ch(t,e)}null!==mh&&Ch(mh,e),null!==fh&&Ch(fh,e),null!==ph&&Ch(ph,e),gh.forEach(t),yh.forEach(t);for(var n=0;n<xh.length;n++){var r=xh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xh.length&&null===(n=xh[0]).blockedOn;)Nh(n),null===n.blockedOn&&xh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[ze]||null;if("function"==typeof s)i||_h(n);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[ze]||null)l=i.formAction;else if(null!==uh(a))continue}else l=i.action;"function"==typeof l?n[r+1]=l:(n.splice(r,3),r-=3),_h(n)}}}function Th(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));eh(t.current,Rc(),e,t,null,null)},Ah.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),Uc(),t[Re]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xh.length&&0!==t&&t<xh[n].priority;n++);xh.splice(n,0,e),0===n&&Nh(e)}};var Lh=r.version;if("19.1.0"!==Lh)throw Error(s(527,Lh,"19.1.0"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return c(a),e;if(i===r)return c(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Oh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{he=Ih.inject(Oh),me=Ih}catch(Rh){}}return D.createRoot=function(e,t){if(!i(e))throw Error(s(299));var n=!1,r="",a=bl,l=vl,o=wl;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,a,l,o,0,null),e[Re]=t.current,$u(e),new Th(t)},D.hydrateRoot=function(e,t,n){if(!i(e))throw Error(s(299));var r=!1,a="",l=bl,o=vl,c=wl,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,a,l,o,c,0,u)).context=Zd(null),n=t.current,(a=is(r=Te(r=Rc()))).callback=null,ls(n,a,r),n=r,t.current.lanes=n,Ee(t,n),ku(t),e[Re]=t.current,$u(e),new Ah(t)},D.version="19.1.0",D}var $=(I||(I=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),R.exports=M()),R.exports);const U=n.createContext(),H=()=>{const e=n.useContext(U);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},V=({children:e})=>{const[t,r]=n.useState(null),[a,s]=n.useState(localStorage.getItem("token")),[i,l]=n.useState(!0),o="http://localhost:3000/api";n.useEffect(()=>{(async()=>{if(a)try{const e=await fetch(`${o}/auth/me`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(e.ok){const t=await e.json();r(t.data.user)}else localStorage.removeItem("token"),s(null)}catch(e){localStorage.removeItem("token"),s(null)}l(!1)})()},[a]);const c={user:t,token:a,loading:i,login:async e=>{try{const t=await fetch(`${o}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.error||"Login failed");const{user:a,token:i}=n.data;return r(a),s(i),localStorage.setItem("token",i),{success:!0,user:a}}catch(t){throw t}},register:async e=>{try{const t=await fetch(`${o}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.error||"Registration failed");const{user:a,token:i}=n.data;return r(a),s(i),localStorage.setItem("token",i),{success:!0,user:a}}catch(t){throw t}},logout:()=>{r(null),s(null),localStorage.removeItem("token")},updateUser:e=>{r(e)},isAuthenticated:!!t};return z.jsx(U.Provider,{value:c,children:e})},K=Object.create(null);K.open="0",K.close="1",K.ping="2",K.pong="3",K.message="4",K.upgrade="5",K.noop="6";const W=Object.create(null);Object.keys(K).forEach(e=>{W[K[e]]=e});const G={type:"error",data:"parser error"},Q="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),J="function"==typeof ArrayBuffer,Y=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,X=({type:e,data:t},n,r)=>Q&&t instanceof Blob?n?r(t):Z(t,r):J&&(t instanceof ArrayBuffer||Y(t))?n?r(t):Z(new Blob([t]),r):r(K[e]+(t||"")),Z=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function ee(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let te;const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let kn=0;kn<64;kn++)re[ne.charCodeAt(kn)]=kn;const ae="function"==typeof ArrayBuffer,se=(e,t)=>{if("string"!=typeof e)return{type:"message",data:le(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:ie(e.substring(1),t)};return W[n]?e.length>1?{type:W[n],data:e.substring(1)}:{type:W[n]}:G},ie=(e,t)=>{if(ae){const n=(e=>{let t,n,r,a,s,i=.75*e.length,l=e.length,o=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),u=new Uint8Array(c);for(t=0;t<l;t+=4)n=re[e.charCodeAt(t)],r=re[e.charCodeAt(t+1)],a=re[e.charCodeAt(t+2)],s=re[e.charCodeAt(t+3)],u[o++]=n<<2|r>>4,u[o++]=(15&r)<<4|a>>2,u[o++]=(3&a)<<6|63&s;return c})(e);return le(n,t)}return{base64:!0,data:e}},le=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,oe=String.fromCharCode(30);function ce(){return new TransformStream({transform(e,t){!function(e,t){Q&&e.data instanceof Blob?e.data.arrayBuffer().then(ee).then(t):J&&(e.data instanceof ArrayBuffer||Y(e.data))?t(ee(e.data)):X(e,!1,e=>{te||(te=new TextEncoder),t(te.encode(e))})}(e,n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!=typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let ue;function de(e){return e.reduce((e,t)=>e+t.length,0)}function he(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function me(e){if(e)return function(e){for(var t in me.prototype)e[t]=me.prototype[t];return e}(e)}me.prototype.on=me.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},me.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},me.prototype.off=me.prototype.removeListener=me.prototype.removeAllListeners=me.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},me.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},me.prototype.emitReserved=me.prototype.emit,me.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},me.prototype.hasListeners=function(e){return!!this.listeners(e).length};const fe="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),pe="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function ge(e,...t){return t.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const ye=pe.setTimeout,xe=pe.clearTimeout;function be(e,t){t.useNativeTimers?(e.setTimeoutFn=ye.bind(pe),e.clearTimeoutFn=xe.bind(pe)):(e.setTimeoutFn=pe.setTimeout.bind(pe),e.clearTimeoutFn=pe.clearTimeout.bind(pe))}function ve(e){return"string"==typeof e?function(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function we(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ne extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class je extends me{constructor(e){super(),this.writable=!1,be(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Ne(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=se(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class ke extends je{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(oe),r=[];for(let a=0;a<n.length;a++){const e=se(n[a],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach((e,s)=>{X(e,!1,e=>{r[s]=e,++a===n&&t(r.join(oe))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=we()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Se=!1;try{Se="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(jn){}const Ce=Se;function Ee(){}class _e extends ke{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Pe extends me{constructor(e,t,n){super(),this.createRequest=e,be(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=ge(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},n.send(this._data)}catch(r){return void this.setTimeoutFn(()=>{this._onError(r)},0)}"undefined"!=typeof document&&(this._index=Pe.requestsCount++,Pe.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Ee,e)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete Pe.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Pe.requestsCount=0,Pe.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Te);else if("function"==typeof addEventListener){addEventListener("onpagehide"in pe?"pagehide":"unload",Te,!1)}function Te(){for(let e in Pe.requests)Pe.requests.hasOwnProperty(e)&&Pe.requests[e].abort()}const Ae=function(){const e=Le({xdomain:!1});return e&&null!==e.responseType}();function Le(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Ce))return new XMLHttpRequest}catch(n){}if(!t)try{return new(pe[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const Oe="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Ie extends je{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Oe?{}:ge(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(jn){return this.emitReserved("error",jn)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;X(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(t){}r&&fe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=we()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const ze=pe.WebSocket||pe.MozWebSocket;const Re={websocket:class extends Ie{createSocket(e,t,n){return Oe?new ze(e,t,n):t?new ze(e,t):new ze(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends je{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(jn){return this.emitReserved("error",jn)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){ue||(ue=new TextDecoder);const n=[];let r=0,a=-1,s=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(0===r){if(de(n)<1)break;const e=he(n,1);s=!(128&~e[0]),a=127&e[0],r=a<126?3:126===a?1:2}else if(1===r){if(de(n)<2)break;const e=he(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(de(n)<8)break;const e=he(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){l.enqueue(G);break}a=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(de(n)<a)break;const e=he(n,a);l.enqueue(se(s?e:ue.decode(e),t)),r=0}if(0===a||a>e){l.enqueue(G);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=ce();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const a=()=>{n.read().then(({done:e,value:t})=>{e||(this.onPacket(t),a())}).catch(e=>{})};a();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&fe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends _e{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Ae&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Pe(Le,this.uri(),e)}}},De=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Be=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function qe(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=De.exec(e||""),s={},i=14;for(;i--;)s[Be[i]]=a[i]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,s.query),s}const Fe="function"==typeof addEventListener&&"function"==typeof removeEventListener,Me=[];Fe&&addEventListener("offline",()=>{Me.forEach(e=>e())},!1);class $e extends me{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const n=qe(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=qe(t.host).host);be(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Fe&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Me.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&$e.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",$e.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=ve(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,fe(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if($e.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Fe&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Me.indexOf(this._offlineEventListener);-1!==e&&Me.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}$e.protocol=4;class Ue extends $e{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;$e.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;$e.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function a(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,a(),this.emitReserved("upgradeError",n)};function i(){s("transport closed")}function l(){s("socket closed")}function o(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",i),this.off("close",l),this.off("upgrading",o)};t.once("open",r),t.once("error",s),t.once("close",i),this.once("close",l),this.once("upgrading",o),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let He=class extends Ue{constructor(e,t={}){const n="object"==typeof e?e:t;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(e=>Re[e]).filter(e=>!!e)),super(e,n)}};const Ve="function"==typeof ArrayBuffer,Ke=Object.prototype.toString,We="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Ke.call(Blob),Ge="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Ke.call(File);function Qe(e){return Ve&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||We&&e instanceof Blob||Ge&&e instanceof File}function Je(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Je(e[t]))return!0;return!1}if(Qe(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Je(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Je(e[n]))return!0;return!1}function Ye(e){const t=[],n=e.data,r=e;return r.data=Xe(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Xe(e,t){if(!e)return e;if(Qe(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Xe(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Xe(e[r],t));return n}return e}function Ze(e,t){return e.data=et(e.data,t),delete e.attachments,e}function et(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=et(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=et(e[n],t));return e}const tt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var nt,rt;(rt=nt||(nt={}))[rt.CONNECT=0]="CONNECT",rt[rt.DISCONNECT=1]="DISCONNECT",rt[rt.EVENT=2]="EVENT",rt[rt.ACK=3]="ACK",rt[rt.CONNECT_ERROR=4]="CONNECT_ERROR",rt[rt.BINARY_EVENT=5]="BINARY_EVENT",rt[rt.BINARY_ACK=6]="BINARY_ACK";function at(e){return"[object Object]"===Object.prototype.toString.call(e)}class st extends me{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===nt.BINARY_EVENT;n||t.type===nt.BINARY_ACK?(t.type=n?nt.EVENT:nt.ACK,this.reconstructor=new it(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Qe(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===nt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===nt.BINARY_EVENT||n.type===nt.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!st.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case nt.CONNECT:return at(t);case nt.DISCONNECT:return void 0===t;case nt.CONNECT_ERROR:return"string"==typeof t||at(t);case nt.EVENT:case nt.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===tt.indexOf(t[0]));case nt.ACK:case nt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class it{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Ze(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const lt=Object.freeze(Object.defineProperty({__proto__:null,Decoder:st,Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==nt.EVENT&&e.type!==nt.ACK||!Je(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===nt.EVENT?nt.BINARY_EVENT:nt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==nt.BINARY_EVENT&&e.type!==nt.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ye(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}},get PacketType(){return nt},protocol:5},Symbol.toStringTag,{value:"Module"}));function ot(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const ct=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ut extends me{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ot(e,"open",this.onopen.bind(this)),ot(e,"packet",this.onpacket.bind(this)),ot(e,"error",this.onerror.bind(this)),ot(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,r,a;if(ct.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const s={type:nt.EVENT,data:t,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,n=t.pop();this._registerAckCallback(e,n),s.id=e}const i=null===(r=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===r?void 0:r.writable,l=this.connected&&!(null===(a=this.io.engine)||void 0===a?void 0:a._hasPingExpired());return this.flags.volatile&&!i||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},r),s=(...e)=>{this.io.clearTimeoutFn(a),t.apply(this,e)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((n,r)=>{const a=(e,t)=>e?r(e):n(t);a.withError=!0,t.push(a),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...r)=>{if(n!==this._queue[0])return;return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case nt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case nt.EVENT:case nt.BINARY_EVENT:this.onevent(e);break;case nt.ACK:case nt.BINARY_ACK:this.onack(e);break;case nt.DISCONNECT:this.ondisconnect();break;case nt.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:nt.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function dt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}dt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},dt.prototype.reset=function(){this.attempts=0},dt.prototype.setMin=function(e){this.ms=e},dt.prototype.setMax=function(e){this.max=e},dt.prototype.setJitter=function(e){this.jitter=e};class ht extends me{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,be(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new dt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||lt;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new He(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=ot(t,"open",function(){n.onopen(),e&&e()}),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=ot(t,"error",a);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),a(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ot(e,"ping",this.onping.bind(this)),ot(e,"data",this.ondata.bind(this)),ot(e,"error",this.onerror.bind(this)),ot(e,"close",this.onclose.bind(this)),ot(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){fe(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new ut(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const mt={};function ft(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=qe(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,a=n.id,s=n.path,i=mt[a]&&s in mt[a].nsps;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?l=new ht(r,t):(mt[a]||(mt[a]=new ht(r,t)),l=mt[a]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(ft,{Manager:ht,Socket:ut,io:ft,connect:ft});const pt=n.createContext(),gt=()=>{const e=n.useContext(pt);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},yt=({children:e})=>{const{user:t,token:r}=H(),[a,s]=n.useState(null),[i,l]=n.useState(!1),[o,c]=n.useState([]),[u,d]=n.useState({}),h=n.useRef(null);n.useEffect(()=>{if(!t||!r)return void(h.current&&(h.current.disconnect(),s(null),l(!1)));const e=ft("https://shelter-surfing-production.up.railway.app",{auth:{token:r},transports:["websocket","polling"]});return h.current=e,s(e),e.on("connect",()=>{l(!0)}),e.on("disconnect",()=>{l(!1)}),e.on("connect_error",e=>{l(!1)}),e.on("new_message",e=>{c(t=>[...t,{id:Date.now(),type:"new_message",message:`New message from ${e.sender.name}`,data:e,timestamp:new Date}])}),e.on("notification",e=>{c(t=>[...t,{id:Date.now(),...e,timestamp:new Date}])}),e.on("connection_request",e=>{c(t=>[...t,{id:Date.now(),type:"connection_request",message:`Connection request from ${e.requester.name}`,data:e,timestamp:new Date}])}),e.on("connection_update",e=>{c(t=>[...t,{id:Date.now(),type:"connection_update",message:"connection_approved"===e.type?`Connection approved by ${e.approvedBy.name}`:`Connection rejected by ${e.rejectedBy.name}`,data:e,timestamp:new Date}])}),e.on("user_typing",e=>{d(t=>({...t,[e.conversationId]:e.userId}))}),e.on("user_stop_typing",e=>{d(t=>{const n={...t};return n[e.conversationId]===e.userId&&delete n[e.conversationId],n})}),()=>{e.disconnect()}},[t,r]);const m={socket:a,isConnected:i,notifications:o,typingUsers:u,joinConversation:e=>{a&&i&&a.emit("join_conversation",e)},leaveConversation:e=>{a&&i&&a.emit("leave_conversation",e)},sendTyping:(e,t)=>{a&&i&&a.emit("typing",{recipientId:e,conversationId:t})},sendStopTyping:(e,t)=>{a&&i&&a.emit("stop_typing",{recipientId:e,conversationId:t})},clearNotification:e=>{c(t=>t.filter(t=>t.id!==e))},clearAllNotifications:()=>{c([])}};return z.jsx(pt.Provider,{value:m,children:e})},xt="https://shelter-surfing-production.up.railway.app",bt=()=>{const{token:e}=H(),{notifications:t}=gt(),[r,a]=n.useState(0),[s,i]=n.useState(0),[l,o]=n.useState(!0),c=async()=>{if(e)try{const t=await fetch(`${xt}/api/messages/unread/count`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();a(e.data.unreadCount)}}catch(t){}},u=async()=>{var t;if(e)try{const n=await fetch(`${xt}/api/connections/requests`,{headers:{Authorization:`Bearer ${e}`}});if(n.ok){const e=await n.json();i((null==(t=e.connections)?void 0:t.length)||0)}}catch(n){}},d=async()=>{o(!0),await Promise.all([c(),u()]),o(!1)};return n.useEffect(()=>{d()},[e]),n.useEffect(()=>{const e=t.some(e=>"new_message"===e.type),n=t.some(e=>["connection_request","connection_accepted"].includes(e.type));e&&c(),n&&u()},[t]),{unreadCount:r,connectionRequestsCount:s,isLoading:l,refreshCounts:d}},vt=({count:e,className:t=""})=>e&&0!==e?z.jsx("span",{className:`\n      absolute -top-1 -right-1 \n      inline-flex items-center justify-center \n      px-1.5 py-0.5 \n      text-xs font-bold \n      text-white \n      bg-red-500 \n      rounded-full \n      min-w-[18px] \n      h-[18px]\n      ${t}\n    `,children:e>99?"99+":e}):null,wt=()=>{var e,t;const{user:i,isAuthenticated:l,logout:o}=H(),{unreadCount:c,connectionRequestsCount:u}=bt(),d=r(),h=a(),[m,f]=n.useState(!1),[p,g]=n.useState(!1),y=()=>{o(),d("/"),f(!1),g(!1)},x=e=>h.pathname===e,b=()=>{f(!1),g(!1)};return z.jsxs("nav",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:[z.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"flex justify-between h-16",children:[z.jsx("div",{className:"flex-shrink-0 flex items-center",children:z.jsxs(s,{to:"/",className:"flex items-center",onClick:b,children:[z.jsx("span",{className:"text-2xl sm:text-3xl mr-2",children:"🏠"}),z.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Shelter Surfing"})]})}),z.jsx("div",{className:"hidden md:flex md:items-center md:space-x-4",children:l?z.jsxs(z.Fragment,{children:[z.jsx(s,{to:"/dashboard",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium "+(x("/dashboard")?"bg-gray-100":""),children:"Dashboard"}),z.jsx(s,{to:"/matches",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium "+(x("/matches")?"bg-gray-100":""),children:"Matches"}),z.jsxs(s,{to:"/messages",className:"relative text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium "+(x("/messages")?"bg-gray-100":""),children:["Messages",z.jsx(vt,{count:c})]}),z.jsxs(s,{to:"/connections/requests",className:"relative text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium "+(x("/connections/requests")?"bg-gray-100":""),children:["Connections",z.jsx(vt,{count:u})]}),"HOST"===(null==i?void 0:i.role)?z.jsx(s,{to:"/shelter/new",className:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Offer Shelter"}):z.jsx(s,{to:"/request/new",className:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Request Shelter"}),z.jsxs("div",{className:"relative",children:[z.jsx("button",{onClick:()=>{g(!p),f(!1)},className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium focus:outline-none",children:z.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-blue-600 font-semibold",children:null==(e=null==i?void 0:i.name)?void 0:e.charAt(0).toUpperCase()})})}),p&&z.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5",children:[z.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-100",children:[z.jsx("p",{className:"font-medium",children:null==i?void 0:i.name}),z.jsx("p",{className:"text-xs text-gray-500",children:null==i?void 0:i.role})]}),z.jsx(s,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>g(!1),children:"Profile Settings"}),z.jsx("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Sign Out"})]})]})]}):z.jsxs(z.Fragment,{children:[z.jsx(s,{to:"/login",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",children:"Sign In"}),z.jsx(s,{to:"/register",className:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sign Up"})]})}),z.jsx("div",{className:"md:hidden flex items-center",children:l&&z.jsxs("button",{onClick:()=>{f(!m),g(!1)},className:"inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-100 focus:outline-none",children:[z.jsx("span",{className:"sr-only",children:"Open main menu"}),m?z.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):z.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),m&&l&&z.jsx("div",{className:"md:hidden bg-white border-t border-gray-100",children:z.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[z.jsx("div",{className:"px-3 py-2 border-b border-gray-100 mb-2",children:z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-blue-600 font-semibold text-lg",children:null==(t=null==i?void 0:i.name)?void 0:t.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-sm font-medium text-gray-900",children:null==i?void 0:i.name}),z.jsx("p",{className:"text-xs text-gray-500",children:null==i?void 0:i.role})]})]})}),z.jsx(s,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 "+(x("/dashboard")?"bg-gray-100":""),onClick:b,children:"Dashboard"}),z.jsx(s,{to:"/matches",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 "+(x("/matches")?"bg-gray-100":""),onClick:b,children:"Matches"}),z.jsx(s,{to:"/messages",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 "+(x("/messages")?"bg-gray-100":""),onClick:b,children:z.jsxs("div",{className:"flex justify-between items-center",children:[z.jsx("span",{children:"Messages"}),c>0&&z.jsx("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs font-medium",children:c})]})}),z.jsx(s,{to:"/connections/requests",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 "+(x("/connections/requests")?"bg-gray-100":""),onClick:b,children:z.jsxs("div",{className:"flex justify-between items-center",children:[z.jsx("span",{children:"Connection Requests"}),u>0&&z.jsx("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs font-medium",children:u})]})}),"HOST"===(null==i?void 0:i.role)?z.jsx(s,{to:"/shelter/new",className:"block px-3 py-2 text-base font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",onClick:b,children:"Offer Shelter"}):z.jsx(s,{to:"/request/new",className:"block px-3 py-2 text-base font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",onClick:b,children:"Request Shelter"}),z.jsxs("div",{className:"border-t border-gray-100 pt-2 mt-2",children:[z.jsx(s,{to:"/profile",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50",onClick:b,children:"Profile Settings"}),z.jsx("button",{onClick:y,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-600 hover:bg-gray-50",children:"Sign Out"})]})]})})]})},Nt=()=>{const{notifications:e,clearNotification:t}=gt(),[r,a]=n.useState([]);n.useEffect(()=>{const n=e.filter(e=>!r.find(t=>t.id===e.id));n.length>0&&(a(e=>[...e,...n]),n.forEach(e=>{setTimeout(()=>{a(t=>t.filter(t=>t.id!==e.id)),t(e.id)},5e3)}))},[e,r,t]);const s=e=>{switch(e){case"new_message":return"💬";case"connection_request":return"👋";case"connection_update":return"✅";default:return"🔔"}},i=e=>{switch(e){case"new_message":return"bg-blue-500";case"connection_request":return"bg-green-500";case"connection_update":return"bg-purple-500";default:return"bg-gray-500"}};return 0===r.length?null:z.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(e=>z.jsx("div",{className:`${i(e.type)} text-white px-4 py-3 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 ease-in-out`,children:z.jsxs("div",{className:"flex items-start space-x-3",children:[z.jsx("div",{className:"flex-shrink-0 text-lg",children:s(e.type)}),z.jsxs("div",{className:"flex-1 min-w-0",children:[z.jsx("p",{className:"text-sm font-medium",children:e.message}),z.jsx("p",{className:"text-xs opacity-75 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]}),z.jsx("button",{onClick:()=>{return n=e.id,a(e=>e.filter(e=>e.id!==n)),void t(n);var n},className:"flex-shrink-0 text-white hover:text-gray-200 transition-colors",children:z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},e.id))})},jt=({children:e,requiredRole:t=null})=>{const{user:n,isAuthenticated:r,loading:s}=H(),l=a();return s?z.jsx("div",{className:"min-h-screen flex items-center justify-center",children:z.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):r?t&&n.role!==t?z.jsx("div",{className:"min-h-screen flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),z.jsx("button",{onClick:()=>window.history.back(),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Go Back"})]})}):e:z.jsx(i,{to:"/login",state:{from:l},replace:!0})},kt=(e,t,n)=>{if(e&&"reportValidity"in e){const r=d(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},St=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?kt(r.ref,n,e):r&&r.refs&&r.refs.forEach(t=>kt(t,n,e))}},Ct=(e,t)=>{t.shouldUseNativeValidation&&St(e,t);const n={};for(const r in e){const a=d(t.fields,r),s=Object.assign(e[r]||{},{ref:a&&a.ref});if(Et(t.names||Object.keys(e),r)){const e=Object.assign({},d(n,r));h(e,"root",s),h(n,r,e)}else h(n,r,s)}return n},Et=(e,t)=>{const n=_t(t);return e.some(e=>_t(e).match(`^${n}\\.\\d+`))};function _t(e){return e.replace(/\]|\[/g,"")}function Pt(e,t,n){return void 0===n&&(n={}),function(r,a,s){try{return Promise.resolve(function(i,l){try{var o=(null!=t&&t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:a}))).then(function(e){return s.shouldUseNativeValidation&&St({},s),{values:n.raw?Object.assign({},r):e,errors:{}}}))}catch(c){return l(c)}return o&&o.then?o.then(void 0,l):o}(0,function(e){if(!e.inner)throw e;return{values:{},errors:Ct((t=e,n=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(t.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,a=r&&r[t.type];e[t.path]=m(t.path,n,e,t.type,a?[].concat(a,t.message):t.message)}return e},{})),s)};var t,n}))}catch(i){return Promise.reject(i)}}}const Tt=({label:e,name:t,type:n="text",placeholder:r,value:a,onChange:s,error:i,required:l=!1,disabled:o=!1,className:c="",...u})=>z.jsxs("div",{className:c,children:[e&&z.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",l&&z.jsx("span",{className:"text-red-500",children:"*"})]}),z.jsx("input",{id:t,name:t,type:n,value:a,onChange:s,placeholder:r,disabled:o,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i?"border-red-500":"border-gray-300"} ${o?"bg-gray-50 cursor-not-allowed":""}`,...u}),i&&z.jsx("p",{className:"mt-1 text-sm text-red-600",children:i})]}),At=({children:e,type:t="button",variant:n="primary",size:r="medium",disabled:a=!1,loading:s=!1,fullWidth:i=!1,className:l="",onClick:o,...c})=>{const u=["inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[n],{small:"px-3 py-1.5 text-sm",medium:"px-4 py-2 text-sm",large:"px-6 py-3 text-base"}[r],a||s?"opacity-50 cursor-not-allowed":"",i?"w-full":"",s?"cursor-not-allowed":"",l].filter(Boolean).join(" ");return z.jsxs("button",{type:t,disabled:a||s,onClick:o,className:u,...c,children:[s&&z.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),e]})},Lt=f({email:p().email("Invalid email format").required("Email is required"),password:p().min(6,"Password must be at least 6 characters").required("Password is required")}).required(),Ot=()=>{var e,t,i,l;const{login:o}=H(),c=r(),u=a(),[d,h]=n.useState(!1),[m,f]=n.useState(""),p=(null==(t=null==(e=u.state)?void 0:e.from)?void 0:t.pathname)||"/dashboard",{register:y,handleSubmit:x,formState:{errors:b}}=g({resolver:Pt(Lt)});return z.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[z.jsx("div",{className:"flex justify-center",children:z.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-3xl",children:"🏠"})})}),z.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome back"}),z.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your Shelter Surfing account"}),z.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",z.jsx(s,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up here"})]})]}),z.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:z.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[m&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:m}),z.jsxs("form",{onSubmit:x(async e=>{h(!0),f("");try{await o(e),c(p,{replace:!0})}catch(t){f(t.message)}finally{h(!1)}}),className:"space-y-6",children:[z.jsx(Tt,{label:"Email Address",name:"email",type:"email",placeholder:"Enter your email",...y("email"),error:null==(i=b.email)?void 0:i.message,autoComplete:"email",disabled:d}),z.jsx(Tt,{label:"Password",name:"password",type:"password",placeholder:"Enter your password",...y("password"),error:null==(l=b.password)?void 0:l.message,autoComplete:"current-password",disabled:d}),z.jsx(At,{type:"submit",loading:d,fullWidth:!0,variant:"primary",children:"Sign in"})]}),z.jsxs("div",{className:"mt-6",children:[z.jsxs("div",{className:"relative",children:[z.jsx("div",{className:"absolute inset-0 flex items-center",children:z.jsx("div",{className:"w-full border-t border-gray-300"})}),z.jsx("div",{className:"relative flex justify-center text-sm",children:z.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Demo Account"})})]}),z.jsxs("div",{className:"mt-4 bg-gray-50 rounded-md p-4",children:[z.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Try signing in with these demo credentials:"}),z.jsxs("div",{className:"text-xs font-mono text-gray-700 space-y-1",children:[z.jsxs("div",{children:[z.jsx("strong",{children:"Email:"})," demo@example.com"]}),z.jsxs("div",{children:[z.jsx("strong",{children:"Password:"})," password123"]})]})]})]})]})})]})},It=({label:e,name:t,value:n,onChange:r,options:a=[],placeholder:s="Select an option",error:i,required:l=!1,disabled:o=!1,className:c="",...u})=>z.jsxs("div",{className:c,children:[e&&z.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",l&&z.jsx("span",{className:"text-red-500",children:"*"})]}),z.jsxs("select",{id:t,name:t,value:n,onChange:r,disabled:o,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i?"border-red-500":"border-gray-300"} ${o?"bg-gray-50 cursor-not-allowed":""}`,...u,children:[z.jsx("option",{value:"",disabled:!0,children:s}),a.map(e=>z.jsx("option",{value:e.value,children:e.label},e.value))]}),i&&z.jsx("p",{className:"mt-1 text-sm text-red-600",children:i})]}),zt=f({name:p().min(2,"Name must be at least 2 characters").required("Name is required"),email:p().email("Invalid email format").required("Email is required"),password:p().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:p().oneOf([y("password"),null],"Passwords must match").required("Please confirm your password"),locationInput:p().required("Location is required"),role:p().oneOf(["HOST","SEEKER"],"Please select a valid role").required("Role is required")}).required(),Rt=()=>{var e,t,a,i,l,o;const{register:c}=H(),u=r(),[d,h]=n.useState(!1),[m,f]=n.useState(""),{register:p,handleSubmit:y,formState:{errors:x},watch:b,setValue:v}=g({resolver:Pt(zt),defaultValues:{role:"SEEKER"}});b("role");return z.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[z.jsx("div",{className:"flex justify-center",children:z.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-3xl",children:"🏠"})})}),z.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Join Shelter Surfing"}),z.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Create your account to get started"}),z.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",z.jsx(s,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in here"})]})]}),z.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:z.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[m&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:m}),z.jsxs("form",{onSubmit:y(async e=>{h(!0),f("");try{await c(e),u("/dashboard")}catch(t){f(t.message)}finally{h(!1)}}),className:"space-y-6",children:[z.jsx(Tt,{label:"Full Name",name:"name",type:"text",placeholder:"Enter your full name",...p("name"),error:null==(e=x.name)?void 0:e.message,disabled:d}),z.jsx(Tt,{label:"Email Address",name:"email",type:"email",placeholder:"Enter your email",...p("email"),error:null==(t=x.email)?void 0:t.message,disabled:d}),z.jsx(Tt,{label:"Password",name:"password",type:"password",placeholder:"Create a password",...p("password"),error:null==(a=x.password)?void 0:a.message,disabled:d}),z.jsx(Tt,{label:"Confirm Password",name:"confirmPassword",type:"password",placeholder:"Confirm your password",...p("confirmPassword"),error:null==(i=x.confirmPassword)?void 0:i.message,disabled:d}),z.jsx(Tt,{label:"Location",name:"locationInput",type:"text",placeholder:"Enter your city, state, or area",...p("locationInput"),error:null==(l=x.locationInput)?void 0:l.message,disabled:d}),z.jsx(It,{label:"Account Type",name:"role",value:b("role"),onChange:e=>v("role",e.target.value),options:[{value:"SEEKER",label:"Seeker (I need shelter)"},{value:"HOST",label:"Host (I can offer shelter)"}],error:null==(o=x.role)?void 0:o.message,disabled:d,required:!0}),z.jsx(At,{type:"submit",loading:d,fullWidth:!0,variant:"primary",children:"Create Account"})]}),z.jsx("div",{className:"mt-6 text-center",children:z.jsxs("p",{className:"text-xs text-gray-500",children:["By creating an account, you agree to our"," ",z.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Terms of Service"})," ","and"," ",z.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})})]})})]})},Dt="https://shelter-surfing-production.up.railway.app",Bt=e=>{const{token:t}=H(),[r,a]=n.useState({}),[s,i]=n.useState(!0),[l,o]=n.useState(null),c=n.useCallback(async()=>{if(t){i(!0);try{const e=await fetch(`${Dt}/api/connections/status`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch connection statuses");const n=await e.json();a(n.data.statuses||{})}catch(jn){o(jn.message)}finally{i(!1)}}else i(!1)},[t]),u=n.useCallback(async e=>{if(e&&t){i(!0);try{const n=await fetch(`${Dt}/api/connections/check/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("Failed to check connection status");const r=await n.json();a(t=>({...t,[e]:{connected:r.connected,status:r.status,connectionId:r.connectionId}}))}catch(jn){o(jn.message)}finally{i(!1)}}else i(!1)},[t]);n.useEffect(()=>{e?u(e):c()},[e,t,u,c]);const d=n.useCallback(()=>{e?u(e):c()},[e,u,c]),h=e&&r[e]||{};return{connected:h.connected,status:h.status,connectionId:h.connectionId,connectionStatus:r,isLoading:s,error:l,refreshConnection:d}},qt=({isOpen:e,onClose:t,recipientId:r,recipientName:a,onSuccess:s})=>{const{token:i}=H(),[l,o]=n.useState(""),[c,u]=n.useState(!1),[d,h]=n.useState("");return e?z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:z.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Request Connection"}),z.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),z.jsxs("p",{className:"text-gray-600 mb-4",children:["Send a connection request to ",z.jsx("span",{className:"font-medium",children:a})," to start messaging."]}),z.jsxs("form",{onSubmit:async e=>{e.preventDefault(),u(!0),h("");try{const e=await fetch("http://localhost:3000/api/connections",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({recipientId:r,message:l.trim()||null})}),n=await e.json();if(!e.ok)throw new Error(n.error||"Failed to send connection request");s&&s(n.connection),t(),o("")}catch(n){h(n.message)}finally{u(!1)}},className:"space-y-4",children:[d&&z.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:d}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),z.jsx("textarea",{value:l,onChange:e=>o(e.target.value),placeholder:"Introduce yourself and explain why you'd like to connect...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:3,maxLength:500}),z.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length,"/500 characters"]})]}),z.jsxs("div",{className:"flex gap-3 pt-2",children:[z.jsx(At,{type:"submit",isLoading:c,className:"flex-1",children:"Send Request"}),z.jsx(At,{type:"button",variant:"secondary",onClick:t,className:"flex-1",children:"Cancel"})]})]})]})}):null},Ft=({shelter:e,showActions:t=!0,showDistance:a=!1,showRequestInfo:s=!1,onEdit:i,onDelete:l,onContact:o,onViewDetails:c})=>{var u,d,h,m,f,p,g,y;const x=r(),{user:b}=H(),[v,w]=n.useState(!1),N=(null==b?void 0:b.id)===(null==(u=e.host)?void 0:u.id),{connected:j,status:k,isLoading:S,refreshConnection:C}=Bt(N?null:null==(d=e.host)?void 0:d.id),E=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=()=>{c?c(e):x(`/shelter/${e.id}`)};return z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-200 hover:shadow-xl transition-all duration-300",children:[(e.image1||e.image2)&&z.jsx("div",{className:"mb-4",children:z.jsxs("div",{className:"flex space-x-2 overflow-x-auto",children:[e.image1&&z.jsx("div",{className:"flex-shrink-0 w-32 h-24 rounded-lg overflow-hidden",children:z.jsx("img",{src:e.image1,alt:`${e.title} - Image 1`,className:"w-full h-full object-cover"})}),e.image2&&z.jsx("div",{className:"flex-shrink-0 w-32 h-24 rounded-lg overflow-hidden",children:z.jsx("img",{src:e.image2,alt:`${e.title} - Image 2`,className:"w-full h-full object-cover"})})]})}),z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsxs("div",{className:"flex items-center",children:[z.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:z.jsx("span",{className:"text-lg font-bold text-blue-600",children:(null==(m=null==(h=e.host)?void 0:h.name)?void 0:m.charAt(0).toUpperCase())||"H"})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(null==(f=e.host)?void 0:f.name)||"Host"}),z.jsx("p",{className:"text-xs text-gray-500",children:e.locationInput})]})]}),a&&(e.distance||0===e.distance)&&z.jsxs("div",{className:`flex items-center ${P=e.distance,P<=5?"text-green-600":P<=15?"text-yellow-600":"text-red-600"} text-sm font-medium`,children:[(e=>e<=5?"🟢":e<=15?"🟡":"🔴")(e.distance)," ",e.distance," km"]})]}),z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.title}),z.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:e.description})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3 border-t border-b border-gray-100",children:[z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Available From"}),z.jsx("p",{className:"text-sm font-medium",children:E(e.availableFrom)})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Available Until"}),z.jsx("p",{className:"text-sm font-medium",children:e.availableTo?E(e.availableTo):"Ongoing"})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Capacity"}),z.jsxs("p",{className:"text-sm font-medium",children:[e.capacity," people"]})]}),z.jsxs("div",{children:[z.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),z.jsx("p",{className:"text-sm font-medium",children:e.locationInput})]})]}),e.tags&&e.tags.length>0&&z.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((t,n)=>z.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-50 text-green-700 border border-green-100",children:t.replace("-"," ")},`${e.id}-${t}-${n}`))}),t&&z.jsx("div",{className:"flex gap-3 mt-4",children:N?z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"View Details"}),z.jsx("button",{onClick:()=>{i?i(e):x(`/shelter/${e.id}/edit`)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Edit Shelter"})]}):z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"View Details"}),z.jsx("button",{onClick:()=>{o&&o(e)},disabled:S||"PENDING"===k,className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium ${S||"PENDING"===k?"bg-gray-400 text-white cursor-not-allowed":j?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"} transition-colors`,children:S?"Loading...":"PENDING"===k?"Request Sent":j?"Contact Host":"Request Connection"})]})})]})]}),v&&z.jsx(qt,{isOpen:v,onClose:()=>w(!1),recipientId:null==(p=e.host)?void 0:p.id,recipientName:null==(g=e.host)?void 0:g.name,onSuccess:()=>{C()},message:`Hi ${null==(y=e.host)?void 0:y.name}, I'm interested in your shelter "${e.title}" in ${e.locationInput}.`})]});var P},Mt=({request:e,showActions:t=!0,showDistance:a=!1,showSeekerInfo:s=!0,onEdit:i,onDelete:l,onContact:o,onViewDetails:c})=>{var u,d,h,m,f;const p=r(),{user:g}=H(),[y,x]=n.useState(!1),{connected:b,status:v,isLoading:w,refreshConnection:N}=Bt(null==(u=e.seeker)?void 0:u.id),j=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=e=>{switch(e){case"PENDING":return"bg-yellow-100 text-yellow-800";case"APPROVED":return"bg-green-100 text-green-800";case"REJECTED":return"bg-red-100 text-red-800";case"COMPLETED":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},S=()=>{i?i(e):p(`/request/${e.id}/edit`)},C=()=>{l&&l(e.id)},E=()=>{N()};return a||s?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden border border-gray-200 hover:shadow-md transition-shadow",children:z.jsxs("div",{className:"p-6",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(e.status)}`,children:e.status}),a&&(0===e.distance||e.distance)&&z.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_=e.distance,_<=5?"text-green-600":_<=15?"text-yellow-600":"text-red-600"} bg-gray-100`,children:[(e=>e<=5?"🟢":e<=15?"🟡":"🔴")(e.distance)," ",e.distance," km away"]})]}),z.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Shelter Request"}),z.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description||`Need shelter for ${e.numberOfPeople} ${1===e.numberOfPeople?"person":"people"} on ${j(e.date)}`}),s&&e.seeker&&z.jsxs("div",{className:"flex items-center mb-3",children:[e.seeker.profileImage1||e.seeker.profileImage2?z.jsxs("div",{className:"flex space-x-2 mr-3",children:[e.seeker.profileImage1&&z.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:z.jsx("img",{src:e.seeker.profileImage1,alt:`${e.seeker.name} - Profile 1`,className:"w-full h-full object-cover"})}),e.seeker.profileImage2&&z.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:z.jsx("img",{src:e.seeker.profileImage2,alt:`${e.seeker.name} - Profile 2`,className:"w-full h-full object-cover"})})]}):z.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:z.jsx("span",{className:"text-sm font-bold text-green-600",children:e.seeker.name.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.seeker.name}),z.jsx("p",{className:"text-xs text-gray-500",children:e.seeker.locationInput})]})]}),z.jsxs("div",{className:"space-y-2 mb-4",children:[z.jsxs("div",{className:"flex justify-between text-sm",children:[z.jsx("span",{className:"text-gray-500",children:"Number of People:"}),z.jsxs("span",{className:"font-medium",children:[e.numberOfPeople," ",1===e.numberOfPeople?"person":"people"]})]}),z.jsxs("div",{className:"flex justify-between text-sm",children:[z.jsx("span",{className:"text-gray-500",children:"Date Needed:"}),z.jsx("span",{className:"font-medium",children:j(e.date)})]}),z.jsxs("div",{className:"flex justify-between text-sm",children:[z.jsx("span",{className:"text-gray-500",children:"Location:"}),z.jsx("span",{className:"font-medium",children:e.locationInput})]}),z.jsxs("div",{className:"flex justify-between text-sm",children:[z.jsx("span",{className:"text-gray-500",children:"Submitted:"}),z.jsx("span",{className:"font-medium",children:j(e.createdAt)})]})]}),e.tags&&e.tags.length>0&&z.jsx("div",{className:"mb-4",children:z.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((e,t)=>z.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.replace("-"," ")},t)),e.tags.length>3&&z.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["+",e.tags.length-3," more"]})]})}),t&&z.jsx("div",{className:"flex space-x-2",children:a?z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:()=>{var t;if(g&&(null==(t=e.seeker)?void 0:t.id)&&g.id!==e.seeker.id)if(b){const t=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;p(`/messages/${t}`,{state:{recipientId:e.seeker.id,recipientName:e.seeker.name}})}else x(!0)},disabled:w||"PENDING"===v,className:"PENDING"===v?"flex-1 bg-gray-400 text-white px-3 py-2 rounded-md cursor-not-allowed text-sm font-medium":"flex-1 bg-green-600 text-white px-3 py-2 rounded-md hover:bg-green-700 transition-colors text-sm font-medium",children:w?"Loading...":b?"Message Seeker":"PENDING"===v?"Request Sent":"Request Connection"}),z.jsx("button",{onClick:()=>{c?c(e):alert("Detailed view coming soon! You would see more details about this request.")},className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded-md hover:bg-gray-200 transition-colors text-sm font-medium",children:"Details"})]}):z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:S,className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Edit"}),z.jsx("button",{onClick:C,className:"flex-1 bg-red-600 text-white px-3 py-2 rounded-md hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete"})]})})]})}),z.jsx(qt,{isOpen:y,onClose:()=>x(!1),recipientId:null==(m=e.seeker)?void 0:m.id,recipientName:null==(f=e.seeker)?void 0:f.name,onSuccess:E})]}):z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-200 hover:shadow-xl transition-shadow",children:[z.jsxs("div",{className:"flex items-center justify-between mb-6",children:[z.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${k(e.status)}`,children:e.status}),z.jsxs("div",{className:"text-xs text-gray-500",children:["Submitted ",j(e.createdAt)]})]}),z.jsxs("div",{className:"flex items-center mb-6",children:[z.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-4 shadow-sm",children:z.jsx("span",{className:"text-xl font-bold text-blue-600",children:"🏠"})}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Your Shelter Request"}),z.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",e.status]})]})]}),z.jsxs("div",{className:"text-sm text-gray-700 space-y-3 pl-4 border-l-2 border-blue-100",children:[z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"Location:"})," ",e.locationInput]}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"Date Needed:"})," ",j(e.date)]}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"People:"})," ",e.numberOfPeople," ",1===e.numberOfPeople?"person":"people"]}),e.description&&z.jsxs("div",{className:"pt-2",children:[z.jsx("p",{className:"font-semibold text-gray-500",children:"Description:"}),z.jsxs("p",{className:"text-gray-600 pl-2 text-sm italic mt-1",children:['"',e.description,'"']})]})]}),e.tags&&e.tags.length>0&&z.jsxs("div",{className:"mt-6",children:[z.jsx("p",{className:"font-semibold text-gray-500 text-sm mb-2",children:"Tags:"}),z.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.tags.slice(0,3).map((e,t)=>z.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.replace("-"," ")},t)),e.tags.length>3&&z.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["+",e.tags.length-3," more"]})]})]}),t&&z.jsxs("div",{className:"flex space-x-3 mt-6 pt-4 border-t border-gray-100",children:[z.jsx("button",{onClick:S,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:"Edit Request"}),z.jsx("button",{onClick:C,className:"flex-1 bg-red-600 text-white px-4 py-3 rounded-lg hover:bg-red-700 transition-colors font-medium text-sm",children:"Delete Request"})]})]}),z.jsx(qt,{isOpen:y,onClose:()=>x(!1),recipientId:null==(d=e.seeker)?void 0:d.id,recipientName:null==(h=e.seeker)?void 0:h.name,onSuccess:E})]});var _},$t=()=>{var e;const{user:t,token:i}=H(),l=r(),o=a(),[c,u]=n.useState([]),[d,h]=n.useState([]),[m,f]=n.useState(!0),[p,g]=n.useState(""),y=null==(e=o.state)?void 0:e.message;n.useEffect(()=>{"HOST"===(null==t?void 0:t.role)?x():"SEEKER"===(null==t?void 0:t.role)?b():f(!1)},[t,i]);const x=async()=>{try{const e=await fetch("http://localhost:3000/api/shelters/host/my-shelters",{headers:{Authorization:`Bearer ${i}`}});if(!e.ok)throw new Error("Failed to fetch shelters");const t=await e.json();u(t.shelters)}catch(e){g("Failed to load your shelters")}finally{f(!1)}},b=async()=>{try{const e=await fetch("http://localhost:3000/api/requests/seeker/my-requests",{headers:{Authorization:`Bearer ${i}`}});if(!e.ok)throw new Error("Failed to fetch requests");const t=await e.json();h(t.requests)}catch(e){g("Failed to load your requests")}finally{f(!1)}},v=async e=>{if(window.confirm("Are you sure you want to delete this shelter?"))try{if(!(await fetch(`http://localhost:3000/api/shelters/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}})).ok)throw new Error("Failed to delete shelter");u(c.filter(t=>t.id!==e))}catch(t){g("Failed to delete shelter")}},w=async e=>{if(window.confirm("Are you sure you want to delete this request?"))try{if(!(await fetch(`http://localhost:3000/api/requests/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}})).ok)throw new Error("Failed to delete request");h(d.filter(t=>t.id!==e))}catch(t){g("Failed to delete request")}};return m?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),z.jsxs("p",{className:"mt-2 text-gray-600",children:["Welcome back, ",null==t?void 0:t.name,"! You're logged in as a ",null==t?void 0:t.role.toLowerCase(),"."]})]}),y&&z.jsx("div",{className:"mb-6 px-4 sm:px-0",children:z.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:y})}),p&&z.jsx("div",{className:"mb-6 px-4 sm:px-0",children:z.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:p})}),"HOST"===(null==t?void 0:t.role)&&z.jsxs("div",{className:"px-4 sm:px-0",children:[z.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),z.jsxs("div",{className:"flex flex-wrap gap-4",children:[z.jsx(s,{to:"/shelter/new",className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors font-medium",children:"+ Offer New Shelter"}),z.jsx(s,{to:"/profile",className:"bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 transition-colors font-medium",children:"Update Profile"})]})]}),z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"My Shelters"}),z.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your shelter offerings"})]}),z.jsx("div",{className:"p-6",children:0===c.length?z.jsxs("div",{className:"text-center py-8",children:[z.jsx("div",{className:"text-4xl mb-4",children:"🏠"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No shelters yet"}),z.jsx("p",{className:"text-gray-600 mb-4",children:"Start helping people by offering your first shelter."}),z.jsx(s,{to:"/shelter/new",className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Offer Your First Shelter"})]}):z.jsx("div",{className:"space-y-4",children:c.map(e=>z.jsx(Ft,{shelter:e,showActions:!0,showDistance:!1,showRequestInfo:!1,onEdit:()=>l(`/shelter/${e.id}/edit`),onDelete:v},e.id))})})]})]}),"SEEKER"===(null==t?void 0:t.role)&&z.jsxs("div",{className:"px-4 sm:px-0",children:[z.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),z.jsxs("div",{className:"flex flex-wrap gap-4",children:[z.jsx(s,{to:"/request/new",className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors font-medium",children:"+ Submit New Request"}),z.jsx(s,{to:"/matches",className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors font-medium",children:"View Available Shelters"}),z.jsx(s,{to:"/profile",className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors font-medium",children:"Update Profile"})]})]}),z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"My Requests"}),z.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your shelter requests"})]}),z.jsx("div",{className:"p-6",children:0===d.length?z.jsxs("div",{className:"text-center py-8",children:[z.jsx("div",{className:"text-4xl mb-4",children:"🔍"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests yet"}),z.jsx("p",{className:"text-gray-600 mb-4",children:"Submit your first request when you need shelter assistance."}),z.jsx(s,{to:"/request/new",className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Submit Your First Request"})]}):z.jsx("div",{className:"space-y-4",children:d.map(e=>z.jsx(Mt,{request:e,showActions:!0,showDistance:!1,showSeekerInfo:!1,onEdit:()=>l(`/request/${e.id}/edit`),onDelete:w},e.id))})})]}),z.jsxs("div",{className:"space-y-3",children:[z.jsx("button",{onClick:()=>l("/request/new"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors font-medium",children:"Create New Request"}),z.jsx("button",{onClick:()=>l("/matches"),className:"w-full bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors font-medium",children:"View Available Shelters"})]})]}),"ADMIN"===(null==t?void 0:t.role)&&z.jsx("div",{className:"px-4 sm:px-0",children:z.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Admin Panel"}),z.jsx("p",{className:"text-gray-600 mb-6",children:"Manage users, shelters, and requests."}),z.jsxs("div",{className:"flex flex-wrap gap-4",children:[z.jsx(s,{to:"/admin/users",className:"bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 transition-colors font-medium",children:"Manage Users"}),z.jsx(s,{to:"/admin/shelters",className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors font-medium",children:"Manage Shelters"}),z.jsx(s,{to:"/admin/requests",className:"bg-purple-600 text-white px-6 py-3 rounded-md hover:bg-purple-700 transition-colors font-medium",children:"Manage Requests"})]})]})})]})})},Ut=[{name:"תל אביב-יפו",english:"Tel Aviv-Yafo",type:"city",region:"Central"},{name:"ירושלים",english:"Jerusalem",type:"city",region:"Jerusalem"},{name:"חיפה",english:"Haifa",type:"city",region:"Northern"},{name:"ראשון לציון",english:"Rishon LeZion",type:"city",region:"Central"},{name:"פתח תקווה",english:"Petah Tikva",type:"city",region:"Central"},{name:"אשדוד",english:"Ashdod",type:"city",region:"Southern"},{name:"נתניה",english:"Netanya",type:"city",region:"Central"},{name:"באר שבע",english:"Beer Sheva",type:"city",region:"Southern"},{name:"חולון",english:"Holon",type:"city",region:"Central"},{name:"בני ברק",english:"Bnei Brak",type:"city",region:"Central"},{name:"רמת גן",english:"Ramat Gan",type:"city",region:"Central"},{name:"בת ים",english:"Bat Yam",type:"city",region:"Central"},{name:"הרצליה",english:"Herzliya",type:"city",region:"Central"},{name:"כפר סבא",english:"Kfar Saba",type:"city",region:"Central"},{name:"רעננה",english:"Ra'anana",type:"city",region:"Central"},{name:"גבעתיים",english:"Givatayim",type:"city",region:"Central"},{name:"קריית אונו",english:"Kiryat Ono",type:"city",region:"Central"},{name:"רמת השרון",english:"Ramat HaSharon",type:"city",region:"Central"},{name:"הוד השרון",english:"Hod HaSharon",type:"city",region:"Central"},{name:"גבעת שמואל",english:"Givat Shmuel",type:"city",region:"Central"},{name:"יהוד-מונוסון",english:"Yehud-Monosson",type:"city",region:"Central"},{name:"אור יהודה",english:"Or Yehuda",type:"city",region:"Central"},{name:"קריית ביאליק",english:"Kiryat Bialik",type:"city",region:"Northern"},{name:"קריית מוצקין",english:"Kiryat Motzkin",type:"city",region:"Northern"},{name:"קריית ים",english:"Kiryat Yam",type:"city",region:"Northern"},{name:"נהריה",english:"Nahariya",type:"city",region:"Northern"},{name:"עכו",english:"Acre",type:"city",region:"Northern"},{name:"צפת",english:"Safed",type:"city",region:"Northern"},{name:"טבריה",english:"Tiberias",type:"city",region:"Northern"},{name:"נצרת",english:"Nazareth",type:"city",region:"Northern"},{name:"קריית שמונה",english:"Kiryat Shmona",type:"city",region:"Northern"},{name:"מגדל העמק",english:"Migdal HaEmek",type:"city",region:"Northern"},{name:"עפולה",english:"Afula",type:"city",region:"Northern"},{name:"בית שאן",english:"Beit She'an",type:"city",region:"Northern"},{name:"קריית טבעון",english:"Kiryat Tivon",type:"city",region:"Northern"},{name:"אשקלון",english:"Ashkelon",type:"city",region:"Southern"},{name:"קריית גת",english:"Kiryat Gat",type:"city",region:"Southern"},{name:"קריית מלאכי",english:"Kiryat Malakhi",type:"city",region:"Southern"},{name:"דימונה",english:"Dimona",type:"city",region:"Southern"},{name:"ירוחם",english:"Yeruham",type:"city",region:"Southern"},{name:"ערד",english:"Arad",type:"city",region:"Southern"},{name:"אופקים",english:"Ofakim",type:"city",region:"Southern"},{name:"נתיבות",english:"Netivot",type:"city",region:"Southern"},{name:"שדרות",english:"Sderot",type:"city",region:"Southern"},{name:"בית שמש",english:"Beit Shemesh",type:"city",region:"Jerusalem"},{name:"מעלה אדומים",english:"Ma'ale Adumim",type:"city",region:"Jerusalem"},{name:"ביתר עילית",english:"Beitar Illit",type:"city",region:"Jerusalem"},{name:"מודיעין עילית",english:"Modi'in Illit",type:"city",region:"Jerusalem"},{name:"מודיעין-מכבים-רעות",english:"Modi'in-Maccabim-Re'ut",type:"city",region:"Jerusalem"},{name:"כפר יונה",english:"Kfar Yona",type:"town",region:"Central"},{name:"כפר סבא",english:"Kfar Saba",type:"town",region:"Central"},{name:"רעננה",english:"Ra'anana",type:"town",region:"Central"},{name:"הוד השרון",english:"Hod HaSharon",type:"town",region:"Central"},{name:"גבעת שמואל",english:"Givat Shmuel",type:"town",region:"Central"},{name:"קריית אונו",english:"Kiryat Ono",type:"town",region:"Central"},{name:"גבעתיים",english:"Givatayim",type:"town",region:"Central"},{name:"בת ים",english:"Bat Yam",type:"town",region:"Central"},{name:"כפר שמריהו",english:"Kfar Shmaryahu",type:"town",region:"Central"},{name:"הרצליה פיתוח",english:"Herzliya Pituah",type:"town",region:"Central"},{name:"רמת השרון",english:"Ramat HaSharon",type:"town",region:"Central"},{name:"כפר ויתקין",english:"Kfar Vitkin",type:"town",region:"Central"},{name:"כפר יאסיף",english:"Kfar Yasif",type:"town",region:"Northern"},{name:"כפר מנדא",english:"Kfar Manda",type:"town",region:"Northern"},{name:"כפר כנא",english:"Kfar Kana",type:"town",region:"Northern"},{name:"כפר תבור",english:"Kfar Tavor",type:"town",region:"Northern"},{name:"כפר גלעדי",english:"Kfar Giladi",type:"town",region:"Northern"},{name:"כפר בלום",english:"Kfar Blum",type:"town",region:"Northern"},{name:"כפר סאלד",english:"Kfar Szold",type:"town",region:"Northern"},{name:"כפר גלעדי",english:"Kfar Giladi",type:"town",region:"Northern"},{name:"כפר בלום",english:"Kfar Blum",type:"town",region:"Northern"},{name:"כפר סאלד",english:"Kfar Szold",type:"town",region:"Northern"},{name:"כפר גלעדי",english:"Kfar Giladi",type:"town",region:"Northern"},{name:"כפר בלום",english:"Kfar Blum",type:"town",region:"Northern"},{name:"כפר סאלד",english:"Kfar Szold",type:"town",region:"Northern"},{name:"פלורנטין",english:"Florentin",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"נווה צדק",english:"Neve Tzedek",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"התחנה המרכזית",english:"Central Bus Station",type:"area",region:"Central",city:"Tel Aviv"},{name:"דיזנגוף סנטר",english:"Dizengoff Center",type:"area",region:"Central",city:"Tel Aviv"},{name:"כיכר רבין",english:"Rabin Square",type:"area",region:"Central",city:"Tel Aviv"},{name:"הבימה",english:"Habima",type:"area",region:"Central",city:"Tel Aviv"},{name:"שדרות רוטשילד",english:"Rothschild Boulevard",type:"area",region:"Central",city:"Tel Aviv"},{name:"נמל תל אביב",english:"Tel Aviv Port",type:"area",region:"Central",city:"Tel Aviv"},{name:"כיכר הבימה",english:"Habima Square",type:"area",region:"Central",city:"Tel Aviv"},{name:"נווה שאנן",english:"Neve Sha'anan",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"שכונת התקווה",english:"Hatikva",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"יפו העתיקה",english:"Old Jaffa",type:"area",region:"Central",city:"Tel Aviv"},{name:"אבו כביר",english:"Abu Kabir",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"נווה עופר",english:"Neve Ofer",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"נווה שאנן",english:"Neve Sha'anan",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"שכונת התקווה",english:"Hatkiva",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"יפו העתיקה",english:"Old Jaffa",type:"area",region:"Central",city:"Tel Aviv"},{name:"אבו כביר",english:"Abu Kabir",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"נווה עופר",english:"Neve Ofer",type:"neighborhood",region:"Central",city:"Tel Aviv"},{name:"העיר העתיקה",english:"Old City",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"מרכז העיר",english:"City Center",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"הר הרצל",english:"Mount Herzl",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"הר הצופים",english:"Mount Scopus",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"גבעת רם",english:"Givat Ram",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"הר הזיתים",english:"Mount of Olives",type:"area",region:"Jerusalem",city:"Jerusalem"},{name:"מאה שערים",english:"Mea Shearim",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"גאולה",english:"Geula",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"בית ישראל",english:"Beit Israel",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"שכונת הבוכרים",english:"Bukharan Quarter",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"רחביה",english:"Rehavia",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"טלביה",english:"Talbiya",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"קטמון",english:"Katamon",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"גבעת שאול",english:"Givat Shaul",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"בית הכרם",english:"Beit Hakerem",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"בית וגן",english:"Beit Vegan",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"בית וגן",english:"Beit Vegan",type:"neighborhood",region:"Jerusalem",city:"Jerusalem"},{name:"הכרמל",english:"Mount Carmel",type:"area",region:"Northern",city:"Haifa"},{name:"הדר",english:"Hadar",type:"area",region:"Northern",city:"Haifa"},{name:"העיר התחתית",english:"Lower City",type:"area",region:"Northern",city:"Haifa"},{name:"נמל חיפה",english:"Haifa Port",type:"area",region:"Northern",city:"Haifa"},{name:"בטבעון",english:"Bat Galim",type:"area",region:"Northern",city:"Haifa"},{name:"נווה שאנן",english:"Neve Sha'anan",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית חיים",english:"Kiryat Haim",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית שמואל",english:"Kiryat Shmuel",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית אליעזר",english:"Kiryat Eliezer",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית שפרינצק",english:"Kiryat Sprinzak",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית חיים",english:"Kiryat Haim",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית שמואל",english:"Kiryat Shmuel",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית אליעזר",english:"Kiryat Eliezer",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"קריית שפרינצק",english:"Kiryat Sprinzak",type:"neighborhood",region:"Northern",city:"Haifa"},{name:"אוניברסיטת תל אביב",english:"Tel Aviv University",type:"institution",region:"Central"},{name:"האוניברסיטה העברית",english:"Hebrew University",type:"institution",region:"Jerusalem"},{name:"טכניון",english:"Technion",type:"institution",region:"Northern"},{name:"אוניברסיטת בר אילן",english:"Bar Ilan University",type:"institution",region:"Central"},{name:"אוניברסיטת בן גוריון",english:"Ben Gurion University",type:"institution",region:"Southern"},{name:"אוניברסיטת חיפה",english:"University of Haifa",type:"institution",region:"Northern"},{name:"המכללה האקדמית תל אביב-יפו",english:"Tel Aviv-Yafo Academic College",type:"institution",region:"Central"},{name:"המכללה האקדמית ספיר",english:"Sapir Academic College",type:"institution",region:"Southern"},{name:"המכללה האקדמית עמק יזרעאל",english:"Yezreel Valley Academic College",type:"institution",region:"Northern"},{name:"המכללה האקדמית אשקלון",english:"Ashkelon Academic College",type:"institution",region:"Southern"},{name:"בית חולים איכילוב",english:"Ichilov Hospital",type:"medical",region:"Central"},{name:"בית חולים שיבא",english:"Sheba Hospital",type:"medical",region:"Central"},{name:"בית חולים הדסה",english:"Hadassah Hospital",type:"medical",region:"Jerusalem"},{name:'בית חולים רמב"ם',english:"Rambam Hospital",type:"medical",region:"Northern"},{name:"בית חולים סורוקה",english:"Soroka Hospital",type:"medical",region:"Southern"},{name:"בית חולים קפלן",english:"Kaplan Hospital",type:"medical",region:"Central"},{name:"בית חולים אסף הרופא",english:"Assaf Harofeh Hospital",type:"medical",region:"Central"},{name:"בית חולים וולפסון",english:"Wolfson Hospital",type:"medical",region:"Central"},{name:"בית חולים מאיר",english:"Meir Hospital",type:"medical",region:"Central"},{name:"בית חולים שניידר",english:"Schneider Children's Hospital",type:"medical",region:"Central"},{name:"בית חולים דנה-דואק",english:"Dana-Dwek Children's Hospital",type:"medical",region:"Central"},{name:"בית חולים איכילוב",english:"Ichilov Hospital",type:"medical",region:"Central"},{name:"בית חולים שיבא",english:"Sheba Hospital",type:"medical",region:"Central"},{name:"בית חולים הדסה",english:"Hadassah Hospital",type:"medical",region:"Jerusalem"},{name:'בית חולים רמב"ם',english:"Rambam Hospital",type:"medical",region:"Northern"},{name:"בית חולים סורוקה",english:"Soroka Hospital",type:"medical",region:"Southern"},{name:"קניון איילון",english:"Ayalon Mall",type:"shopping",region:"Central"},{name:"קניון רמת אביב",english:"Ramat Aviv Mall",type:"shopping",region:"Central"},{name:"קניון עזריאלי",english:"Azrieli Mall",type:"shopping",region:"Central"},{name:"קניון מלחה",english:"Malha Mall",type:"shopping",region:"Jerusalem"},{name:"קניון חיפה",english:"Haifa Mall",type:"shopping",region:"Northern"},{name:"קניון גרנד קניון",english:"Grand Canyon Mall",type:"shopping",region:"Northern"},{name:"קניון לב המפרץ",english:"Lev HaMifratz Mall",type:"shopping",region:"Northern"},{name:"קניון ביג",english:"Big Mall",type:"shopping",region:"Central"},{name:"קניון רמות",english:"Ramot Mall",type:"shopping",region:"Jerusalem"},{name:"קניון תלפיות",english:"Talpiot Mall",type:"shopping",region:"Jerusalem"},{name:"קניון ביג באר שבע",english:"Big Beer Sheva",type:"shopping",region:"Southern"},{name:"קניון ביג אשדוד",english:"Big Ashdod",type:"shopping",region:"Southern"},{name:"קניון ביג נתניה",english:"Big Netanya",type:"shopping",region:"Central"},{name:"קניון ביג ראשון לציון",english:"Big Rishon LeZion",type:"shopping",region:"Central"},{name:"קניון ביג פתח תקווה",english:"Big Petah Tikva",type:"shopping",region:"Central"},{name:"קניון ביג חולון",english:"Big Holon",type:"shopping",region:"Central"},{name:"קניון ביג רמת גן",english:"Big Ramat Gan",type:"shopping",region:"Central"},{name:"קניון ביג בת ים",english:"Big Bat Yam",type:"shopping",region:"Central"},{name:"קניון ביג הרצליה",english:"Big Herzliya",type:"shopping",region:"Central"},{name:"קניון ביג כפר סבא",english:"Big Kfar Saba",type:"shopping",region:"Central"},{name:"קניון ביג רעננה",english:"Big Ra'anana",type:"shopping",region:"Central"},{name:"קניון ביג גבעתיים",english:"Big Givatayim",type:"shopping",region:"Central"},{name:"קניון ביג קריית אונו",english:"Big Kiryat Ono",type:"shopping",region:"Central"},{name:"קניון ביג רמת השרון",english:"Big Ramat HaSharon",type:"shopping",region:"Central"},{name:"קניון ביג הוד השרון",english:"Big Hod HaSharon",type:"shopping",region:"Central"},{name:"קניון ביג גבעת שמואל",english:"Big Givat Shmuel",type:"shopping",region:"Central"},{name:"קניון ביג יהוד-מונוסון",english:"Big Yehud-Monosson",type:"shopping",region:"Central"},{name:"קניון ביג אור יהודה",english:"Big Or Yehuda",type:"shopping",region:"Central"},{name:"קניון ביג קריית ביאליק",english:"Big Kiryat Bialik",type:"shopping",region:"Northern"},{name:"קניון ביג קריית מוצקין",english:"Big Kiryat Motzkin",type:"shopping",region:"Northern"},{name:"קניון ביג קריית ים",english:"Big Kiryat Yam",type:"shopping",region:"Northern"},{name:"קניון ביג נהריה",english:"Big Nahariya",type:"shopping",region:"Northern"},{name:"קניון ביג עכו",english:"Big Acre",type:"shopping",region:"Northern"},{name:"קניון ביג צפת",english:"Big Safed",type:"shopping",region:"Northern"},{name:"קניון ביג טבריה",english:"Big Tiberias",type:"shopping",region:"Northern"},{name:"קניון ביג נצרת",english:"Big Nazareth",type:"shopping",region:"Northern"},{name:"קניון ביג קריית שמונה",english:"Big Kiryat Shmona",type:"shopping",region:"Northern"},{name:"קניון ביג מגדל העמק",english:"Big Migdal HaEmek",type:"shopping",region:"Northern"},{name:"קניון ביג עפולה",english:"Big Afula",type:"shopping",region:"Northern"},{name:"קניון ביג בית שאן",english:"Big Beit She'an",type:"shopping",region:"Northern"},{name:"קניון ביג קריית טבעון",english:"Big Kiryat Tivon",type:"shopping",region:"Northern"},{name:"קניון ביג אשקלון",english:"Big Ashkelon",type:"shopping",region:"Southern"},{name:"קניון ביג קריית גת",english:"Big Kiryat Gat",type:"shopping",region:"Southern"},{name:"קניון ביג קריית מלאכי",english:"Big Kiryat Malakhi",type:"shopping",region:"Southern"},{name:"קניון ביג דימונה",english:"Big Dimona",type:"shopping",region:"Southern"},{name:"קניון ביג ירוחם",english:"Big Yeruham",type:"shopping",region:"Southern"},{name:"קניון ביג ערד",english:"Big Arad",type:"shopping",region:"Southern"},{name:"קניון ביג אופקים",english:"Big Ofakim",type:"shopping",region:"Southern"},{name:"קניון ביג נתיבות",english:"Big Netivot",type:"shopping",region:"Southern"},{name:"קניון ביג שדרות",english:"Big Sderot",type:"shopping",region:"Southern"},{name:"תחנת הרכבת תל אביב מרכז",english:"Tel Aviv Central Station",type:"transport",region:"Central"},{name:"תחנת הרכבת ירושלים",english:"Jerusalem Central Station",type:"transport",region:"Jerusalem"},{name:"תחנת הרכבת חיפה מרכז",english:"Haifa Central Station",type:"transport",region:"Northern"},{name:"נמל התעופה בן גוריון",english:"Ben Gurion Airport",type:"transport",region:"Central"},{name:"תחנה מרכזית תל אביב",english:"Tel Aviv Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית ירושלים",english:"Jerusalem Central Bus Station",type:"transport",region:"Jerusalem"},{name:"תחנה מרכזית חיפה",english:"Haifa Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית באר שבע",english:"Beer Sheva Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית אשדוד",english:"Ashdod Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית נתניה",english:"Netanya Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית ראשון לציון",english:"Rishon LeZion Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית פתח תקווה",english:"Petah Tikva Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית חולון",english:"Holon Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית בני ברק",english:"Bnei Brak Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית רמת גן",english:"Ramat Gan Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית בת ים",english:"Bat Yam Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית הרצליה",english:"Herzliya Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית כפר סבא",english:"Kfar Saba Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית רעננה",english:"Ra'anana Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית גבעתיים",english:"Givatayim Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית קריית אונו",english:"Kiryat Ono Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית רמת השרון",english:"Ramat HaSharon Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית הוד השרון",english:"Hod HaSharon Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית גבעת שמואל",english:"Givat Shmuel Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית יהוד-מונוסון",english:"Yehud-Monosson Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית אור יהודה",english:"Or Yehuda Central Bus Station",type:"transport",region:"Central"},{name:"תחנה מרכזית קריית ביאליק",english:"Kiryat Bialik Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית קריית מוצקין",english:"Kiryat Motzkin Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית קריית ים",english:"Kiryat Yam Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית נהריה",english:"Nahariya Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית עכו",english:"Acre Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית צפת",english:"Safed Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית טבריה",english:"Tiberias Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית נצרת",english:"Nazareth Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית קריית שמונה",english:"Kiryat Shmona Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית מגדל העמק",english:"Migdal HaEmek Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית עפולה",english:"Afula Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית בית שאן",english:"Beit She'an Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית קריית טבעון",english:"Kiryat Tivon Central Bus Station",type:"transport",region:"Northern"},{name:"תחנה מרכזית אשקלון",english:"Ashkelon Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית קריית גת",english:"Kiryat Gat Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית קריית מלאכי",english:"Kiryat Malakhi Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית דימונה",english:"Dimona Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית ירוחם",english:"Yeruham Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית ערד",english:"Arad Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית אופקים",english:"Ofakim Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית נתיבות",english:"Netivot Central Bus Station",type:"transport",region:"Southern"},{name:"תחנה מרכזית שדרות",english:"Sderot Central Bus Station",type:"transport",region:"Southern"}],Ht=({value:e,onChange:t,onLocationSelect:r,placeholder:a="Enter location or use GPS",className:s="",required:i=!1,disabled:l=!1,showGPSButton:o=!0,showAutocomplete:c=!0})=>{const[u,d]=n.useState(e||""),[h,m]=n.useState([]),[f,p]=n.useState(!1),[g,y]=n.useState(-1),[x,b]=n.useState(""),v=n.useRef(null),w=n.useRef(null),{location:N,error:j,isLoading:k,permissionStatus:S,isSupported:C,getCurrentLocation:E,clearLocation:_}=(()=>{const[e,t]=n.useState(null),[r,a]=n.useState(null),[s,i]=n.useState(!1),[l,o]=n.useState("unknown"),c="geolocation"in navigator,u=()=>{c?(i(!0),a(null),navigator.geolocation.getCurrentPosition(e=>{const{latitude:n,longitude:r}=e.coords;t({latitude:n,longitude:r}),i(!1),o("granted")},e=>{switch(i(!1),e.code===e.PERMISSION_DENIED&&o("denied"),e.code){case e.PERMISSION_DENIED:a("Location permission denied. Please enable location access in your browser settings.");break;case e.POSITION_UNAVAILABLE:a("Location information is unavailable. Please try again.");break;case e.TIMEOUT:a("Location request timed out. Please try again.");break;default:a("An unknown error occurred while getting your location.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})):a("Geolocation is not supported by this browser")},d=async()=>{if(c)try{if("permissions"in navigator){const e=await navigator.permissions.query({name:"geolocation"});o(e.state),e.onchange=()=>{o(e.state)}}else o("unknown")}catch(jn){o("unknown")}else o("unsupported")};return n.useEffect(()=>{d()},[]),{location:e,error:r,isLoading:s,permissionStatus:l,isSupported:c,getCurrentLocation:u,requestPermission:()=>{c?u():a("Geolocation is not supported by this browser")},clearLocation:()=>{t(null),a(null)},getLocationWithAddress:async()=>{if(e)try{return{...e,address:`${e.latitude.toFixed(6)}, ${e.longitude.toFixed(6)}`}}catch(jn){return a("Failed to get address for location"),e}else a("No location available. Please get your location first.")},checkPermission:d}})();n.useEffect(()=>{d(e||"")},[e]),n.useEffect(()=>{N&&P(N.latitude,N.longitude)},[N]);const P=async(e,n)=>{try{const a=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${n}&zoom=10&accept-language=he,en`);if(a.ok){const s=(await a.json()).display_name||`${e.toFixed(6)}, ${n.toFixed(6)}`;b(s),d(s),t&&t(s),r&&r({locationInput:s,latitude:e,longitude:n,source:"gps"})}else{const a=`${e.toFixed(6)}, ${n.toFixed(6)}`;b(a),d(a),t&&t(a),r&&r({locationInput:a,latitude:e,longitude:n,source:"gps"})}}catch(a){const s=`${e.toFixed(6)}, ${n.toFixed(6)}`;b(s),d(s),t&&t(s),r&&r({locationInput:s,latitude:e,longitude:n,source:"gps"})}},T=e=>{const n=e.english||e.name;d(n),p(!1),m([]),t&&t(n),r&&r({locationInput:n,latitude:null,longitude:null,source:"autocomplete",locationData:e})};n.useEffect(()=>{const e=e=>{w.current&&!w.current.contains(e.target)&&(p(!1),y(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return z.jsxs("div",{className:`relative ${s}`,children:[z.jsxs("div",{className:"flex",children:[z.jsx("input",{ref:v,type:"text",value:u,onChange:e=>{const n=e.target.value;if(d(n),y(-1),t&&t(n),c&&n.length>0){const e=(e=>{const t=e.toLowerCase();return Ut.filter(e=>e.name.toLowerCase().includes(t)||e.english.toLowerCase().includes(t)).slice(0,10)})(n);m(e),p(e.length>0)}else m([]),p(!1)},onKeyDown:e=>{if(f)switch(e.key){case"ArrowDown":e.preventDefault(),y(e=>e<h.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),y(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),g>=0&&h[g]&&T(h[g]);break;case"Escape":p(!1),y(-1)}},onFocus:()=>{h.length>0&&p(!0)},placeholder:a,required:i,disabled:l,className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l?"bg-gray-100 cursor-not-allowed":"")}),o&&z.jsx("button",{type:"button",onClick:()=>{k||(N?(_(),b(""),d(""),t&&t(""),r&&r(null)):E())},disabled:l||k||!C,className:`px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors ${l||k||!C?"opacity-50 cursor-not-allowed":""} ${N?"bg-green-600 hover:bg-green-700":""}`,title:C?N?"Clear GPS location":"Get current location":"GPS not supported in this browser",children:k?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),z.jsx("span",{className:"ml-2",children:"Getting location..."})]}):N?z.jsxs(z.Fragment,{children:[z.jsx("span",{children:"📍"}),z.jsx("span",{className:"ml-2",children:"Clear GPS"})]}):z.jsxs(z.Fragment,{children:[z.jsx("span",{children:"📍"}),z.jsx("span",{className:"ml-2",children:"Use GPS"})]})})]}),j&&z.jsx("div",{className:"mt-1 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-2",children:z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"mr-2",children:"⚠️"}),j]})}),N&&!j&&z.jsx("div",{className:"mt-1 text-sm text-green-600 bg-green-50 border border-green-200 rounded-md p-2",children:z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"mr-2",children:"✅"}),"Location obtained: ",x||`${N.latitude.toFixed(6)}, ${N.longitude.toFixed(6)}`]})}),f&&h.length>0&&z.jsx("div",{ref:w,className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:h.map((e,t)=>z.jsx("button",{type:"button",onClick:()=>T(e),className:"w-full text-left px-4 py-2 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+(t===g?"bg-blue-50 text-blue-900":""),children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("div",{className:"font-medium",children:e.english||e.name}),e.english&&e.name!==e.english&&z.jsx("div",{className:"text-sm text-gray-500",children:e.name})]}),z.jsx("div",{className:"text-xs text-gray-400 capitalize",children:e.type})]})},`${e.name}-${t}`))}),"denied"===S&&z.jsx("div",{className:"mt-1 text-sm text-orange-600 bg-orange-50 border border-orange-200 rounded-md p-2",children:z.jsxs("div",{className:"flex items-center",children:[z.jsx("span",{className:"mr-2",children:"🔒"}),"Location access denied. Please enable location permissions in your browser settings."]})})]})},Vt=({onImageSelect:e,currentImage:t,label:r="Upload Image",className:a=""})=>{const[s,i]=n.useState(!1),[l,o]=n.useState(""),[c,u]=n.useState(t);return z.jsxs("div",{className:`space-y-2 ${a}`,children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r}),c&&z.jsxs("div",{className:"relative w-32 h-32 mb-4",children:[z.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),z.jsx("button",{onClick:()=>{u(""),e(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:z.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),z.jsx("div",{className:"flex items-center justify-center w-full",children:z.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[z.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[z.jsx("svg",{className:"w-8 h-8 mb-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:z.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),z.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[z.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),z.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG or JPEG (MAX. 5MB)"})]}),z.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async t=>{const n=t.target.files[0];if(n){if(o(""),i(!0),!n.type.startsWith("image/"))return o("Please select an image file"),void i(!1);if(n.size>5242880)return o("Image size should be less than 5MB"),void i(!1);try{const t=URL.createObjectURL(n);u(t);(new FormData).append("image",n),await e(n)}catch(jn){o("Failed to upload image")}finally{i(!1)}}},disabled:s})]})}),s&&z.jsxs("div",{className:"flex items-center justify-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),z.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Uploading..."})]}),l&&z.jsx("p",{className:"text-sm text-red-600",children:l})]})},Kt="https://shelter-surfing-production.up.railway.app",Wt=async(e,t,n)=>{try{const r=new FormData;r.append("image",t);const a=await fetch(`${Kt}/api/images/shelter/${e}/${n}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:r});if(!a.ok)throw new Error("Failed to upload image");return await a.json()}catch(r){throw r}},Gt=f({name:p().min(2,"Name must be at least 2 characters").required("Name is required"),email:p().email("Invalid email format").required("Email is required"),locationInput:p().required("Location is required"),role:p().oneOf(["HOST","SEEKER"],"Please select a valid role").required("Role is required")}).required(),Qt=()=>{var e,t,a,s;const{user:i,token:l,updateUser:o}=H(),c=r(),[u,d]=n.useState(!1),[h,m]=n.useState(!1),[f,p]=n.useState(""),[y,x]=n.useState(""),[b,v]=n.useState(null),[w,N]=n.useState({name:(null==i?void 0:i.name)||"",email:(null==i?void 0:i.email)||"",locationInput:(null==i?void 0:i.locationInput)||"",role:(null==i?void 0:i.role)||"SEEKER",latitude:(null==i?void 0:i.latitude)||null,longitude:(null==i?void 0:i.longitude)||null}),{register:j,handleSubmit:k,formState:{errors:S},reset:C,setValue:E,watch:_}=g({resolver:Pt(Gt),defaultValues:{name:(null==i?void 0:i.name)||"",email:(null==i?void 0:i.email)||"",locationInput:(null==i?void 0:i.locationInput)||"",role:(null==i?void 0:i.role)||"SEEKER"}});_("role"),n.useEffect(()=>{i&&C({name:i.name,email:i.email,locationInput:i.locationInput||"",role:i.role})},[i,C]),n.useEffect(()=>{i||c("/login")},[i,c]);const P=async(e,t)=>{try{const{url:n}=await(async(e,t)=>{try{const n=new FormData;n.append("image",e);const r=await fetch(`${Kt}/api/images/profile/${t}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:n});if(!r.ok)throw new Error("Failed to upload image");return await r.json()}catch(f){throw f}})(e,t),r={...i,[`profileImage${t}`]:n};o(r)}catch(n){p("Failed to upload image")}},T=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return i?z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your account information and preferences"})]}),z.jsx("button",{onClick:()=>c("/dashboard"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Back to Dashboard"})]})}),z.jsxs("div",{className:"px-4 sm:px-0",children:[y&&z.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:y}),f&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:f}),z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center space-x-4",children:[(null==i?void 0:i.profileImage1)||(null==i?void 0:i.profileImage2)?z.jsxs("div",{className:"flex space-x-2",children:[(null==i?void 0:i.profileImage1)&&z.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:z.jsx("img",{src:i.profileImage1,alt:"Profile 1",className:"w-full h-full object-cover"})}),(null==i?void 0:i.profileImage2)&&z.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:z.jsx("img",{src:i.profileImage2,alt:"Profile 2",className:"w-full h-full object-cover"})})]}):z.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-2xl font-bold text-blue-600",children:null==(e=null==i?void 0:i.name)?void 0:e.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:null==i?void 0:i.name}),z.jsx("p",{className:"text-gray-600",children:null==i?void 0:i.email})]})]}),z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+("HOST"===(null==i?void 0:i.role)?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:null==i?void 0:i.role}),!h&&z.jsx("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Edit Profile"})]})]})}),z.jsx("div",{className:"p-6",children:h?z.jsxs("form",{onSubmit:k(async e=>{d(!0),p("");try{const t={name:e.name,email:e.email,locationInput:e.locationInput,role:e.role};(null==b?void 0:b.latitude)&&(null==b?void 0:b.longitude)&&(t.latitude=b.latitude,t.longitude=b.longitude);const n=await fetch("https://shelter-surfing-production.up.railway.app/api/users/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(t)}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to update profile");r.user&&o(r.user),x("Profile updated successfully!"),m(!1),setTimeout(()=>x(""),3e3)}catch(jn){p(jn.message)}finally{d(!1)}}),className:"space-y-6",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Images"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsx(Vt,{label:"Profile Image 1",currentImage:null==i?void 0:i.profileImage1,onImageSelect:e=>P(e,1)}),z.jsx(Vt,{label:"Profile Image 2",currentImage:null==i?void 0:i.profileImage2,onImageSelect:e=>P(e,2)})]})]}),z.jsx(Tt,{label:"Full Name",name:"name",type:"text",...j("name"),error:null==(t=S.name)?void 0:t.message,disabled:u,required:!0}),z.jsx(Tt,{label:"Email Address",name:"email",type:"email",...j("email"),error:null==(a=S.email)?void 0:a.message,disabled:u,required:!0}),z.jsxs("div",{children:[z.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",z.jsx("span",{className:"text-red-500",children:"*"})]}),z.jsx(Ht,{value:_("locationInput"),onChange:e=>E("locationInput",e),onLocationSelect:e=>{v(e),e&&(E("locationInput",e.locationInput),"gps"===e.source&&e.latitude&&e.longitude&&v({latitude:e.latitude,longitude:e.longitude,locationInput:e.locationInput}))},placeholder:"Enter your location or use GPS to get your current location",disabled:u,required:!0}),S.locationInput&&z.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.locationInput.message})]}),z.jsx(It,{label:"Account Type",name:"role",value:_("role"),onChange:e=>E("role",e.target.value),options:[{value:"SEEKER",label:"Seeker (I need shelter)"},{value:"HOST",label:"Host (I can offer shelter)"}],error:null==(s=S.role)?void 0:s.message,disabled:u,required:!0}),z.jsxs("div",{className:"flex justify-end space-x-3",children:[z.jsx(At,{type:"button",variant:"outline",onClick:()=>{C({name:i.name,email:i.email,locationInput:i.locationInput||"",role:i.role}),m(!1),p(""),x(""),v(null)},disabled:u,children:"Cancel"}),z.jsx(At,{type:"submit",loading:u,variant:"primary",children:"Save Changes"})]})]}):z.jsxs("div",{className:"space-y-6",children:[((null==i?void 0:i.profileImage1)||(null==i?void 0:i.profileImage2))&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Images"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(null==i?void 0:i.profileImage1)&&z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Profile Image 1"}),z.jsx("img",{src:i.profileImage1,alt:"Profile 1",className:"w-32 h-32 object-cover rounded-lg"})]}),(null==i?void 0:i.profileImage2)&&z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Profile Image 2"}),z.jsx("img",{src:i.profileImage2,alt:"Profile 2",className:"w-32 h-32 object-cover rounded-lg"})]})]})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),z.jsx("p",{className:"text-gray-900",children:null==i?void 0:i.name})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email Address"}),z.jsx("p",{className:"text-gray-900",children:null==i?void 0:i.email})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Location"}),z.jsx("p",{className:"text-gray-900",children:(null==i?void 0:i.locationInput)||"Not specified"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Account Type"}),z.jsx("p",{className:"text-gray-900",children:null==i?void 0:i.role})]})]})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Details"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Member Since"}),z.jsx("p",{className:"text-gray-900",children:T(null==i?void 0:i.createdAt)})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),z.jsx("p",{className:"text-gray-900",children:T(null==i?void 0:i.updatedAt)})]})]})]}),"HOST"===(null==i?void 0:i.role)&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Host Information"}),z.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:z.jsx("p",{className:"text-blue-800",children:"As a host, you can offer temporary shelter to people in need. You'll be able to create shelter listings and manage requests from seekers."})})]}),"SEEKER"===(null==i?void 0:i.role)&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seeker Information"}),z.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:z.jsx("p",{className:"text-green-800",children:"As a seeker, you can browse available shelters and submit requests for help when you need temporary accommodation."})})]})]})})]})]})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})},Jt=()=>{var e;const{userId:t}=l(),a=r(),{user:s}=H(),[i,o]=n.useState(null),[c,u]=n.useState(!0),[d,h]=n.useState("");n.useEffect(()=>{m()},[t]);const m=async()=>{try{const e=await fetch(`http://localhost:3000/api/users/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch user profile");const n=await e.json();o(n.user)}catch(e){h("Failed to load user profile")}finally{u(!1)}},f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return c?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})}):d||!i?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("p",{className:"text-red-600 mb-4",children:d||"User not found"}),z.jsx("button",{onClick:()=>a(-1),className:"text-blue-600 hover:text-blue-700",children:"← Go Back"})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[i.name,"'s Profile"]}),z.jsx("p",{className:"mt-2 text-gray-600",children:"HOST"===i.role?"Shelter Host":"Shelter Seeker"})]}),z.jsx("button",{onClick:()=>a(-1),className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Go Back"})]})}),z.jsx("div",{className:"px-4 sm:px-0",children:z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:z.jsxs("div",{className:"flex items-center space-x-4",children:[z.jsxs("div",{className:"flex space-x-4",children:[i.profileImage1&&z.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden",children:z.jsx("img",{src:i.profileImage1,alt:`${i.name} - Profile 1`,className:"w-full h-full object-cover"})}),i.profileImage2&&z.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden",children:z.jsx("img",{src:i.profileImage2,alt:`${i.name} - Profile 2`,className:"w-full h-full object-cover"})}),!i.profileImage1&&!i.profileImage2&&z.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-lg flex items-center justify-center",children:z.jsx("span",{className:"text-2xl font-bold text-blue-600",children:null==(e=i.name)?void 0:e.charAt(0).toUpperCase()})})]}),z.jsxs("div",{children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i.name}),z.jsx("p",{className:"text-gray-600",children:i.email}),z.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 "+("HOST"===i.role?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:i.role})]})]})}),z.jsxs("div",{className:"p-6 space-y-6",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),z.jsx("p",{className:"text-gray-900",children:i.name})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Location"}),z.jsx("p",{className:"text-gray-900",children:i.locationInput||"Not specified"})]})]})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Details"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Member Since"}),z.jsx("p",{className:"text-gray-900",children:f(i.createdAt)})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),z.jsx("p",{className:"text-gray-900",children:f(i.updatedAt)})]})]})]}),"HOST"===i.role&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Host Information"}),z.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:z.jsx("p",{className:"text-blue-800",children:"This user is a shelter host who can offer temporary accommodation to people in need."})})]}),"SEEKER"===i.role&&z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seeker Information"}),z.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:z.jsx("p",{className:"text-green-800",children:"This user is a shelter seeker who may need temporary accommodation."})})]})]})]})})]})})},Yt=({initialData:e,onSubmit:t,isEditing:a=!1})=>{const s=r(),[i,l]=n.useState(!1),[o,c]=n.useState(""),[u,d]=n.useState({title:(null==e?void 0:e.title)||"",description:(null==e?void 0:e.description)||"",locationInput:(null==e?void 0:e.locationInput)||"",latitude:(null==e?void 0:e.latitude)||null,longitude:(null==e?void 0:e.longitude)||null,availableFrom:(null==e?void 0:e.availableFrom)?new Date(e.availableFrom).toISOString().split("T")[0]:"",availableTo:(null==e?void 0:e.availableTo)?new Date(e.availableTo).toISOString().split("T")[0]:"",capacity:(null==e?void 0:e.capacity)||"",tags:(null==e?void 0:e.tags)||[]}),h=async(t,n)=>{try{if(!(null==e?void 0:e.id))return void d(e=>({...e,[`pendingImage${n}`]:t}));const{url:r}=await Wt(e.id,t,n);d(e=>({...e,[`image${n}`]:r}))}catch(r){c("Failed to upload image")}};return z.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0),c("");try{const e=await t(u);!a&&(null==e?void 0:e.id)&&(u.pendingImage1&&await Wt(e.id,u.pendingImage1,1),u.pendingImage2&&await Wt(e.id,u.pendingImage2,2)),s("/dashboard")}catch(jn){c("Failed to save shelter")}finally{l(!1)}},className:"space-y-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),z.jsx("input",{type:"text",value:u.title,onChange:e=>d(t=>({...t,title:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),z.jsx("textarea",{value:u.description,onChange:e=>d(t=>({...t,description:e.target.value})),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[z.jsx("div",{children:z.jsx(Vt,{label:"Shelter Image 1",currentImage:null==e?void 0:e.image1,onImageSelect:e=>h(e,1)})}),z.jsx("div",{children:z.jsx(Vt,{label:"Shelter Image 2",currentImage:null==e?void 0:e.image2,onImageSelect:e=>h(e,2)})})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),z.jsx(Ht,{defaultValue:u.locationInput,onLocationSelect:e=>{d(t=>({...t,locationInput:e.description,latitude:e.latitude,longitude:e.longitude}))}})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Available From"}),z.jsx("input",{type:"date",value:u.availableFrom,onChange:e=>d(t=>({...t,availableFrom:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Available To (Optional)"}),z.jsx("input",{type:"date",value:u.availableTo,onChange:e=>d(t=>({...t,availableTo:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Capacity (number of people)"}),z.jsx("input",{type:"number",value:u.capacity,onChange:e=>d(t=>({...t,capacity:parseInt(e.target.value)})),min:"1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),z.jsx("div",{className:"grid grid-cols-2 gap-2",children:["pet-friendly","wheelchair-accessible","family-friendly","quiet-area","near-transport","wifi-included","private-bathroom","kitchen-access"].map(e=>z.jsxs("label",{className:"flex items-center space-x-2",children:[z.jsx("input",{type:"checkbox",checked:u.tags.includes(e),onChange:()=>(e=>{d(t=>({...t,tags:t.tags.includes(e)?t.tags.filter(t=>t!==e):[...t.tags,e]}))})(e),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),z.jsx("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),o&&z.jsx("div",{className:"text-red-600 text-sm",children:o}),z.jsxs("div",{className:"flex justify-end space-x-4",children:[z.jsx("button",{type:"button",onClick:()=>s("/dashboard"),className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),z.jsx("button",{type:"submit",disabled:i,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300",children:i?"Saving...":a?"Update Shelter":"Create Shelter"})]})]})},Xt=()=>{const{user:e,token:t}=H(),a=r(),[s,i]=n.useState("");return"HOST"!==(null==e?void 0:e.role)?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600 mb-4",children:"Only hosts can offer shelters. Please update your profile to become a host."}),z.jsx("button",{onClick:()=>a("/profile"),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Update Profile"})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Offer Shelter"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"Help someone in need by offering temporary shelter"})]}),z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsx("div",{className:"bg-white shadow rounded-lg",children:z.jsxs("div",{className:"px-6 py-6",children:[s&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s}),z.jsx(Yt,{initialData:{},onSubmit:async e=>{try{const n=await fetch("http://localhost:3000/api/shelters",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to create shelter");return r}catch(n){throw n}},isEditing:!1})]})})})]})})},Zt=()=>{const{shelterId:e}=l(),t=r(),{token:a}=H(),[s,i]=n.useState(!0),[o,c]=n.useState(""),[u,d]=n.useState(null);n.useEffect(()=>{h()},[e]);const h=async()=>{try{const t=await fetch(`http://localhost:3000/api/shelters/${e}`,{headers:{Authorization:`Bearer ${a}`}});if(!t.ok)throw new Error("Failed to fetch shelter");const n=(await t.json()).shelter;d(n)}catch(t){c("Failed to load shelter details")}finally{i(!1)}};return s?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading shelter details..."})]})}):u?z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Shelter"}),z.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your shelter offering details"})]}),z.jsxs("div",{className:"p-6",children:[o&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:o}),z.jsx(Yt,{initialData:u,onSubmit:async t=>{try{const n=await fetch(`http://localhost:3000/api/shelters/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...t,capacity:parseInt(t.capacity),availableFrom:t.availableFrom?new Date(t.availableFrom).toISOString():null,availableTo:t.availableTo?new Date(t.availableTo).toISOString():null})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to update shelter")}return await n.json()}catch(n){throw n}},isEditing:!0})]})]})})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("p",{className:"text-red-600",children:"Shelter not found"}),z.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-4 text-primary-600 hover:text-primary-700",children:"Back to Dashboard"})]})})},en="https://shelter-surfing-production.up.railway.app",tn=()=>{var e,t,a,s,i,o,c,u,d,h,m,f;const{shelterId:p}=l(),g=r(),{user:y,token:x}=H(),[b,v]=n.useState(null),[w,N]=n.useState(!0),[j,k]=n.useState(""),[S,C]=n.useState(!1),E=(null==y?void 0:y.id)===(null==(e=null==b?void 0:b.host)?void 0:e.id),{connected:_,status:P,isLoading:T,refreshConnection:A}=Bt(E?null:null==(t=null==b?void 0:b.host)?void 0:t.id);n.useEffect(()=>{p&&x&&(async()=>{try{const e=await fetch(`${en}/api/shelters/${p}`,{headers:{Authorization:`Bearer ${x}`}});if(!e.ok)throw new Error("Failed to fetch shelter details");const t=await e.json();v(t.shelter)}catch(jn){k(jn.message)}finally{N(!1)}})()},[p,x]);const L=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return w?z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading shelter details..."})]})})}):j?z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsx("div",{className:"bg-white shadow rounded-lg p-8",children:z.jsxs("div",{className:"text-center text-red-600",children:[z.jsx("p",{children:j}),z.jsx("button",{onClick:()=>g(-1),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Go Back"})]})})})}):b?z.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[z.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[z.jsxs("button",{onClick:()=>g(-1),className:"mb-6 flex items-center text-gray-600 hover:text-gray-900",children:[z.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),z.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[z.jsx("div",{className:"p-6 border-b border-gray-200",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center",children:[z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:z.jsx("span",{className:"text-xl font-bold text-blue-600",children:null==(s=null==(a=b.host)?void 0:a.name)?void 0:s.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:b.title}),z.jsx("p",{className:"text-gray-500",children:b.locationInput})]})]}),E&&z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("button",{onClick:()=>{g(`/shelter/${p}/edit`)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Edit Shelter"}),z.jsx("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this shelter?"))try{if(!(await fetch(`${en}/api/shelters/${p}`,{method:"DELETE",headers:{Authorization:`Bearer ${x}`}})).ok)throw new Error("Failed to delete shelter");g("/dashboard",{state:{message:"Shelter deleted successfully"}})}catch(jn){k(jn.message)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete"})]})]})}),(b.image1||b.image2)&&z.jsxs("div",{className:"p-6 border-b border-gray-200",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Photos"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.image1&&z.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:z.jsx("img",{src:b.image1,alt:`${b.title} - Image 1`,className:"w-full h-full object-cover"})}),b.image2&&z.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:z.jsx("img",{src:b.image2,alt:`${b.title} - Image 2`,className:"w-full h-full object-cover"})})]})]}),z.jsxs("div",{className:"p-6 border-b border-gray-200",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About this shelter"}),z.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:b.description})]}),z.jsx("div",{className:"p-6 border-b border-gray-200",children:z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Available From"}),z.jsx("p",{className:"mt-1 text-lg text-gray-900",children:L(b.availableFrom)})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Available Until"}),z.jsx("p",{className:"mt-1 text-lg text-gray-900",children:b.availableTo?L(b.availableTo):"Ongoing"})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Capacity"}),z.jsxs("p",{className:"mt-1 text-lg text-gray-900",children:[b.capacity," people"]})]}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Location"}),z.jsx("p",{className:"mt-1 text-lg text-gray-900",children:b.locationInput})]})]})}),b.tags&&b.tags.length>0&&z.jsxs("div",{className:"p-6 border-b border-gray-200",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Amenities & Features"}),z.jsx("div",{className:"flex flex-wrap gap-2",children:b.tags.map((e,t)=>z.jsx("span",{className:"px-4 py-2 rounded-full text-sm font-medium bg-green-50 text-green-700 border border-green-100",children:e.replace("-"," ")},t))})]}),z.jsxs("div",{className:"p-6 border-b border-gray-200",children:[z.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"About the Host"}),z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center",children:[z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:z.jsx("span",{className:"text-xl font-bold text-blue-600",children:null==(o=null==(i=b.host)?void 0:i.name)?void 0:o.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:null==(c=b.host)?void 0:c.name}),z.jsx("p",{className:"text-gray-500",children:null==(u=b.host)?void 0:u.locationInput})]})]}),!E&&(null==(d=b.host)?void 0:d.id)&&z.jsx("button",{onClick:()=>g(`/user/${b.host.id}`),className:"mt-3 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Profile →"})]})]}),!E&&z.jsx("div",{className:"p-6",children:z.jsx("button",{onClick:()=>{var e,t;if(_){const n=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;g(`/messages/${n}`,{state:{recipientId:null==(e=b.host)?void 0:e.id,recipientName:null==(t=b.host)?void 0:t.name}})}else C(!0)},disabled:T||"PENDING"===P,className:"w-full py-3 px-4 rounded-lg text-sm font-medium transition-colors "+(T?"bg-gray-300 text-gray-500 cursor-not-allowed":"PENDING"===P?"bg-gray-400 text-white cursor-not-allowed":_?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"),children:T?"Loading...":"PENDING"===P?"Request Sent":_?"Message Host":"Request Connection"})})]})]}),S&&z.jsx(qt,{isOpen:S,onClose:()=>C(!1),recipientId:null==(h=b.host)?void 0:h.id,recipientName:null==(m=b.host)?void 0:m.name,onSuccess:()=>{A(),C(!1)},message:`Hi ${null==(f=b.host)?void 0:f.name}, I'm interested in your shelter "${b.title}" in ${b.locationInput}.`})]}):z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsx("div",{className:"bg-white shadow rounded-lg p-8",children:z.jsxs("div",{className:"text-center text-gray-600",children:[z.jsx("p",{children:"Shelter not found"}),z.jsx("button",{onClick:()=>g(-1),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Go Back"})]})})})})},nn=new Date;nn.setHours(0,0,0,0);const rn=f({locationInput:p().required("Location is required"),date:b().min(nn,"Date must be today or in the future").required("Date is required"),numberOfPeople:x().min(1,"Must be at least 1 person").max(10,"Cannot exceed 10 people").required("Number of people is required"),description:p().min(10,"Description must be at least 10 characters").required("Description is required")}).required(),an=()=>{var e,t,a;const{user:s,token:i}=H(),l=r(),[o,c]=n.useState(!1),[u,d]=n.useState(""),[h,m]=n.useState(null),{register:f,handleSubmit:p,formState:{errors:y},watch:x,setValue:b}=g({resolver:Pt(rn),defaultValues:{numberOfPeople:1,date:(new Date).toISOString().split("T")[0]}});return"SEEKER"!==(null==s?void 0:s.role)?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600 mb-4",children:"Only seekers can submit shelter requests. Please update your profile to become a seeker."}),z.jsx("button",{onClick:()=>l("/profile"),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Update Profile"})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Request Shelter"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"Submit a request for temporary shelter assistance"})]}),z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsx("div",{className:"bg-white shadow rounded-lg",children:z.jsxs("div",{className:"px-6 py-6",children:[u&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:u}),z.jsxs("form",{onSubmit:p(async e=>{c(!0),d("");try{const t={...e,date:new Date(e.date).toISOString()};(null==h?void 0:h.latitude)&&(null==h?void 0:h.longitude)&&(t.latitude=h.latitude,t.longitude=h.longitude);const n=await fetch("http://localhost:3000/api/requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(t)}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to create request");l("/dashboard",{state:{message:"Shelter request submitted successfully!"}})}catch(t){d(t.message)}finally{c(!1)}}),className:"space-y-6",children:[z.jsx(Tt,{label:"Description",name:"description",type:"textarea",placeholder:"Describe your situation and what you need...",...f("description"),error:null==(e=y.description)?void 0:e.message,disabled:o,required:!0}),z.jsxs("div",{children:[z.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",z.jsx("span",{className:"text-red-500",children:"*"})]}),z.jsx(Ht,{value:x("locationInput"),onChange:e=>b("locationInput",e),onLocationSelect:e=>{m(e),e&&b("locationInput",e.locationInput)},placeholder:"Enter your current location or use GPS to get your location",disabled:o,required:!0}),y.locationInput&&z.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.locationInput.message})]}),z.jsx(Tt,{label:"Date Needed",name:"date",type:"date",...f("date"),error:null==(t=y.date)?void 0:t.message,disabled:o,required:!0}),z.jsx(It,{label:"Number of People",name:"numberOfPeople",value:x("numberOfPeople"),onChange:e=>b("numberOfPeople",parseInt(e.target.value)),options:[{value:1,label:"1 person"},{value:2,label:"2 people"},{value:3,label:"3 people"},{value:4,label:"4 people"},{value:5,label:"5 people"},{value:6,label:"6 people"},{value:7,label:"7 people"},{value:8,label:"8 people"},{value:9,label:"9 people"},{value:10,label:"10 people"}],error:null==(a=y.numberOfPeople)?void 0:a.message,disabled:o,required:!0}),z.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[z.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Important Information"}),z.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[z.jsx("li",{children:"• Your request will be visible to hosts in your area"}),z.jsx("li",{children:"• Hosts may contact you directly to offer assistance"}),z.jsx("li",{children:"• Please be honest about your situation and needs"}),z.jsx("li",{children:"• You can update or cancel your request at any time"})]})]}),z.jsxs("div",{className:"flex justify-end space-x-3",children:[z.jsx(At,{type:"button",variant:"outline",onClick:()=>l("/dashboard"),disabled:o,children:"Cancel"}),z.jsx(At,{type:"submit",loading:o,variant:"primary",children:"Submit Request"})]})]})]})})})]})})},sn=()=>{const{requestId:e}=l(),t=r(),{token:a}=H(),[s,i]=n.useState(!0),[o,c]=n.useState(!1),[u,d]=n.useState(""),[h,m]=n.useState(null),[f,p]=n.useState({description:"",locationInput:"",latitude:null,longitude:null,date:"",numberOfPeople:"",status:"PENDING"});n.useEffect(()=>{g()},[e]);const g=async()=>{var t;try{const n=await fetch(`http://localhost:3000/api/requests/${e}`,{headers:{Authorization:`Bearer ${a}`}});if(!n.ok)throw new Error("Failed to fetch request");const r=(await n.json()).request;m(r),p({description:r.description||"",locationInput:r.locationInput||"",latitude:r.latitude||null,longitude:r.longitude||null,date:r.date?r.date.split("T")[0]:"",numberOfPeople:(null==(t=r.numberOfPeople)?void 0:t.toString())||"",status:r.status||"PENDING"})}catch(n){d("Failed to load request details")}finally{i(!1)}},y=(e,t)=>{p(n=>({...n,[e]:t}))};return s?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading request details..."})]})}):h?z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{className:"bg-white shadow rounded-lg",children:[z.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[z.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Request"}),z.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your shelter request details"})]}),z.jsxs("form",{onSubmit:async n=>{n.preventDefault(),c(!0),d("");try{const n=await fetch(`http://localhost:3000/api/requests/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...f,numberOfPeople:parseInt(f.numberOfPeople),date:new Date(f.date).toISOString()})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to update request")}t("/dashboard",{state:{message:"Request updated successfully!"}})}catch(r){d(r.message)}finally{c(!1)}},className:"p-6 space-y-6",children:[u&&z.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:u}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),z.jsx("textarea",{value:f.description,onChange:e=>y("description",e.target.value),placeholder:"Describe your situation and any specific needs...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:4,required:!0})]}),z.jsx(Ht,{label:"Preferred Location",value:f.locationInput,onChange:e=>{p(t=>({...t,locationInput:e.input,latitude:e.latitude,longitude:e.longitude}))},placeholder:"Enter preferred location or use GPS",required:!0}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[z.jsx(Tt,{label:"Date Needed",type:"date",value:f.date,onChange:e=>y("date",e.target.value),min:(new Date).toISOString().split("T")[0],required:!0}),z.jsx(Tt,{label:"Number of People",type:"number",value:f.numberOfPeople,onChange:e=>y("numberOfPeople",e.target.value),placeholder:"1",min:"1",max:"20",required:!0})]}),z.jsx(It,{label:"Status",value:f.status,onChange:e=>y("status",e),options:[{value:"PENDING",label:"Pending"},{value:"COMPLETED",label:"Completed"}],required:!0}),z.jsxs("div",{className:"flex gap-4 pt-4",children:[z.jsx(At,{type:"submit",isLoading:o,className:"flex-1",children:"Update Request"}),z.jsx(At,{type:"button",variant:"secondary",onClick:()=>t("/dashboard"),className:"flex-1",children:"Cancel"})]})]})]})})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("p",{className:"text-red-600",children:"Request not found"}),z.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-4 text-primary-600 hover:text-primary-700",children:"Back to Dashboard"})]})})},ln=({request:e})=>{var t;if(!e)return null;const{seeker:n,locationInput:r,date:a,numberOfPeople:s,description:i}=e;return z.jsxs("div",{className:"flex-1 md:border-r md:pr-6 border-gray-200",children:[z.jsxs("div",{className:"flex items-center mb-4",children:[(null==n?void 0:n.profileImage1)?z.jsx("img",{src:n.profileImage1,alt:n.name,className:"w-12 h-12 rounded-full mr-4 object-cover shadow-sm"}):z.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-4",children:z.jsx("span",{className:"text-xl font-bold text-blue-600",children:(null==(t=null==n?void 0:n.name)?void 0:t.charAt(0).toUpperCase())||"S"})}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Surfer Request"}),z.jsxs("p",{className:"text-sm text-gray-500",children:["From: ",null==n?void 0:n.name]})]})]}),z.jsxs("div",{className:"text-sm text-gray-700 space-y-2 pl-3 border-l-2 border-blue-100",children:[z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"Location:"})," ",r]}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"Date:"})," ",(l=a,l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")]}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold text-gray-500",children:"People:"})," ",s]}),i&&z.jsxs("div",{className:"pt-1",children:[z.jsx("p",{className:"font-semibold text-gray-500",children:"Reason:"}),z.jsxs("p",{className:"text-gray-600 pl-2 text-sm italic",children:['"',i,'"']})]})]})]});var l},on=e=>e<=5?"text-green-600":e<=15?"text-yellow-600":"text-red-600",cn=({match:e,onContact:t,connectionStatus:n,connectionLoading:a})=>{const s=r();if(!e||!e.shelter)return null;const{shelter:i,distance:l,seeker:o}=e,c=a?{text:"Loading...",disabled:!0,className:"bg-gray-400"}:(null==n?void 0:n.connected)?{text:"Message Seeker",disabled:!1,className:"bg-green-600 hover:bg-green-700"}:"PENDING"===(null==n?void 0:n.status)?{text:"Request Sent",disabled:!0,className:"bg-gray-400"}:{text:"Request Connection",disabled:!1,className:"bg-blue-600 hover:bg-blue-700"};return z.jsxs("div",{className:"flex-1",children:[z.jsxs("div",{className:"flex items-center mb-2",children:[z.jsx("span",{className:"text-2xl mr-2",children:"🏠"}),z.jsx("h3",{className:"text-xl font-bold text-green-900",children:"Your Matching Shelter"})]}),z.jsxs("div",{className:"text-sm text-gray-700 space-y-1 mb-4",children:[z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold",children:"Shelter:"})," ",i.title]}),z.jsxs("p",{children:[z.jsx("span",{className:"font-semibold",children:"Location:"})," ",i.locationInput]}),z.jsxs("p",{className:`font-bold ${on(l)}`,children:["Distance: ",l," km"]})]}),z.jsxs("div",{className:"mt-auto pt-4 flex flex-col sm:flex-row gap-2",children:[z.jsx("button",{onClick:()=>t(e),disabled:c.disabled,className:`w-full sm:w-auto flex-1 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:cursor-not-allowed ${c.className}`,children:c.text}),z.jsx("button",{onClick:()=>s(`/user/${o.id}`),className:"w-full sm:w-auto flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300 text-sm font-medium transition-colors",children:"View Profile"})]})]})};delete v.Icon.Default.prototype._getIconUrl,v.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const un=new v.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),dn=new v.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),hn=new v.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),mn=({items:e,userLocation:t,searchRadiusKm:r})=>{const a=C();return n.useEffect(()=>{if(t){const e=[t.latitude,t.longitude],n=1e3*r/111e3,s=v.latLngBounds([[e[0]-n,e[1]-n],[e[0]+n,e[1]+n]]);a.fitBounds(s,{padding:[50,50]})}else if(e&&e.length>0){const t=v.latLngBounds(e.map(e=>[e.latitude,e.longitude]));a.fitBounds(t,{padding:[50,50]})}},[e,a,t,r]),null},fn=({shelters:e=[],requests:t=[],userRole:r,onMarkerClick:a,center:s=[31.7683,35.2137],zoom:i=8,userLocation:l,searchRadiusKm:o})=>{const c=n.useRef(),u=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return z.jsx("div",{className:"w-full h-[500px] rounded-lg overflow-hidden border border-gray-200",children:z.jsxs(w,{ref:c,center:s,zoom:i,style:{height:"100%",width:"100%"},className:"z-0",children:[z.jsx(N,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),z.jsx(mn,{items:[...e,...t],userLocation:l,searchRadiusKm:o}),e.map(e=>{var t,n,r;return z.jsx(j,{position:[e.latitude,e.longitude],icon:un,eventHandlers:{click:()=>a&&a(e,"shelter")},children:z.jsx(k,{children:z.jsxs("div",{className:"p-2",children:[z.jsx("h3",{className:"font-bold text-lg text-green-700",children:e.title}),z.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.locationInput}),z.jsxs("p",{className:"text-sm mb-1",children:[z.jsx("span",{className:"font-medium",children:"Available:"})," ",(n=e.availableFrom,r=e.availableTo,`${u(n)} - ${r?u(r):"Ongoing"}`)]}),z.jsxs("p",{className:"text-sm mb-1",children:[z.jsx("span",{className:"font-medium",children:"Capacity:"})," ",e.capacity," people"]}),e.tags&&e.tags.length>0&&z.jsxs("div",{className:"mb-2",children:[z.jsx("span",{className:"font-medium text-sm",children:"Tags:"}),z.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((t,n)=>z.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:t},`${e.id}-${t}-${n}`))})]}),z.jsx("p",{className:"text-sm text-gray-700 mt-2",children:e.description}),z.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200",children:z.jsxs("p",{className:"text-xs text-gray-500",children:["Host: ",(null==(t=e.host)?void 0:t.name)||"Unknown"]})})]})})},e.id)}),t.map(e=>{var t;const n=`${e.id}-${e.shelterId||"no-shelter"}`;return z.jsx(j,{position:[e.latitude,e.longitude],icon:dn,eventHandlers:{click:()=>a&&a({...e,id:n},"request")},children:z.jsx(k,{children:z.jsxs("div",{className:"p-2",children:[z.jsx("h3",{className:"font-bold text-lg text-red-700",children:"Shelter Request"}),z.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.locationInput}),z.jsxs("p",{className:"text-sm mb-1",children:[z.jsx("span",{className:"font-medium",children:"Date:"})," ",u(e.date)]}),z.jsxs("p",{className:"text-sm mb-1",children:[z.jsx("span",{className:"font-medium",children:"People:"})," ",e.numberOfPeople]}),z.jsx("p",{className:"text-sm text-gray-700 mt-2",children:e.description}),z.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200",children:z.jsxs("p",{className:"text-xs text-gray-500",children:["Seeker: ",(null==(t=e.seeker)?void 0:t.name)||"Unknown"]})})]})})},n)}),l&&z.jsxs(z.Fragment,{children:[z.jsx(j,{position:[l.latitude,l.longitude],icon:hn,children:z.jsx(k,{children:"Your Location"})}),o&&z.jsx(S,{center:[l.latitude,l.longitude],radius:1e3*o,pathOptions:{color:"#2563eb",weight:1,fillOpacity:0}})]})]})})},pn="https://shelter-surfing-production.up.railway.app",gn=()=>{const{user:e,token:t}=H(),a=r(),[s,i]=n.useState([]),[l,o]=n.useState([]),[c,u]=n.useState([]),[d,h]=n.useState(!0),[m,f]=n.useState(""),[p,g]=n.useState({maxDistance:5,minCapacity:1,tags:[]}),y=n.useRef({}),[x,b]=n.useState(null),{connectionStatus:v,connectionLoading:w}=Bt();n.useEffect(()=>{e?N():a("/login")},[e,a,p]);const N=async()=>{var n;h(!0),f("");try{if("SEEKER"===e.role){const e=await fetch(`${pn}/api/matches?maxDistance=${p.maxDistance}`,{headers:{Authorization:`Bearer ${t}`}}),r=await e.json();if(!e.ok)throw new Error(r.error||"Failed to fetch matches");i(r.data.matchesByRequest||[]),o(r.data.requests||[]);const a=[];null==(n=r.data.matchesByRequest)||n.forEach(e=>{var t;null==(t=e.matches)||t.forEach(e=>{a.push(e)})}),u(a)}else if("HOST"===e.role){const e=await fetch(`${pn}/api/matches/host?maxDistance=${p.maxDistance}`,{headers:{Authorization:`Bearer ${t}`}}),n=await e.json();if(!e.ok)throw new Error(n.error||"Failed to fetch matches");i(n.data.matches||[]),u(n.data.shelters||[]),o(n.data.matches||[])}}catch(jn){f(jn.message)}finally{h(!1)}},j=(e,n)=>{"shelter"===n?(async e=>{try{const n=await fetch(`${pn}/api/connections/check/${e.host.id}`,{headers:{Authorization:`Bearer ${t}`}}),r=await n.json();if(r.connected){const t=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;a(`/messages/${t}`,{state:{recipientId:e.host.id,recipientName:e.host.name}})}else if("PENDING"===r.status)alert("Connection request already pending. Please wait for approval.");else{const n=await fetch(`${pn}/api/connections`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({recipientId:e.host.id,message:`Hi ${e.host.name}, I'm interested in your shelter "${e.title}" in ${e.locationInput}.`})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to send connection request");alert("Connection request sent! You can message once approved.")}}catch(n){alert(`Error: ${n.message}`)}})(e):"request"===n&&(async e=>{try{const n=await fetch(`${pn}/api/connections/check/${e.seeker.id}`,{headers:{Authorization:`Bearer ${t}`}}),r=await n.json();if(r.connected){const t=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;a(`/messages/${t}`,{state:{recipientId:e.seeker.id,recipientName:e.seeker.name}})}else if("PENDING"===r.status)alert("Connection request already pending. Please wait for approval.");else{const n=await fetch(`${pn}/api/connections`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({recipientId:e.seeker.id,message:`Hi ${e.seeker.name}, I'm interested in your shelter request for ${e.locationInput} on ${k(e.date)}.`})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to send connection request");alert("Connection request sent! You can message once approved.")}}catch(n){alert(`Error: ${n.message}`)}})(e)},k=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e?z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"HOST"===e.role?"Matching Requests":"Available Shelters"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"HOST"===e.role?"Find people seeking shelter near your locations":"Find temporary shelter based on your requests"})]}),z.jsx("button",{onClick:()=>a("/dashboard"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Back to Dashboard"})]})}),z.jsxs("div",{className:"px-4 sm:px-0",children:[z.jsxs("div",{className:"bg-white shadow rounded-lg mb-6",children:[z.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:z.jsx("div",{className:"flex items-center justify-between",children:z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"})})}),z.jsx("div",{className:"p-6 space-y-4",children:z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Distance (km)"}),z.jsxs("select",{value:p.maxDistance,onChange:e=>g(t=>({...t,maxDistance:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[z.jsx("option",{value:3,children:"3 km"}),z.jsx("option",{value:5,children:"5 km"}),z.jsx("option",{value:10,children:"10 km"}),z.jsx("option",{value:15,children:"15 km"})]})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Capacity"}),z.jsxs("select",{value:p.minCapacity,onChange:e=>g(t=>({...t,minCapacity:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[z.jsx("option",{value:1,children:"1 person"}),z.jsx("option",{value:2,children:"2 people"}),z.jsx("option",{value:3,children:"3 people"}),z.jsx("option",{value:4,children:"4+ people"})]})]}),z.jsx("div",{className:"flex items-end",children:z.jsx("button",{onClick:N,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Apply Filters"})})]})})]}),z.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[z.jsx(fn,{shelters:"SEEKER"===e.role?c:[],requests:"HOST"===e.role?l:[],userRole:e.role,onMarkerClick:(t,n)=>{const r="HOST"===e.role?t.id+"-"+t.shelterId:t.id;b(r),y.current[r]&&y.current[r].scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>b(null),2e3)},userLocation:e.latitude&&e.longitude?{latitude:e.latitude,longitude:e.longitude}:null,searchRadiusKm:p.maxDistance}),z.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:[z.jsx("p",{children:"💡 Click on markers to scroll to the result below"}),z.jsx("p",{children:"🟢 Green markers: Shelters | 🔴 Red markers: Requests | 🔵 Blue: You"})]})]}),z.jsx("div",{className:"bg-white shadow rounded-lg mb-6",children:z.jsx("div",{className:"px-6 py-4",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"HOST"===e.role?`${s.length} Match${1!==s.length?"es":""} Found`:`${(s||[]).reduce((e,t)=>{var n;return e+((null==(n=null==t?void 0:t.matches)?void 0:n.length)||0)},0)} Shelters Found`}),z.jsxs("p",{className:"text-sm text-gray-600",children:["Showing results within ",p.maxDistance,"km"]})]}),z.jsx("div",{className:"text-sm text-gray-500",children:z.jsx("span",{children:"🟢 Shelters | 🔴 Requests"})})]})})}),m&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:m}),d?z.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading matches..."})]}):z.jsx("div",{className:"space-y-6",children:0===s.length?z.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[z.jsx("div",{className:"text-4xl mb-4",children:"🔍"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No matches found"}),z.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or expanding your search area."})]}):"HOST"===e.role?s.length>0?s.map(e=>{if(!e.shelter)return null;const t=`host-${e.id}-${e.shelter.id}`;return z.jsxs("div",{ref:e=>y.current[t]=e,className:"bg-white shadow-lg rounded-xl p-6 mb-6 border border-gray-200 flex flex-col md:flex-row md:items-stretch gap-6 transition-all duration-300 "+(x===t?"ring-4 ring-blue-400":""),children:[z.jsx(ln,{request:e}),z.jsx("div",{className:"hidden md:flex items-center justify-center px-4",children:z.jsx("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),void 0,z.jsx(cn,{match:e,onContact:()=>j(e,"request"),connectionStatus:(v||{})[e.seeker.id],connectionLoading:(w||{})[e.seeker.id]})]},t)}):z.jsx("p",{className:"text-center text-gray-500 py-8",children:"No matching requests found for your shelters."}):s.map((t,n)=>{var r;return z.jsxs("div",{className:"space-y-4",children:[z.jsx("div",{className:"bg-white shadow rounded-lg p-4 border-l-4 border-blue-500",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Your Request"}),z.jsxs("p",{className:"text-sm text-gray-600",children:[t.request.locationInput," • ",k(t.request.date)," • ",t.request.numberOfPeople," ",1===t.request.numberOfPeople?"person":"people"]})]}),z.jsxs("div",{className:"text-sm text-gray-500",children:[t.matchCount," matches found"]})]})}),z.jsx("div",{className:"space-y-4",children:null==(r=t.matches)?void 0:r.map(n=>{const r=`seeker-${t.request.id}-${n.id}`;return z.jsx("div",{ref:e=>y.current[r]=e,className:"transition-all duration-300 "+(x===r?"ring-4 ring-blue-400":""),children:z.jsx(Ft,{shelter:{...n,title:n.title||"Available Shelter",description:n.description||`Shelter available for ${n.capacity} people`,host:n.host,distance:Math.round(10*n.distance)/10},showActions:!0,showDistance:!0,onContact:()=>j(n,"shelter"),onViewDetails:()=>{return t=n,void("HOST"===e.role?alert(`Detailed view coming soon! You would see more details about ${t.description}.`):a(`/shelter/${t.id}`));var t}})},r)})})]},`group-${t.id||n}`)})})]})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600",children:"Please log in to view matches."})]})})},yn="https://shelter-surfing-production.up.railway.app",xn=()=>{const{user:e,token:t}=H(),{isConnected:i,joinConversation:o,leaveConversation:c,sendTyping:u,sendStopTyping:d,typingUsers:h}=gt(),{refreshCounts:m}=bt(),f=r(),{conversationId:p}=l(),g=a(),[y,x]=n.useState([]),[b,v]=n.useState([]),[w,N]=n.useState(null),[j,k]=n.useState(""),[S,C]=n.useState(!0),[E,_]=n.useState(!1),[P,T]=n.useState(""),A=n.useRef(null),L=n.useRef(null);n.useEffect(()=>{e?I():f("/login")},[e,f]),n.useEffect(()=>{var e,t;return p&&(o(p),(null==(e=g.state)?void 0:e.recipientId)&&(null==(t=g.state)?void 0:t.recipientName)?(N({conversationId:p,otherUser:{id:g.state.recipientId,name:g.state.recipientName}}),f(`/messages/${p}`,{replace:!0})):R(p)),()=>{p&&c(p)}},[p,g.state,f,o,c]),n.useEffect(()=>{O()},[b]),n.useEffect(()=>{b.length>0&&m()},[b,m]);const O=()=>{var e;null==(e=A.current)||e.scrollIntoView({behavior:"smooth"})},I=async()=>{C(!0),T("");try{const e=await fetch(`${yn}/api/messages/conversations`,{headers:{Authorization:`Bearer ${t}`}}),n=await e.json();if(!e.ok)throw new Error(n.error||"Failed to fetch conversations");x(n.data.conversations||[])}catch(jn){T(jn.message)}finally{C(!1)}},R=async e=>{try{const n=await fetch(`${yn}/api/messages/${e}`,{headers:{Authorization:`Bearer ${t}`}}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to fetch messages");v(r.data.messages||[]);const a=y.find(t=>t.conversationId===e);N(a)}catch(jn){T(jn.message)}},D=e=>{const t=new Date(e);return(new Date-t)/36e5<24?t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})},B=h[p]&&h[p]!==e.id;return e?z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[z.jsx("div",{className:"px-4 py-6 sm:px-0",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),z.jsxs("p",{className:"mt-2 text-gray-600",children:["Communicate with hosts and seekers",!i&&z.jsx("span",{className:"ml-2 text-sm text-red-600",children:"(Connecting...)"})]})]}),z.jsx(At,{onClick:()=>f("/dashboard"),variant:"outline",children:"← Back to Dashboard"})]})}),z.jsxs("div",{className:"px-4 sm:px-0",children:[P&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:P}),z.jsx("div",{className:"bg-white shadow rounded-lg",children:z.jsxs("div",{className:"flex h-96",children:[z.jsxs("div",{className:"w-1/3 border-r border-gray-200",children:[z.jsx("div",{className:"p-4 border-b border-gray-200",children:z.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Conversations"})}),S?z.jsxs("div",{className:"p-4 text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),z.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading conversations..."})]}):0===y.length?z.jsxs("div",{className:"p-4 text-center",children:[z.jsx("div",{className:"text-4xl mb-2",children:"💬"}),z.jsx("p",{className:"text-gray-600",children:"No conversations yet"}),z.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start a conversation from a shelter match or request"})]}):z.jsx("div",{className:"overflow-y-auto h-full",children:y.map(e=>z.jsx("div",{onClick:()=>f(`/messages/${e.conversationId}`),className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors "+(p===e.conversationId?"bg-blue-50":""),children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-sm font-bold text-blue-600",children:e.otherUser.name.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("p",{className:"font-medium text-gray-900",children:e.otherUser.name}),z.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.lastMessage.text})]})]}),z.jsxs("div",{className:"text-right",children:[z.jsx("p",{className:"text-xs text-gray-500",children:D(e.lastMessage.createdAt)}),e.unreadCount>0&&z.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-blue-600 rounded-full",children:e.unreadCount})]})]})},e.conversationId))})]}),z.jsx("div",{className:"flex-1 flex flex-col",children:p&&(null==w?void 0:w.otherUser)?z.jsxs(z.Fragment,{children:[z.jsx(s,{to:`/user/${w.otherUser.id}`,className:"block p-4 border-b border-gray-200 hover:bg-gray-50 transition-colors",children:z.jsxs("div",{className:"flex items-center space-x-3",children:[z.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center shadow-sm",children:z.jsx("span",{className:"text-lg font-bold text-blue-600",children:w.otherUser.name.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("h3",{className:"font-medium text-gray-900",children:w.otherUser.name}),z.jsx("p",{className:"text-sm text-gray-500",children:"Click to view profile"})]})]})}),z.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[b.map(t=>z.jsx("div",{className:"flex "+(t.senderId===e.id?"justify-end":"justify-start"),children:z.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+(t.senderId===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[z.jsx("p",{className:"text-sm",children:t.text}),z.jsx("p",{className:"text-xs mt-1 "+(t.senderId===e.id?"text-blue-100":"text-gray-500"),children:D(t.createdAt)})]})},t.id)),B&&z.jsx("div",{className:"flex justify-start",children:z.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:z.jsxs("p",{className:"text-sm italic text-gray-500",children:[null==w?void 0:w.otherUser.name," is typing..."]})})}),z.jsx("div",{ref:A})]}),z.jsx("div",{className:"p-4 border-t border-gray-200",children:z.jsxs("form",{onSubmit:async e=>{var n;if(e.preventDefault(),j.trim()&&p){_(!0),T(""),(null==(n=null==w?void 0:w.otherUser)?void 0:n.id)&&d(w.otherUser.id,p);try{const e=await fetch(`${yn}/api/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({recipientId:w.otherUser.id,text:j.trim(),conversationId:p})}),n=await e.json();if(!e.ok)throw new Error(n.error||"Failed to send message");v(e=>[...e,n.data.message]),k(""),I()}catch(jn){T(jn.message)}finally{_(!1)}}},className:"flex space-x-2",children:[z.jsx("input",{type:"text",value:j,onChange:e=>{var t;k(e.target.value),(null==(t=null==w?void 0:w.otherUser)?void 0:t.id)&&(u(w.otherUser.id,p),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{d(w.otherUser.id,p)},1e3))},placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E}),z.jsx(At,{type:"submit",loading:E,disabled:!j.trim(),variant:"primary",children:"Send"})]})})]}):z.jsx("div",{className:"flex-1 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"text-6xl mb-4",children:"💬"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),z.jsx("p",{className:"text-gray-600",children:"Choose a conversation from the sidebar to start messaging"})]})})})]})})]})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),z.jsx("p",{className:"text-gray-600",children:"Please log in to view messages."})]})})},bn="https://shelter-surfing-production.up.railway.app",vn=()=>{const{token:e}=H(),t=r(),{refreshCounts:a}=bt(),[s,i]=n.useState([]),[l,o]=n.useState(!0),[c,u]=n.useState("");n.useEffect(()=>{d()},[]),n.useEffect(()=>{s.length>0&&a()},[s,a]);const d=async()=>{try{const t=await fetch(`${bn}/api/connections/requests`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch connection requests");const n=await t.json();i(n.connections)}catch(t){u("Failed to load connection requests")}finally{o(!1)}};return l?z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),z.jsx("p",{className:"mt-4 text-gray-600",children:"Loading connection requests..."})]})}):z.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:z.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[z.jsxs("div",{className:"mb-8",children:[z.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Connection Requests"}),z.jsx("p",{className:"mt-2 text-gray-600",children:"Review and respond to connection requests from other users"})]}),c&&z.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:c}),0===s.length?z.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[z.jsx("div",{className:"text-4xl mb-4",children:"📬"}),z.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No connection requests"}),z.jsx("p",{className:"text-gray-600",children:"You don't have any pending connection requests at the moment."})]}):z.jsx("div",{className:"space-y-4",children:s.map(n=>{return z.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[z.jsxs("div",{className:"flex items-start justify-between",children:[z.jsxs("div",{className:"flex items-center space-x-4",children:[z.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:z.jsx("span",{className:"text-lg font-bold text-blue-600",children:n.requester.name.charAt(0).toUpperCase()})}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n.requester.name}),z.jsx("p",{className:"text-sm text-gray-500",children:n.requester.email}),z.jsxs("p",{className:"text-sm text-gray-500",children:[n.requester.role.toLowerCase()," • ",n.requester.locationInput]}),z.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Requested ",(r=n.createdAt,new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]})]})]}),z.jsxs("div",{className:"flex space-x-2",children:[z.jsx(At,{onClick:()=>(async(n,r,a)=>{try{if(!(await fetch(`${bn}/api/connections/${n}/approve`,{method:"PUT",headers:{Authorization:`Bearer ${e}`}})).ok)throw new Error("Failed to approve connection");i(s.filter(e=>e.id!==n));const l=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;t(`/messages/${l}`,{state:{recipientId:r,recipientName:a}})}catch(l){u("Failed to approve connection")}})(n.id,n.requester.id,n.requester.name),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),z.jsx(At,{onClick:()=>(async t=>{try{if(!(await fetch(`${bn}/api/connections/${t}/reject`,{method:"PUT",headers:{Authorization:`Bearer ${e}`}})).ok)throw new Error("Failed to reject connection");i(s.filter(e=>e.id!==t))}catch(n){u("Failed to reject connection")}})(n.id),variant:"secondary",className:"bg-red-600 hover:bg-red-700 text-white",children:"Reject"})]})]}),n.message&&z.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-md",children:z.jsxs("p",{className:"text-sm text-gray-700",children:[z.jsx("span",{className:"font-medium",children:"Message:"})," ",n.message]})})]},n.id);var r})})]})})},wn=()=>z.jsx("div",{className:"min-h-screen bg-gray-50",children:z.jsxs("div",{className:"container mx-auto px-4 py-8",children:[z.jsx("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-8",children:"🏠 Shelter Surfing"}),z.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Connecting shelter hosts with seekers in need"}),z.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Welcome to Shelter Surfing"}),z.jsx("p",{className:"text-gray-600 mb-4",children:"This platform helps connect people offering temporary shelter with those seeking a place to stay."}),z.jsxs("div",{className:"flex gap-4",children:[z.jsx("a",{href:"/register",className:"flex-1 bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 transition-colors text-center",children:"I Need Shelter"}),z.jsx("a",{href:"/register",className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors text-center",children:"Offer Shelter"})]})]})]})});function Nn(){return z.jsx(V,{children:z.jsx(yt,{children:z.jsx(o,{children:z.jsxs("div",{className:"min-h-screen bg-gray-50",children:[z.jsx(wt,{}),z.jsx(Nt,{}),z.jsxs(c,{children:[z.jsx(u,{path:"/",element:z.jsx(wn,{})}),z.jsx(u,{path:"/login",element:z.jsx(Ot,{})}),z.jsx(u,{path:"/register",element:z.jsx(Rt,{})}),z.jsx(u,{path:"/dashboard",element:z.jsx(jt,{children:z.jsx($t,{})})}),z.jsx(u,{path:"/profile",element:z.jsx(jt,{children:z.jsx(Qt,{})})}),z.jsx(u,{path:"/user/:userId",element:z.jsx(jt,{children:z.jsx(Jt,{})})}),z.jsx(u,{path:"/shelter/new",element:z.jsx(jt,{children:z.jsx(Xt,{})})}),z.jsx(u,{path:"/shelter/:shelterId",element:z.jsx(jt,{children:z.jsx(tn,{})})}),z.jsx(u,{path:"/shelter/:shelterId/edit",element:z.jsx(jt,{children:z.jsx(Zt,{})})}),z.jsx(u,{path:"/request/new",element:z.jsx(jt,{children:z.jsx(an,{})})}),z.jsx(u,{path:"/request/:requestId/edit",element:z.jsx(jt,{children:z.jsx(sn,{})})}),z.jsx(u,{path:"/matches",element:z.jsx(jt,{children:z.jsx(gn,{})})}),z.jsx(u,{path:"/messages",element:z.jsx(jt,{children:z.jsx(xn,{})})}),z.jsx(u,{path:"/messages/:conversationId",element:z.jsx(jt,{children:z.jsx(xn,{})})}),z.jsx(u,{path:"/connections/requests",element:z.jsx(jt,{children:z.jsx(vn,{})})}),z.jsx(u,{path:"*",element:z.jsx(i,{to:"/",replace:!0})})]})]})})})})}$.createRoot(document.getElementById("root")).render(z.jsx(n.StrictMode,{children:z.jsx(Nn,{})}));
//# sourceMappingURL=index-C0b0Hj58.js.map
